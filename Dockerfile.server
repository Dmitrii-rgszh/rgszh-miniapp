FROM python:3.11-alpine

WORKDIR /app

# Копируем файл зависимостей (если ваш requirements.txt лежит в папке server, укажите путь server/requirements.txt)
COPY server/requirements.txt ./requirements.txt
RUN pip install --no-cache-dir -r requirements.txt

# Копируем весь код сервера
COPY . .

# Открываем порт, на котором слушает ваш Flask‑/FastAPI‑приложение
EXPOSE 5000

# 4) Запускаем сервер через gunicorn
CMD ["gunicorn", "--bind", "0.0.0.0:5000", "server:app"]