/* index.css - ОБНОВЛЕННАЯ ВЕРСИЯ с полной поддержкой Safe Area */

/* ===== RESET И ГЛОБАЛЬНЫЕ СТИЛИ ===== */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* ===== ПОЛНОЕ ПОКРЫТИЕ SAFE AREA ===== */
html {
  width: 100%;
  height: 100%;
  /* ✅ Фон покрывает всю область включая Safe Area */
  background: transparent;
  
  /* ✅ Поддержка Safe Area для всех браузеров */
  padding-top: env(safe-area-inset-top, 0px);
  padding-bottom: env(safe-area-inset-bottom, 0px);
  padding-left: env(safe-area-inset-left, 0px);
  padding-right: env(safe-area-inset-right, 0px);
  
  /* ✅ Альтернативная поддержка для старых браузеров */
  padding-top: constant(safe-area-inset-top, 0px);
  padding-bottom: constant(safe-area-inset-bottom, 0px);
  padding-left: constant(safe-area-inset-left, 0px);
  padding-right: constant(safe-area-inset-right, 0px);
}

body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  background: transparent;
  
  /* ✅ Основной шрифт */
  font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, 'Roboto', sans-serif;
  
  /* ✅ Отключаем overscroll и zoom на мобильных */
  overscroll-behavior: none;
  -webkit-overflow-scrolling: touch;
  touch-action: manipulation;
  
  /* ✅ Отключаем выделение текста */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
  
  /* ✅ Сглаживание шрифтов */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ===== ROOT КОНТЕЙНЕР ===== */
#root {
  width: 100vw;
  height: 100vh;
  margin: 0;
  padding: 0;
  background: transparent;
  overflow: hidden;
  position: relative;
}

/* ===== ГЛОБАЛЬНЫЕ CSS ПЕРЕМЕННЫЕ ДЛЯ SAFE AREA ===== */
:root {
  --safe-area-top: env(safe-area-inset-top, 0px);
  --safe-area-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-left: env(safe-area-inset-left, 0px);
  --safe-area-right: env(safe-area-inset-right, 0px);
  
  /* ✅ Корпоративные цвета */
  --color-red-primary: rgb(180, 0, 55);
  --color-red-secondary: rgb(153, 0, 55);
  --color-gray-primary: rgb(152, 164, 174);
  --color-gray-secondary: rgb(118, 143, 146);
  --color-blue-primary: rgb(0, 40, 130);
  --color-blue-secondary: rgb(0, 32, 104);
}

/* ===== УТИЛИТАРНЫЕ КЛАССЫ ДЛЯ SAFE AREA ===== */
.safe-top { 
  margin-top: var(--safe-area-top) !important; 
}
.safe-top-padding { 
  padding-top: var(--safe-area-top) !important; 
}
.safe-bottom { 
  margin-bottom: var(--safe-area-bottom) !important; 
}
.safe-bottom-padding { 
  padding-bottom: var(--safe-area-bottom) !important; 
}
.safe-left { 
  margin-left: var(--safe-area-left) !important; 
}
.safe-left-padding { 
  padding-left: var(--safe-area-left) !important; 
}
.safe-right { 
  margin-right: var(--safe-area-right) !important; 
}
.safe-right-padding { 
  padding-right: var(--safe-area-right) !important; 
}

/* ===== КРОССБРАУЗЕРНАЯ ПОДДЕРЖКА SAFE AREA ===== */

/* Safari iOS */
@supports (padding: max(0px)) {
  html {
    padding-top: max(env(safe-area-inset-top, 0px), 0px) !important;
    padding-bottom: max(env(safe-area-inset-bottom, 0px), 0px) !important;
    padding-left: max(env(safe-area-inset-left, 0px), 0px) !important;
    padding-right: max(env(safe-area-inset-right, 0px), 0px) !important;
  }
}

/* Chrome Android */
@supports (padding: env(safe-area-inset-top)) {
  body {
    padding-top: env(safe-area-inset-top, 0px) !important;
    padding-bottom: env(safe-area-inset-bottom, 0px) !important;
    padding-left: env(safe-area-inset-left, 0px) !important;
    padding-right: env(safe-area-inset-right, 0px) !important;
  }
}

/* Старые браузеры с constant() */
@supports (padding: constant(safe-area-inset-top)) {
  html {
    padding-top: constant(safe-area-inset-top) !important;
    padding-bottom: constant(safe-area-inset-bottom) !important;
    padding-left: constant(safe-area-inset-left) !important;
    padding-right: constant(safe-area-inset-right) !important;
  }
}

/* ===== СПЕЦИАЛЬНЫЕ СТИЛИ ДЛЯ TELEGRAM MINIAPP ===== */

/* Telegram WebApp на iOS */
@media screen and (device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) {
  html {
    padding-top: env(safe-area-inset-top, 50px) !important;
  }
}

/* Telegram WebApp на Android */
@media screen and (min-device-width: 360px) and (max-device-width: 430px) {
  html {
    padding-top: env(safe-area-inset-top, 24px) !important;
  }
}

/* ===== ОТКЛЮЧЕНИЕ НЕЖЕЛАТЕЛЬНОГО ПОВЕДЕНИЯ ===== */

/* Отключаем выделение текста глобально */
* {
  -webkit-touch-callout: none !important;
  -webkit-user-select: none !important;
  user-select: none !important;
}

/* Разрешаем выделение только для input полей */
input, textarea {
  -webkit-user-select: text !important;
  user-select: text !important;
}

/* Отключаем zoom при фокусе на input на iOS */
input[type="text"], 
input[type="email"], 
input[type="tel"], 
textarea {
  font-size: 16px !important;
}

/* Отключаем автофокус на мобильных */
@media (pointer: coarse) {
  input, textarea, select {
    font-size: 16px !important;
  }
}

/* ===== СКРОЛЛБАР СТИЛИ (для элементов с overflow) ===== */
::-webkit-scrollbar {
  width: 4px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.1);
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.3);
  border-radius: 2px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.5);
}

/* ======================================
   ГЛОБАЛЬНОЕ УДАЛЕНИЕ ГОЛУБОГО OUTLINE
   ====================================== */
* {
  -webkit-tap-highlight-color: transparent !important;
}

*:focus {
  outline: none !important;
  outline-width: 0 !important;
  outline-color: transparent !important;
  box-shadow: none !important;
}

*:focus-visible {
  outline: none !important;
}

/* Специально для input элементов */
input:focus,
input:focus-visible,
textarea:focus,
textarea:focus-visible,
select:focus,
select:focus-visible {
  outline: none !important;
  outline-offset: 0 !important;
}

/* Для кнопок */
button:focus,
button:focus-visible {
  outline: none !important;
}

/* Убираем выделение при тапе на мобильных устройствах */
input,
textarea,
button,
select,
a {
  -webkit-tap-highlight-color: transparent !important;
  -webkit-touch-callout: none !important;
}