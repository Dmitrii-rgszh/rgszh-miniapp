{"ast":null,"code":"// src/MainMenu.js\nimport React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{motion,AnimatePresence}from'framer-motion';import'./Styles/global.css';// шрифт Montserrat, сбросы\nimport'./Styles/background.css';// градиент, шум, subtle-dot, pi-иконка\nimport'./Styles/logo.css';// стили логотипа (позиционирование)\nimport'./Styles/Buttons.css';// базовые стили кнопок\nimport backgroundImage from'./components/background.png';import logoImage from'./components/logo.png';import piImage from'./components/pi.png';// Универсальные variants (можно вынести в отдельный файл,\n// чтобы переиспользовать на других страницах)\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const logoVariants={initial:{y:-200,opacity:0},animate:{y:110,opacity:1,transition:{duration:0.8,ease:'easeOut'}},exit:{y:-200,opacity:0,transition:{duration:0.6,ease:'easeIn'}}};const buttonsContainerVariants={initial:{},animate:{transition:{staggerChildren:0.1,// каждую кнопку с задержкой 0.1 с\nwhen:'beforeChildren'}},exit:{transition:{staggerChildren:0.1,// при exit кнопки «улетают» по очереди\nstaggerDirection:-1,// в обратном порядке\nwhen:'afterChildren'}}};const buttonVariants={initial:{y:50,opacity:0},animate:{y:0,opacity:1,transition:{duration:0.5,ease:'easeOut'}},exit:{y:50,opacity:0,transition:{duration:0.4,ease:'easeIn'}}};export default function MainMenu(){const navigate=useNavigate();const[isExiting,setIsExiting]=useState(false);// Рандомные длительности для pi-иконки\nconst[moveDuration,setMoveDuration]=useState('70s');const[rotateDuration,setRotateDuration]=useState('6s');useEffect(()=>{// Генерируем рандомные длительности только один раз\nconst rndMove=Math.random()*(90-50)+50;// [50,90]\nconst rndRot=Math.random()*(8-4)+4;// [4,8]\nsetMoveDuration(`${rndMove.toFixed(2)}s`);setRotateDuration(`${rndRot.toFixed(2)}s`);},[]);// Если пользователь кликает на кнопку, сначала запускаем exit-анимацию,\n// а через 600 мс (после всех exit-анимаций) — навигацию\nconst handleButtonClick=route=>{if(isExiting)return;// чтобы двойной клик не ломал логику\nsetIsExiting(true);setTimeout(()=>{navigate(route);},600);// 0.6s ≈ exit-анимация логотипа + кнопок\n};// Верстка\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"mainmenu-container\",style:{backgroundImage:`url(${backgroundImage})`},children:[/*#__PURE__*/_jsx(\"div\",{className:\"subtle-dot dot-1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtle-dot dot-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtle-dot dot-3\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtle-dot dot-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtle-dot dot-5\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtle-dot dot-6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtle-dot dot-7\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtle-dot dot-8\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtle-dot dot-9\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtle-dot dot-10\"}),/*#__PURE__*/_jsx(\"div\",{className:\"pi-wrapper\",style:{'--pi-move-duration':moveDuration},children:/*#__PURE__*/_jsx(\"img\",{src:piImage,className:\"pi-fly\",alt:\"Pi\",style:{'--pi-rotate-duration':rotateDuration}})}),/*#__PURE__*/_jsx(\"div\",{className:\"mainmenu-overlay\"}),/*#__PURE__*/_jsx(AnimatePresence,{children:!isExiting&&/*#__PURE__*/_jsx(motion.div,{className:\"logo-wrapper\",variants:logoVariants,initial:\"initial\",animate:\"animate\",exit:\"exit\",style:{zIndex:10},children:/*#__PURE__*/_jsx(\"img\",{src:logoImage,alt:\"\\u041B\\u043E\\u0433\\u043E\\u0442\\u0438\\u043F \\u0420\\u0413\\u0421 \\u0416\\u0438\\u0437\\u043D\\u044C\",className:\"logo-image\"})})}),/*#__PURE__*/_jsx(motion.div,{className:\"button-container\",variants:buttonsContainerVariants,initial:\"initial\",animate:isExiting?'exit':'animate',children:[{to:'/polls',label:'Опросы'},{to:'/employee',label:'Сотруднику'}].map((btn,idx)=>/*#__PURE__*/_jsx(motion.button,{className:\"btn-custom\",variants:buttonVariants,onClick:()=>handleButtonClick(btn.to),children:btn.label},idx))})]});}","map":{"version":3,"names":["React","useState","useEffect","useNavigate","motion","AnimatePresence","backgroundImage","logoImage","piImage","jsx","_jsx","jsxs","_jsxs","logoVariants","initial","y","opacity","animate","transition","duration","ease","exit","buttonsContainerVariants","staggerChildren","when","staggerDirection","buttonVariants","MainMenu","navigate","isExiting","setIsExiting","moveDuration","setMoveDuration","rotateDuration","setRotateDuration","rndMove","Math","random","rndRot","toFixed","handleButtonClick","route","setTimeout","className","style","children","src","alt","div","variants","zIndex","to","label","map","btn","idx","button","onClick"],"sources":["C:/Users/shapeless/Desktop/miniapp/src/MainMenu.js"],"sourcesContent":["// src/MainMenu.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useNavigate }           from 'react-router-dom';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\nimport './Styles/global.css';      // шрифт Montserrat, сбросы\r\nimport './Styles/background.css';  // градиент, шум, subtle-dot, pi-иконка\r\nimport './Styles/logo.css';        // стили логотипа (позиционирование)\r\nimport './Styles/Buttons.css';     // базовые стили кнопок\r\n\r\nimport backgroundImage from './components/background.png';\r\nimport logoImage       from './components/logo.png';\r\nimport piImage         from './components/pi.png';\r\n\r\n// Универсальные variants (можно вынести в отдельный файл,\r\n// чтобы переиспользовать на других страницах)\r\nconst logoVariants = {\r\n  initial: { y: -200, opacity: 0 },\r\n  animate: { y: 110, opacity: 1, transition: { duration: 0.8, ease: 'easeOut' } },\r\n  exit:    { y: -200, opacity: 0, transition: { duration: 0.6, ease: 'easeIn' } },\r\n};\r\n\r\nconst buttonsContainerVariants = {\r\n  initial: {},\r\n  animate: {\r\n    transition: {\r\n      staggerChildren: 0.1,     // каждую кнопку с задержкой 0.1 с\r\n      when: 'beforeChildren',\r\n    },\r\n  },\r\n  exit: {\r\n    transition: {\r\n      staggerChildren: 0.1,     // при exit кнопки «улетают» по очереди\r\n      staggerDirection: -1,     // в обратном порядке\r\n      when: 'afterChildren',\r\n    },\r\n  },\r\n};\r\n\r\nconst buttonVariants = {\r\n  initial:   { y:  50, opacity: 0 },\r\n  animate:   { y:   0, opacity: 1, transition: { duration: 0.5, ease: 'easeOut' } },\r\n  exit:      { y:  50, opacity: 0, transition: { duration: 0.4, ease: 'easeIn' } },\r\n};\r\n\r\nexport default function MainMenu() {\r\n  const navigate = useNavigate();\r\n  const [isExiting, setIsExiting] = useState(false);\r\n\r\n  // Рандомные длительности для pi-иконки\r\n  const [moveDuration, setMoveDuration]     = useState('70s');\r\n  const [rotateDuration, setRotateDuration] = useState('6s');\r\n\r\n  useEffect(() => {\r\n    // Генерируем рандомные длительности только один раз\r\n    const rndMove = Math.random() * (90 - 50) + 50; // [50,90]\r\n    const rndRot  = Math.random() * (8 - 4)  + 4;  // [4,8]\r\n    setMoveDuration(`${rndMove.toFixed(2)}s`);\r\n    setRotateDuration(`${rndRot.toFixed(2)}s`);\r\n  }, []);\r\n\r\n  // Если пользователь кликает на кнопку, сначала запускаем exit-анимацию,\r\n  // а через 600 мс (после всех exit-анимаций) — навигацию\r\n  const handleButtonClick = (route) => {\r\n    if (isExiting) return;       // чтобы двойной клик не ломал логику\r\n    setIsExiting(true);\r\n    setTimeout(() => {\r\n      navigate(route);\r\n    }, 600); // 0.6s ≈ exit-анимация логотипа + кнопок\r\n  };\r\n\r\n  // Верстка\r\n  return (\r\n    <div\r\n      className=\"mainmenu-container\"\r\n      style={{ backgroundImage: `url(${backgroundImage})` }}\r\n    >\r\n      {/* 10 «едва заметных» шариков (subtle-dot) и pi-иконка */}\r\n      <div className=\"subtle-dot dot-1\"  />\r\n      <div className=\"subtle-dot dot-2\"  />\r\n      <div className=\"subtle-dot dot-3\"  />\r\n      <div className=\"subtle-dot dot-4\"  />\r\n      <div className=\"subtle-dot dot-5\"  />\r\n      <div className=\"subtle-dot dot-6\"  />\r\n      <div className=\"subtle-dot dot-7\"  />\r\n      <div className=\"subtle-dot dot-8\"  />\r\n      <div className=\"subtle-dot dot-9\"  />\r\n      <div className=\"subtle-dot dot-10\" />\r\n\r\n      <div className=\"pi-wrapper\" style={{ '--pi-move-duration': moveDuration }}>\r\n        <img\r\n          src={piImage}\r\n          className=\"pi-fly\"\r\n          alt=\"Pi\"\r\n          style={{ '--pi-rotate-duration': rotateDuration }}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"mainmenu-overlay\" />\r\n\r\n      {/* На AnimatePresence мы оборачиваем те элементы,\r\n          которые должны иметь exit-анимацию */}\r\n      <AnimatePresence>\r\n        {!isExiting && (\r\n          <motion.div\r\n            className=\"logo-wrapper\"\r\n            variants={logoVariants}\r\n            initial=\"initial\"\r\n            animate=\"animate\"\r\n            exit=\"exit\"\r\n            style={{ zIndex: 10 }}\r\n          >\r\n            <img\r\n              src={logoImage}\r\n              alt=\"Логотип РГС Жизнь\"\r\n              className=\"logo-image\"\r\n            />\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Контейнер кнопок */}\r\n      <motion.div\r\n        className=\"button-container\"\r\n        variants={buttonsContainerVariants}\r\n        initial=\"initial\"\r\n        animate={isExiting ? 'exit' : 'animate'}\r\n      >\r\n        {[\r\n          { to: '/polls',    label: 'Опросы'    },\r\n          { to: '/employee', label: 'Сотруднику' },\r\n        ].map((btn, idx) => (\r\n          <motion.button\r\n            key={idx}\r\n            className=\"btn-custom\"\r\n            variants={buttonVariants}\r\n            onClick={() => handleButtonClick(btn.to)}\r\n          >\r\n            {btn.label}\r\n          </motion.button>\r\n        ))}\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}