{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import mainmenuIcon from'./components/icons/mainmenu.png';import logoImage from'./components/logo.png';import backgroundImage from'./components/background.png';import DateWheelPicker from'./DateWheelPicker';import'./SNPPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SNPPage(){const navigate=useNavigate();// Состояния\nconst[birthDateParts,setBirthDateParts]=useState({day:null,month:null,year:null});const[birthDate,setBirthDate]=useState(null);const[gender,setGender]=useState(null);// теперь \"мужской\" или \"женский\"\nconst[calcType,setCalcType]=useState(null);const[amount,setAmount]=useState('');const[amountError,setAmountError]=useState('');const[isProcessing,setIsProcessing]=useState(false);const[resultData,setResultData]=useState(null);// Параметры программы\nconst term=5;const periodicity='ежегодно';const currency='рублей';// Собираем настоящий Date из birthDateParts\nuseEffect(()=>{const{day,month,year}=birthDateParts;if(day&&month&&year){const d=Number(day),m=Number(month),y=Number(year);const dt=new Date(y,m-1,d);if(!isNaN(dt.getTime())&&dt.getDate()===d&&dt.getMonth()+1===m&&dt.getFullYear()===y){setBirthDate(dt);}else{setBirthDate(null);}}else{setBirthDate(null);}},[birthDateParts]);// Формат суммы \"1234567\" → \"1.234.567\"\nconst formatSum=raw=>{let digits=raw.replace(/\\D/g,'');if(!digits)return'';let out='';while(digits.length>3){out='.'+digits.slice(-3)+out;digits=digits.slice(0,-3);}return digits+out;};// Обработчик ввода суммы\nconst handleAmountChange=e=>{const fmt=formatSum(e.target.value);setAmount(fmt);const num=parseInt(fmt.replace(/\\./g,''),10)||0;if(calcType==='premium'){setAmountError(num<60000?'Введите сумму от 60 000 ₽':'');}else if(calcType==='sum'){setAmountError(num<450000?'Введите сумму от 450 000 ₽':'');}};// Точный расчёт возраста\nconst getAge=date=>{if(!(date instanceof Date))return 0;const today=new Date();let age=today.getFullYear()-date.getFullYear();const m=today.getMonth()-date.getMonth();if(m<0||m===0&&today.getDate()<date.getDate())age--;return age;};// Проверяем, активна ли кнопка \"Далее\"\nconst canGoNext=()=>birthDate instanceof Date&&!isNaN(birthDate.getTime())&&gender&&calcType&&amount&&!amountError&&getAge(birthDate)>=18;// Отправляем данные на сервер\nconst handleNext=async()=>{if(!canGoNext())return;const dateRu=birthDate.toLocaleDateString('ru-RU',{day:'2-digit',month:'2-digit',year:'numeric'});const age=getAge(birthDate);const payload={birthdate:dateRu,age,gender,// \"мужской\" или \"женский\"\npayment:calcType==='premium'?'Страхового взноса':'Страховой суммы',sum:parseInt(amount.replace(/\\./g,''),10)};setIsProcessing(true);try{const res=await fetch('/api/snp/save',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});const data=await res.json();if(res.ok)setResultData(data);else console.error('Сервер вернул ошибку:',data);}catch(err){console.error('Ошибка запроса:',err);}setIsProcessing(false);};// Текущая дата расчёта\nconst todayStr=new Date().toLocaleDateString('ru-RU',{day:'2-digit',month:'2-digit',year:'numeric'});return/*#__PURE__*/_jsxs(\"div\",{className:\"snp-container\",style:{backgroundImage:`url(${backgroundImage})`},children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-container\",children:/*#__PURE__*/_jsx(\"img\",{src:logoImage,alt:\"Logo\",className:\"logo-image\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"snp-title\",children:\"\\u0420\\u0430\\u0441\\u0447\\u0451\\u0442 \\u043F\\u043E \\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0435 \\\"\\u0421\\u0442\\u0440\\u0430\\u0442\\u0435\\u0433\\u0438\\u044F \\u043D\\u0430 \\u043F\\u044F\\u0442\\u044C. \\u0413\\u0430\\u0440\\u0430\\u043D\\u0442\\\"\"}),!isProcessing&&!resultData&&/*#__PURE__*/_jsxs(\"div\",{className:\"snp-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0414\\u0430\\u0442\\u0430 \\u0440\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F:\"}),/*#__PURE__*/_jsx(DateWheelPicker,{value:birthDateParts,onChange:val=>{setBirthDateParts(prev=>{if(val instanceof Date){return{day:val.getDate().toString().padStart(2,'0'),month:(val.getMonth()+1).toString().padStart(2,'0'),year:val.getFullYear().toString()};}if(Array.isArray(val)&&val.length===3){const[d,m,y]=val;return{day:d,month:m,year:y};}if(val&&typeof val==='object'){return{...prev,...(val.day!=null?{day:String(val.day).padStart(2,'0')}:{}),...(val.month!=null?{month:String(val.month).padStart(2,'0')}:{}),...(val.year!=null?{year:String(val.year)}:{})};}if(typeof val==='string'){if(val.includes('.')){const[d,m,y]=val.split('.').map(s=>s.padStart(2,'0'));return{day:d,month:m,year:y};}if(val.includes('-')){const[y,m,d]=val.split('-').map(s=>s.padStart(2,'0'));return{day:d,month:m,year:y};}}return prev;});}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u041F\\u043E\\u043B:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"gender-selector\",children:['мужской','женский'].map(value=>/*#__PURE__*/_jsxs(\"div\",{className:`gender-option ${gender===value?'selected':''}`,onClick:()=>setGender(value),children:[/*#__PURE__*/_jsx(\"div\",{className:\"gender-label\",children:value}),/*#__PURE__*/_jsx(\"div\",{className:\"gender-icon\",children:value==='мужской'?'👨':'👩'})]},value))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0420\\u0430\\u0441\\u0447\\u0451\\u0442 \\u043E\\u0442\\u2026\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"insurance-options\",children:[/*#__PURE__*/_jsx(\"button\",{className:`insurance-btn ${calcType==='premium'?'selected':''}`,onClick:()=>{setCalcType('premium');setAmount('');setAmountError('');},children:\"\\u0421\\u0442\\u0440\\u0430\\u0445\\u043E\\u0432\\u043E\\u0433\\u043E \\u0432\\u0437\\u043D\\u043E\\u0441\\u0430\"}),/*#__PURE__*/_jsx(\"button\",{className:`insurance-btn ${calcType==='sum'?'selected':''}`,onClick:()=>{setCalcType('sum');setAmount('');setAmountError('');},children:\"\\u0421\\u0442\\u0440\\u0430\\u0445\\u043E\\u0432\\u043E\\u0439 \\u0441\\u0443\\u043C\\u043C\\u044B\"})]})]}),calcType&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u0443\\u043C\\u043C\\u0443 \\u0432 \\u0440\\u0443\\u0431\\u043B\\u044F\\u0445\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"insurance-sum-input\",value:amount,onChange:handleAmountChange,placeholder:calcType==='premium'?'Минимум 60 000':'Минимум 450 000'}),amountError&&/*#__PURE__*/_jsx(\"div\",{className:\"input-error-message\",children:amountError})]}),/*#__PURE__*/_jsx(\"div\",{className:\"back-btn-container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"back-btn mainmenu-btn\",onClick:()=>navigate('/Main-Menu'),children:/*#__PURE__*/_jsx(\"img\",{src:mainmenuIcon,alt:\"\\u041C\\u0435\\u043D\\u044E\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"top-btn-container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"top-btn\",onClick:handleNext,disabled:!canGoNext(),children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 4l8 8-8 8\"})})})})]}),isProcessing&&/*#__PURE__*/_jsxs(\"div\",{className:\"processing-container\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u0412\\u044B\\u043F\\u043E\\u043B\\u043D\\u044F\\u0435\\u0442\\u0441\\u044F \\u0440\\u0430\\u0441\\u0447\\u0451\\u0442...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"arrow-animation\",children:\"\\u2192\"})]}),!isProcessing&&resultData&&/*#__PURE__*/_jsxs(\"div\",{className:\"result-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0420\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u044B \\u0440\\u0430\\u0441\\u0447\\u0451\\u0442\\u0430\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0414\\u0430\\u0442\\u0430 \\u0440\\u0430\\u0441\\u0447\\u0451\\u0442\\u0430:\"}),\" \",todayStr]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u041F\\u043E\\u043B:\"}),\" \",resultData.gender]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0412\\u043E\\u0437\\u0440\\u0430\\u0441\\u0442 \\u0437\\u0430\\u0441\\u0442\\u0440\\u0430\\u0445\\u043E\\u0432\\u0430\\u043D\\u043D\\u043E\\u0433\\u043E:\"}),\" \",resultData.age,\" \\u043B\\u0435\\u0442\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0421\\u0440\\u043E\\u043A \\u0441\\u0442\\u0440\\u0430\\u0445\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F:\"}),\" \",term,\" \\u043B\\u0435\\u0442\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u041F\\u0435\\u0440\\u0438\\u043E\\u0434\\u0438\\u0447\\u043D\\u043E\\u0441\\u0442\\u044C \\u0432\\u0437\\u043D\\u043E\\u0441\\u043E\\u0432:\"}),\" \",periodicity]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0412\\u0430\\u043B\\u044E\\u0442\\u0430:\"}),\" \",currency]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{className:\"result-line\",children:[\"\\u0412\\u044B \\u0432\\u043D\\u043E\\u0441\\u0438\\u0442\\u0435: \",formatSum(String(resultData.contribution)),\" \\u20BD \",periodicity]}),/*#__PURE__*/_jsxs(\"p\",{className:\"result-line\",children:[\"\\u0421\\u0443\\u043C\\u043C\\u0430 \\u0432\\u0430\\u0448\\u0438\\u0445 \\u0432\\u0437\\u043D\\u043E\\u0441\\u043E\\u0432: \",formatSum(String(resultData.totalContribution)),\" \\u20BD\"]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useNavigate","mainmenuIcon","logoImage","backgroundImage","DateWheelPicker","jsx","_jsx","jsxs","_jsxs","SNPPage","navigate","birthDateParts","setBirthDateParts","day","month","year","birthDate","setBirthDate","gender","setGender","calcType","setCalcType","amount","setAmount","amountError","setAmountError","isProcessing","setIsProcessing","resultData","setResultData","term","periodicity","currency","d","Number","m","y","dt","Date","isNaN","getTime","getDate","getMonth","getFullYear","formatSum","raw","digits","replace","out","length","slice","handleAmountChange","e","fmt","target","value","num","parseInt","getAge","date","today","age","canGoNext","handleNext","dateRu","toLocaleDateString","payload","birthdate","payment","sum","res","fetch","method","headers","body","JSON","stringify","data","json","ok","console","error","err","todayStr","className","style","children","src","alt","onChange","val","prev","toString","padStart","Array","isArray","String","includes","split","map","s","onClick","type","placeholder","disabled","viewBox","contribution","totalContribution"],"sources":["C:/Users/shapeless/Desktop/miniapp/src/SNPPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport mainmenuIcon    from './components/icons/mainmenu.png';\nimport logoImage       from './components/logo.png';\nimport backgroundImage from './components/background.png';\nimport DateWheelPicker from './DateWheelPicker';\nimport './SNPPage.css';\n\nexport default function SNPPage() {\n  const navigate = useNavigate();\n\n  // Состояния\n  const [birthDateParts, setBirthDateParts] = useState({ day: null, month: null, year: null });\n  const [birthDate,      setBirthDate]      = useState(null);\n  const [gender,         setGender]         = useState(null);   // теперь \"мужской\" или \"женский\"\n  const [calcType,       setCalcType]       = useState(null);\n  const [amount,         setAmount]         = useState('');\n  const [amountError,    setAmountError]    = useState('');\n  const [isProcessing,   setIsProcessing]   = useState(false);\n  const [resultData,     setResultData]     = useState(null);\n\n  // Параметры программы\n  const term        = 5;\n  const periodicity = 'ежегодно';\n  const currency    = 'рублей';\n\n  // Собираем настоящий Date из birthDateParts\n  useEffect(() => {\n    const { day, month, year } = birthDateParts;\n    if (day && month && year) {\n      const d = Number(day), m = Number(month), y = Number(year);\n      const dt = new Date(y, m - 1, d);\n      if (\n        !isNaN(dt.getTime()) &&\n        dt.getDate()     === d &&\n        dt.getMonth()+1  === m &&\n        dt.getFullYear() === y\n      ) {\n        setBirthDate(dt);\n      } else {\n        setBirthDate(null);\n      }\n    } else {\n      setBirthDate(null);\n    }\n  }, [birthDateParts]);\n\n  // Формат суммы \"1234567\" → \"1.234.567\"\n  const formatSum = raw => {\n    let digits = raw.replace(/\\D/g, '');\n    if (!digits) return '';\n    let out = '';\n    while (digits.length > 3) {\n      out = '.' + digits.slice(-3) + out;\n      digits = digits.slice(0, -3);\n    }\n    return digits + out;\n  };\n\n  // Обработчик ввода суммы\n  const handleAmountChange = e => {\n    const fmt = formatSum(e.target.value);\n    setAmount(fmt);\n    const num = parseInt(fmt.replace(/\\./g, ''), 10) || 0;\n    if (calcType === 'premium') {\n      setAmountError(num < 60000 ? 'Введите сумму от 60 000 ₽' : '');\n    } else if (calcType === 'sum') {\n      setAmountError(num < 450000 ? 'Введите сумму от 450 000 ₽' : '');\n    }\n  };\n\n  // Точный расчёт возраста\n  const getAge = date => {\n    if (!(date instanceof Date)) return 0;\n    const today = new Date();\n    let age = today.getFullYear() - date.getFullYear();\n    const m = today.getMonth() - date.getMonth();\n    if (m < 0 || (m === 0 && today.getDate() < date.getDate())) age--;\n    return age;\n  };\n\n  // Проверяем, активна ли кнопка \"Далее\"\n  const canGoNext = () => (\n    birthDate instanceof Date &&\n    !isNaN(birthDate.getTime()) &&\n    gender &&\n    calcType &&\n    amount &&\n    !amountError &&\n    getAge(birthDate) >= 18\n  );\n\n  // Отправляем данные на сервер\n  const handleNext = async () => {\n    if (!canGoNext()) return;\n    const dateRu = birthDate.toLocaleDateString('ru-RU', {\n      day: '2-digit', month: '2-digit', year: 'numeric'\n    });\n    const age    = getAge(birthDate);\n\n    const payload = {\n      birthdate: dateRu,\n      age,\n      gender,  // \"мужской\" или \"женский\"\n      payment: calcType === 'premium' ? 'Страхового взноса' : 'Страховой суммы',\n      sum: parseInt(amount.replace(/\\./g, ''), 10)\n    };\n\n    setIsProcessing(true);\n    try {\n      const res  = await fetch('/api/snp/save', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload)\n      });\n      const data = await res.json();\n      if (res.ok) setResultData(data);\n      else console.error('Сервер вернул ошибку:', data);\n    } catch (err) {\n      console.error('Ошибка запроса:', err);\n    }\n    setIsProcessing(false);\n  };\n\n  // Текущая дата расчёта\n  const todayStr = new Date().toLocaleDateString('ru-RU', {\n    day: '2-digit', month: '2-digit', year: 'numeric'\n  });\n\n  return (\n    <div className=\"snp-container\" style={{ backgroundImage: `url(${backgroundImage})` }}>\n      {/* Шапка */}\n      <div className=\"logo-container\">\n        <img src={logoImage} alt=\"Logo\" className=\"logo-image\" />\n      </div>\n      <h1 className=\"snp-title\">Расчёт по программе \"Стратегия на пять. Гарант\"</h1>\n\n      {/* Форма ввода */}\n      {!isProcessing && !resultData && (\n        <div className=\"snp-form\">\n          {/* Дата рождения */}\n          <div className=\"form-group\">\n            <label className=\"form-label\">Дата рождения:</label>\n            <DateWheelPicker\n              value={birthDateParts}\n              onChange={val => {\n                setBirthDateParts(prev => {\n                  if (val instanceof Date) {\n                    return {\n                      day:   val.getDate().toString().padStart(2,'0'),\n                      month: (val.getMonth()+1).toString().padStart(2,'0'),\n                      year:  val.getFullYear().toString()\n                    };\n                  }\n                  if (Array.isArray(val) && val.length === 3) {\n                    const [d,m,y] = val;\n                    return { day: d, month: m, year: y };\n                  }\n                  if (val && typeof val === 'object') {\n                    return {\n                      ...prev,\n                      ...(val.day   != null ? { day:   String(val.day).padStart(2,'0')   } : {}),\n                      ...(val.month != null ? { month: String(val.month).padStart(2,'0') } : {}),\n                      ...(val.year  != null ? { year:  String(val.year)                } : {})\n                    };\n                  }\n                  if (typeof val === 'string') {\n                    if (val.includes('.')) {\n                      const [d,m,y] = val.split('.').map(s => s.padStart(2,'0'));\n                      return { day: d, month: m, year: y };\n                    }\n                    if (val.includes('-')) {\n                      const [y,m,d] = val.split('-').map(s => s.padStart(2,'0'));\n                      return { day: d, month: m, year: y };\n                    }\n                  }\n                  return prev;\n                });\n              }}\n            />\n          </div>\n\n          {/* Пол */}\n          <div className=\"form-group\">\n            <label className=\"form-label\">Пол:</label>\n            <div className=\"gender-selector\">\n              {['мужской','женский'].map(value => (\n                <div\n                  key={value}\n                  className={`gender-option ${gender === value ? 'selected' : ''}`}\n                  onClick={() => setGender(value)}\n                >\n                  <div className=\"gender-label\">{value}</div>\n                  <div className=\"gender-icon\">\n                    {value === 'мужской' ? '👨' : '👩'}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          {/* Тип расчёта */}\n          <div className=\"form-group\">\n            <label className=\"form-label\">Расчёт от…</label>\n            <div className=\"insurance-options\">\n              <button\n                className={`insurance-btn ${calcType === 'premium' ? 'selected' : ''}`}\n                onClick={() => { setCalcType('premium'); setAmount(''); setAmountError(''); }}\n              >\n                Страхового взноса\n              </button>\n              <button\n                className={`insurance-btn ${calcType === 'sum' ? 'selected' : ''}`}\n                onClick={() => { setCalcType('sum'); setAmount(''); setAmountError(''); }}\n              >\n                Страховой суммы\n              </button>\n            </div>\n          </div>\n\n          {/* Ввод суммы */}\n          {calcType && (\n            <div className=\"form-group\">\n              <label className=\"form-label\">Введите сумму в рублях</label>\n              <input\n                type=\"text\"\n                className=\"insurance-sum-input\"\n                value={amount}\n                onChange={handleAmountChange}\n                placeholder={calcType === 'premium' ? 'Минимум 60 000' : 'Минимум 450 000'}\n              />\n              {amountError && <div className=\"input-error-message\">{amountError}</div>}\n            </div>\n          )}\n\n          {/* Навигационные кнопки */}\n          <div className=\"back-btn-container\">\n            <button className=\"back-btn mainmenu-btn\" onClick={() => navigate('/Main-Menu')}>\n              <img src={mainmenuIcon} alt=\"Меню\" />\n            </button>\n          </div>\n          <div className=\"top-btn-container\">\n            <button className=\"top-btn\" onClick={handleNext} disabled={!canGoNext()}>\n              <svg viewBox=\"0 0 24 24\"><path d=\"M12 4l8 8-8 8\"/></svg>\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Процессинг */}\n      {isProcessing && (\n        <div className=\"processing-container\">\n          <p>Выполняется расчёт...</p>\n          <div className=\"arrow-animation\">→</div>\n        </div>\n      )}\n\n      {/* Результат */}\n      {!isProcessing && resultData && (\n        <div className=\"result-container\">\n          <h2>Результаты расчёта</h2>\n          <p><strong>Дата расчёта:</strong> {todayStr}</p>\n          <p><strong>Пол:</strong> {resultData.gender}</p>\n          <p><strong>Возраст застрахованного:</strong> {resultData.age} лет</p>\n          <p><strong>Срок страхования:</strong> {term} лет</p>\n          <p><strong>Периодичность взносов:</strong> {periodicity}</p>\n          <p><strong>Валюта:</strong> {currency}</p>\n          <hr />\n\n          <p className=\"result-line\">\n            Вы вносите: {formatSum(String(resultData.contribution))} ₽ {periodicity}\n          </p>\n          <p className=\"result-line\">\n            Сумма ваших взносов: {formatSum(String(resultData.totalContribution))} ₽\n          </p>\n        </div>\n      )}\n    </div>\n  );\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}