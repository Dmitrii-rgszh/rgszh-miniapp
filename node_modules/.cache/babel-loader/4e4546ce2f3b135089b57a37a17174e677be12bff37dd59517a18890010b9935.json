{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import mainmenuIcon from'./components/icons/mainmenu.png';import logoImage from'./components/logo.png';import backgroundImage from'./components/background.png';import DateWheelPicker from'./DateWheelPicker';import'./SNPPage.css';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";export default function SNPPage(){const navigate=useNavigate();// === —Å–æ—Å—Ç–æ—è–Ω–∏—è ===\nconst[birthDateParts,setBirthDateParts]=useState({day:null,month:null,year:null});const[birthDate,setBirthDate]=useState(null);const[gender,setGender]=useState(null);// \"–º—É–∂—Å–∫–æ–π\" / \"–∂–µ–Ω—Å–∫–∏–π\"\nconst[calcType,setCalcType]=useState(null);// 'premium' –∏–ª–∏ 'sum'\nconst[amount,setAmount]=useState('');// —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—É–º–º–∞\nconst[amountError,setAmountError]=useState('');// —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ –ø–æ —Å—É–º–º–µ\nconst[isProcessing,setIsProcessing]=useState(false);// –∏–¥—ë—Ç –∑–∞–ø—Ä–æ—Å\nconst[resultData,setResultData]=useState(null);// –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞\nconst[slideIndex,setSlideIndex]=useState(0);// –∏–Ω–¥–µ–∫—Å —Å–ª–∞–π–¥–∞ –≤ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏\n// === –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ===\nconst term=5;const periodicity='–µ–∂–µ–≥–æ–¥–Ω–æ';const currency='—Ä—É–±–ª–µ–π';// === —ç—Ñ—Ñ–µ–∫—Ç: —Å–æ–±–∏—Ä–∞–µ–º Date –∏–∑ birthDateParts ===\nuseEffect(()=>{const{day,month,year}=birthDateParts;if(day&&month&&year){const d=Number(day),m=Number(month),y=Number(year);const dt=new Date(y,m-1,d);if(!isNaN(dt.getTime())&&dt.getDate()===d&&dt.getMonth()+1===m&&dt.getFullYear()===y){setBirthDate(dt);}else{setBirthDate(null);}}else{setBirthDate(null);}},[birthDateParts]);// === —É—Ç–∏–ª–∏—Ç—ã ===\n// —Ñ–æ—Ä–º–∞—Ç —Å—É–º–º—ã \"1234567\" ‚Üí \"1.234.567\"\nconst formatSum=raw=>{let digits=raw.replace(/\\D/g,'');if(!digits)return'';let out='';while(digits.length>3){out='.'+digits.slice(-3)+out;digits=digits.slice(0,-3);}return digits+out;};// –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤–≤–æ–¥–∞ —Å—É–º–º—ã –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è\nconst handleAmountChange=e=>{const fmt=formatSum(e.target.value);setAmount(fmt);const num=parseInt(fmt.replace(/\\./g,''),10)||0;if(calcType==='premium'){setAmountError(num<60000?'–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –æ—Ç 60 000 ‚ÇΩ':'');}else if(calcType==='sum'){setAmountError(num<450000?'–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –æ—Ç 450 000 ‚ÇΩ':'');}};// —Ä–∞—Å—á—ë—Ç –≤–æ–∑—Ä–∞—Å—Ç–∞\nconst getAge=date=>{if(!(date instanceof Date))return 0;const today=new Date();let age=today.getFullYear()-date.getFullYear();const m=today.getMonth()-date.getMonth();if(m<0||m===0&&today.getDate()<date.getDate())age--;return age;};// –∞–∫—Ç–∏–≤–Ω–∞ –ª–∏ –∫–Ω–æ–ø–∫–∞ \"–î–∞–ª–µ–µ\"\nconst canGoNext=()=>birthDate instanceof Date&&!isNaN(birthDate.getTime())&&gender&&calcType&&amount&&!amountError&&getAge(birthDate)>=18;// –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä /api/snp/save\nconst handleNext=async()=>{if(!canGoNext())return;const dateRu=birthDate.toLocaleDateString('ru-RU',{day:'2-digit',month:'2-digit',year:'numeric'});const age=getAge(birthDate);const payload={birthdate:dateRu,age,gender,payment:calcType==='premium'?'–°—Ç—Ä–∞—Ö–æ–≤–æ–≥–æ –≤–∑–Ω–æ—Å–∞':'–°—Ç—Ä–∞—Ö–æ–≤–æ–π —Å—É–º–º—ã',sum:parseInt(amount.replace(/\\./g,''),10)};setIsProcessing(true);try{const res=await fetch('/api/snp/save',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});const data=await res.json();if(res.ok){setResultData(data);setSlideIndex(0);}else{console.error('–°–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É:',data);}}catch(err){console.error('–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞:',err);}setIsProcessing(false);};// —Å–µ–≥–æ–¥–Ω—è—à–Ω—è—è –¥–∞—Ç–∞\nconst todayStr=new Date().toLocaleDateString('ru-RU',{day:'2-digit',month:'2-digit',year:'numeric'});// –∫–æ–Ω—Ç–µ–Ω—Ç —Ç—Ä—ë—Ö —Å–ª–∞–π–¥–æ–≤\nconst slides=resultData?[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-slide\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"slide-header\",children:[\"\\u0412 \\u0442\\u0435\\u0447\\u0435\\u043D\\u0438\\u0435 \",term,\" \\u043B\\u0435\\u0442\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"slide-title\",children:\"\\u0412\\u044B \\u0432\\u043D\\u043E\\u0441\\u0438\\u0442\\u0435 \\u0441\\u0440\\u0435\\u0434\\u0441\\u0442\\u0432\\u0430 \\u0432 \\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0443\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"slide-amount\",children:[formatSum(String(resultData.contribution)),\" \\u20BD\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"slide-period\",children:periodicity}),/*#__PURE__*/_jsx(\"div\",{className:\"slide-subtitle\",children:\"\\u0421\\u0443\\u043C\\u043C\\u0430 \\u0432\\u0430\\u0448\\u0438\\u0445 \\u0432\\u0437\\u043D\\u043E\\u0441\\u043E\\u0432\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"slide-amount\",children:[formatSum(String(resultData.totalContribution)),\" \\u20BD\"]})]},0),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-slide\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"slide-header\",children:\"\\u041D\\u0430\\u0447\\u0438\\u0441\\u043B\\u044F\\u0435\\u043C \\u0434\\u043E\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"slide-title\",children:[resultData.accrualPercent,\"% \\u043E\\u0442 \\u043A\\u0430\\u0436\\u0434\\u043E\\u0433\\u043E \\u0432\\u0437\\u043D\\u043E\\u0441\\u0430\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"slide-amount\",children:[formatSum(String(resultData.accrualAmount)),\" \\u20BD\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"slide-period\",children:periodicity}),/*#__PURE__*/_jsx(\"div\",{className:\"slide-subtitle\",children:\"\\u041E\\u0431\\u0449\\u0430\\u044F \\u0441\\u0443\\u043C\\u043C\\u0430 \\u043D\\u0430\\u0447\\u0438\\u0441\\u043B\\u0435\\u043D\\u0438\\u0439\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"slide-amount\",children:[formatSum(String(resultData.totalAccrual)),\" \\u20BD\"]})]},1),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-slide\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"slide-header\",children:\"\\u0412\\u044B \\u043F\\u043E\\u043B\\u0443\\u0447\\u0430\\u0435\\u0442\\u0435:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"slide-icon\",children:\"\\uD83D\\uDCB0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"slide-amount-big\",children:[formatSum(String(resultData.finalAnnual)),\" \\u20BD\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"slide-period\",children:\"\\u0415\\u0436\\u0435\\u0433\\u043E\\u0434\\u043D\\u044B\\u0435 \\u043D\\u0430\\u043A\\u043E\\u043F\\u043B\\u0435\\u043D\\u0438\\u044F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"slide-amount\",children:[formatSum(String(resultData.finalTotal)),\" \\u20BD\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"slide-subtitle\",children:[\"\\u0412\\u0430\\u0448 \\u043A\\u0430\\u043F\\u0438\\u0442\\u0430\\u043B \\u0447\\u0435\\u0440\\u0435\\u0437 \",term,\" \\u043B\\u0435\\u0442\"]})]},2)]:[];return/*#__PURE__*/_jsxs(\"div\",{className:\"snp-container\",style:{backgroundImage:`url(${backgroundImage})`},children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-container\",children:/*#__PURE__*/_jsx(\"img\",{src:logoImage,alt:\"\\u041B\\u043E\\u0433\\u043E\\u0442\\u0438\\u043F\",className:\"logo-image\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"snp-title\",children:\"\\u0420\\u0430\\u0441\\u0447\\u0451\\u0442 \\u043F\\u043E \\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0435 \\\"\\u0421\\u0442\\u0440\\u0430\\u0442\\u0435\\u0433\\u0438\\u044F \\u043D\\u0430 \\u043F\\u044F\\u0442\\u044C. \\u0413\\u0430\\u0440\\u0430\\u043D\\u0442\\\"\"}),!isProcessing&&!resultData&&/*#__PURE__*/_jsxs(\"div\",{className:\"snp-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0414\\u0430\\u0442\\u0430 \\u0440\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F:\"}),/*#__PURE__*/_jsx(DateWheelPicker,{value:birthDateParts,onChange:val=>{setBirthDateParts(prev=>{if(val instanceof Date){return{day:val.getDate().toString().padStart(2,'0'),month:(val.getMonth()+1).toString().padStart(2,'0'),year:val.getFullYear().toString()};}if(Array.isArray(val)&&val.length===3){const[d,m,y]=val;return{day:d,month:m,year:y};}if(typeof val==='object'){return{...prev,...(val.day!=null?{day:String(val.day).padStart(2,'0')}:{}),...(val.month!=null?{month:String(val.month).padStart(2,'0')}:{}),...(val.year!=null?{year:String(val.year)}:{})};}if(typeof val==='string'){if(val.includes('.')){const[d,m,y]=val.split('.').map(s=>s.padStart(2,'0'));return{day:d,month:m,year:y};}if(val.includes('-')){const[y,m,d]=val.split('-').map(s=>s.padStart(2,'0'));return{day:d,month:m,year:y};}}return prev;});}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u041F\\u043E\\u043B:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"gender-selector\",children:['–º—É–∂—Å–∫–æ–π','–∂–µ–Ω—Å–∫–∏–π'].map(value=>/*#__PURE__*/_jsxs(\"div\",{className:`gender-option ${gender===value?'selected':''}`,onClick:()=>setGender(value),children:[/*#__PURE__*/_jsx(\"div\",{className:\"gender-label\",children:value==='–º—É–∂—Å–∫–æ–π'?'–ú—É–∂—Å–∫–æ–π':'–ñ–µ–Ω—Å–∫–∏–π'}),/*#__PURE__*/_jsx(\"div\",{className:\"gender-icon\",children:value==='–º—É–∂—Å–∫–æ–π'?'üë®':'üë©'})]},value))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0420\\u0430\\u0441\\u0447\\u0451\\u0442 \\u043E\\u0442\\u2026\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"insurance-options\",children:[/*#__PURE__*/_jsx(\"button\",{className:`insurance-btn ${calcType==='premium'?'selected':''}`,onClick:()=>{setCalcType('premium');setAmount('');setAmountError('');},children:\"\\u0421\\u0442\\u0440\\u0430\\u0445\\u043E\\u0432\\u043E\\u0433\\u043E \\u0432\\u0437\\u043D\\u043E\\u0441\\u0430\"}),/*#__PURE__*/_jsx(\"button\",{className:`insurance-btn ${calcType==='sum'?'selected':''}`,onClick:()=>{setCalcType('sum');setAmount('');setAmountError('');},children:\"\\u0421\\u0442\\u0440\\u0430\\u0445\\u043E\\u0432\\u043E\\u0439 \\u0441\\u0443\\u043C\\u043C\\u044B\"})]})]}),calcType&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u0443\\u043C\\u043C\\u0443 \\u0432 \\u0440\\u0443\\u0431\\u043B\\u044F\\u0445\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"insurance-sum-input\",value:amount,onChange:handleAmountChange,placeholder:calcType==='premium'?'–ú–∏–Ω–∏–º—É–º 60 000':'–ú–∏–Ω–∏–º—É–º 450 000'}),amountError&&/*#__PURE__*/_jsx(\"div\",{className:\"input-error-message\",children:amountError})]})]}),isProcessing&&/*#__PURE__*/_jsxs(\"div\",{className:\"processing-container\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u0412\\u044B\\u043F\\u043E\\u043B\\u043D\\u044F\\u0435\\u0442\\u0441\\u044F \\u0440\\u0430\\u0441\\u0447\\u0451\\u0442...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"arrow-animation\",children:\"\\u2192\"})]}),!isProcessing&&resultData&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"result-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0420\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u044B \\u0440\\u0430\\u0441\\u0447\\u0451\\u0442\\u0430\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0414\\u0430\\u0442\\u0430 \\u0440\\u0430\\u0441\\u0447\\u0451\\u0442\\u0430:\"}),\" \",todayStr]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u041F\\u043E\\u043B:\"}),\" \",resultData.gender]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0412\\u043E\\u0437\\u0440\\u0430\\u0441\\u0442 \\u0437\\u0430\\u0441\\u0442\\u0440\\u0430\\u0445\\u043E\\u0432\\u0430\\u043D\\u043D\\u043E\\u0433\\u043E:\"}),\" \",resultData.age,\" \\u043B\\u0435\\u0442\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0421\\u0440\\u043E\\u043A \\u0441\\u0442\\u0440\\u0430\\u0445\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F:\"}),\" \",term,\" \\u043B\\u0435\\u0442\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u041F\\u0435\\u0440\\u0438\\u043E\\u0434\\u0438\\u0447\\u043D\\u043E\\u0441\\u0442\\u044C \\u0432\\u0437\\u043D\\u043E\\u0441\\u043E\\u0432:\"}),\" \",periodicity]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0412\\u0430\\u043B\\u044E\\u0442\\u0430:\"}),\" \",currency]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-slider-container\",children:[slides[slideIndex],/*#__PURE__*/_jsxs(\"div\",{className:\"detail-nav\",children:[slideIndex>0&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSlideIndex(sl=>sl-1),className:\"nav-btn left\",children:\"\\u2190\"}),slideIndex<slides.length-1&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSlideIndex(sl=>sl+1),className:\"nav-btn right\",children:\"\\u2192\"})]})]})]}),!isProcessing&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"back-btn-container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"back-btn\",onClick:()=>navigate('/Main-Menu'),children:/*#__PURE__*/_jsx(\"img\",{src:mainmenuIcon,alt:\"\\u0414\\u043E\\u043C\\u043E\\u0439\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"top-btn-container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"top-btn\",onClick:resultData?()=>navigate(-1):handleNext,disabled:!resultData&&!canGoNext(),children:resultData?/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"white\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 .34-.04.66-.09.98l1.52 1.52A7.945 7.945 0 0012 4zm-6.65.35L3.83 6.83A7.945 7.945 0 004 12c0 4.42 3.58 8 8 8v-3l4 4-4 4v-3c-4.42 0-8-3.58-8-8 0-.34.04-.66.09-.98z\"})}):/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 4l8 8-8 8\"})})})})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useNavigate","mainmenuIcon","logoImage","backgroundImage","DateWheelPicker","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","SNPPage","navigate","birthDateParts","setBirthDateParts","day","month","year","birthDate","setBirthDate","gender","setGender","calcType","setCalcType","amount","setAmount","amountError","setAmountError","isProcessing","setIsProcessing","resultData","setResultData","slideIndex","setSlideIndex","term","periodicity","currency","d","Number","m","y","dt","Date","isNaN","getTime","getDate","getMonth","getFullYear","formatSum","raw","digits","replace","out","length","slice","handleAmountChange","e","fmt","target","value","num","parseInt","getAge","date","today","age","canGoNext","handleNext","dateRu","toLocaleDateString","payload","birthdate","payment","sum","res","fetch","method","headers","body","JSON","stringify","data","json","ok","console","error","err","todayStr","slides","className","children","String","contribution","totalContribution","accrualPercent","accrualAmount","totalAccrual","finalAnnual","finalTotal","style","src","alt","onChange","val","prev","toString","padStart","Array","isArray","includes","split","map","s","onClick","type","placeholder","sl","disabled","viewBox","fill"],"sources":["C:/Users/shapeless/Desktop/miniapp/src/SNPPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport mainmenuIcon    from './components/icons/mainmenu.png';\nimport logoImage       from './components/logo.png';\nimport backgroundImage from './components/background.png';\nimport DateWheelPicker from './DateWheelPicker';\nimport './SNPPage.css';\n\nexport default function SNPPage() {\n  const navigate = useNavigate();\n\n  // === —Å–æ—Å—Ç–æ—è–Ω–∏—è ===\n  const [birthDateParts, setBirthDateParts] = useState({ day: null, month: null, year: null });\n  const [birthDate,      setBirthDate]      = useState(null);\n  const [gender,         setGender]         = useState(null);   // \"–º—É–∂—Å–∫–æ–π\" / \"–∂–µ–Ω—Å–∫–∏–π\"\n  const [calcType,       setCalcType]       = useState(null);   // 'premium' –∏–ª–∏ 'sum'\n  const [amount,         setAmount]         = useState('');     // —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—É–º–º–∞\n  const [amountError,    setAmountError]    = useState('');     // —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ –ø–æ —Å—É–º–º–µ\n  const [isProcessing,   setIsProcessing]   = useState(false);  // –∏–¥—ë—Ç –∑–∞–ø—Ä–æ—Å\n  const [resultData,     setResultData]     = useState(null);   // –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞\n  const [slideIndex,     setSlideIndex]     = useState(0);      // –∏–Ω–¥–µ–∫—Å —Å–ª–∞–π–¥–∞ –≤ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏\n\n  // === –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ===\n  const term        = 5;\n  const periodicity = '–µ–∂–µ–≥–æ–¥–Ω–æ';\n  const currency    = '—Ä—É–±–ª–µ–π';\n\n  // === —ç—Ñ—Ñ–µ–∫—Ç: —Å–æ–±–∏—Ä–∞–µ–º Date –∏–∑ birthDateParts ===\n  useEffect(() => {\n    const { day, month, year } = birthDateParts;\n    if (day && month && year) {\n      const d = Number(day), m = Number(month), y = Number(year);\n      const dt = new Date(y, m - 1, d);\n      if (!isNaN(dt.getTime())\n          && dt.getDate()     === d\n          && dt.getMonth()+1  === m\n          && dt.getFullYear() === y) {\n        setBirthDate(dt);\n      } else {\n        setBirthDate(null);\n      }\n    } else {\n      setBirthDate(null);\n    }\n  }, [birthDateParts]);\n\n  // === —É—Ç–∏–ª–∏—Ç—ã ===\n\n  // —Ñ–æ—Ä–º–∞—Ç —Å—É–º–º—ã \"1234567\" ‚Üí \"1.234.567\"\n  const formatSum = raw => {\n    let digits = raw.replace(/\\D/g, '');\n    if (!digits) return '';\n    let out = '';\n    while (digits.length > 3) {\n      out = '.' + digits.slice(-3) + out;\n      digits = digits.slice(0, -3);\n    }\n    return digits + out;\n  };\n\n  // –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤–≤–æ–¥–∞ —Å—É–º–º—ã –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è\n  const handleAmountChange = e => {\n    const fmt = formatSum(e.target.value);\n    setAmount(fmt);\n    const num = parseInt(fmt.replace(/\\./g, ''), 10) || 0;\n    if (calcType === 'premium') {\n      setAmountError(num < 60000 ? '–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –æ—Ç 60 000 ‚ÇΩ' : '');\n    } else if (calcType === 'sum') {\n      setAmountError(num < 450000 ? '–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –æ—Ç 450 000 ‚ÇΩ' : '');\n    }\n  };\n\n  // —Ä–∞—Å—á—ë—Ç –≤–æ–∑—Ä–∞—Å—Ç–∞\n  const getAge = date => {\n    if (!(date instanceof Date)) return 0;\n    const today = new Date();\n    let age = today.getFullYear() - date.getFullYear();\n    const m = today.getMonth() - date.getMonth();\n    if (m < 0 || (m === 0 && today.getDate() < date.getDate())) age--;\n    return age;\n  };\n\n  // –∞–∫—Ç–∏–≤–Ω–∞ –ª–∏ –∫–Ω–æ–ø–∫–∞ \"–î–∞–ª–µ–µ\"\n  const canGoNext = () => (\n    birthDate instanceof Date &&\n    !isNaN(birthDate.getTime()) &&\n    gender &&\n    calcType &&\n    amount &&\n    !amountError &&\n    getAge(birthDate) >= 18\n  );\n\n  // –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä /api/snp/save\n  const handleNext = async () => {\n    if (!canGoNext()) return;\n    const dateRu = birthDate.toLocaleDateString('ru-RU', {\n      day: '2-digit', month: '2-digit', year: 'numeric'\n    });\n    const age = getAge(birthDate);\n\n    const payload = {\n      birthdate: dateRu,\n      age,\n      gender,\n      payment: calcType === 'premium' ? '–°—Ç—Ä–∞—Ö–æ–≤–æ–≥–æ –≤–∑–Ω–æ—Å–∞' : '–°—Ç—Ä–∞—Ö–æ–≤–æ–π —Å—É–º–º—ã',\n      sum: parseInt(amount.replace(/\\./g, ''), 10)\n    };\n\n    setIsProcessing(true);\n    try {\n      const res = await fetch('/api/snp/save', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload)\n      });\n      const data = await res.json();\n      if (res.ok) {\n        setResultData(data);\n        setSlideIndex(0);\n      } else {\n        console.error('–°–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É:', data);\n      }\n    } catch (err) {\n      console.error('–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞:', err);\n    }\n    setIsProcessing(false);\n  };\n\n  // —Å–µ–≥–æ–¥–Ω—è—à–Ω—è—è –¥–∞—Ç–∞\n  const todayStr = new Date().toLocaleDateString('ru-RU', {\n    day: '2-digit', month: '2-digit', year: 'numeric'\n  });\n\n  // –∫–æ–Ω—Ç–µ–Ω—Ç —Ç—Ä—ë—Ö —Å–ª–∞–π–¥–æ–≤\n  const slides = resultData ? [\n    <div key={0} className=\"detail-slide\">\n      <div className=\"slide-header\">–í —Ç–µ—á–µ–Ω–∏–µ {term} –ª–µ—Ç</div>\n      <div className=\"slide-title\">–í—ã –≤–Ω–æ—Å–∏—Ç–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –≤ –ø—Ä–æ–≥—Ä–∞–º–º—É</div>\n      <div className=\"slide-amount\">{formatSum(String(resultData.contribution))} ‚ÇΩ</div>\n      <div className=\"slide-period\">{periodicity}</div>\n      <div className=\"slide-subtitle\">–°—É–º–º–∞ –≤–∞—à–∏—Ö –≤–∑–Ω–æ—Å–æ–≤</div>\n      <div className=\"slide-amount\">{formatSum(String(resultData.totalContribution))} ‚ÇΩ</div>\n    </div>,\n    <div key={1} className=\"detail-slide\">\n      <div className=\"slide-header\">–ù–∞—á–∏—Å–ª—è–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ</div>\n      <div className=\"slide-title\">{resultData.accrualPercent}% –æ—Ç –∫–∞–∂–¥–æ–≥–æ –≤–∑–Ω–æ—Å–∞</div>\n      <div className=\"slide-amount\">{formatSum(String(resultData.accrualAmount))} ‚ÇΩ</div>\n      <div className=\"slide-period\">{periodicity}</div>\n      <div className=\"slide-subtitle\">–û–±—â–∞—è —Å—É–º–º–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π</div>\n      <div className=\"slide-amount\">{formatSum(String(resultData.totalAccrual))} ‚ÇΩ</div>\n    </div>,\n    <div key={2} className=\"detail-slide\">\n      <div className=\"slide-header\">–í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ:</div>\n      <div className=\"slide-icon\">üí∞</div>\n      <div className=\"slide-amount-big\">{formatSum(String(resultData.finalAnnual))} ‚ÇΩ</div>\n      <div className=\"slide-period\">–ï–∂–µ–≥–æ–¥–Ω—ã–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è</div>\n      <div className=\"slide-amount\">{formatSum(String(resultData.finalTotal))} ‚ÇΩ</div>\n      <div className=\"slide-subtitle\">–í–∞—à –∫–∞–ø–∏—Ç–∞–ª —á–µ—Ä–µ–∑ {term} –ª–µ—Ç</div>\n    </div>\n  ] : [];\n\n  return (\n    <div className=\"snp-container\" style={{ backgroundImage: `url(${backgroundImage})` }}>\n\n      {/* –õ–æ–≥–æ—Ç–∏–ø */}\n      <div className=\"logo-container\">\n        <img src={logoImage} alt=\"–õ–æ–≥–æ—Ç–∏–ø\" className=\"logo-image\" />\n      </div>\n\n      {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ */}\n      <h1 className=\"snp-title\">–†–∞—Å—á—ë—Ç –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–µ \"–°—Ç—Ä–∞—Ç–µ–≥–∏—è –Ω–∞ –ø—è—Ç—å. –ì–∞—Ä–∞–Ω—Ç\"</h1>\n\n      {/* === –§–æ—Ä–º–∞ –≤–≤–æ–¥–∞ === */}\n      {!isProcessing && !resultData && (\n        <div className=\"snp-form\">\n\n          {/* –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è */}\n          <div className=\"form-group\">\n            <label className=\"form-label\">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è:</label>\n            <DateWheelPicker\n              value={birthDateParts}\n              onChange={val => {\n                setBirthDateParts(prev => {\n                  if (val instanceof Date) {\n                    return {\n                      day:   val.getDate().toString().padStart(2,'0'),\n                      month: (val.getMonth()+1).toString().padStart(2,'0'),\n                      year:  val.getFullYear().toString()\n                    };\n                  }\n                  if (Array.isArray(val) && val.length === 3) {\n                    const [d,m,y] = val;\n                    return { day: d, month: m, year: y };\n                  }\n                  if (typeof val === 'object') {\n                    return {\n                      ...prev,\n                      ...(val.day   != null ? { day:   String(val.day).padStart(2,'0') } : {}),\n                      ...(val.month != null ? { month: String(val.month).padStart(2,'0') } : {}),\n                      ...(val.year  != null ? { year:  String(val.year)                } : {})\n                    };\n                  }\n                  if (typeof val === 'string') {\n                    if (val.includes('.')) {\n                      const [d,m,y] = val.split('.').map(s => s.padStart(2,'0'));\n                      return { day: d, month: m, year: y };\n                    }\n                    if (val.includes('-')) {\n                      const [y,m,d] = val.split('-').map(s => s.padStart(2,'0'));\n                      return { day: d, month: m, year: y };\n                    }\n                  }\n                  return prev;\n                });\n              }}\n            />\n          </div>\n\n          {/* –ü–æ–ª */}\n          <div className=\"form-group\">\n            <label className=\"form-label\">–ü–æ–ª:</label>\n            <div className=\"gender-selector\">\n              {['–º—É–∂—Å–∫–æ–π','–∂–µ–Ω—Å–∫–∏–π'].map(value => (\n                <div\n                  key={value}\n                  className={`gender-option ${gender===value?'selected':''}`}\n                  onClick={() => setGender(value)}\n                >\n                  <div className=\"gender-label\">\n                    {value==='–º—É–∂—Å–∫–æ–π'?'–ú—É–∂—Å–∫–æ–π':'–ñ–µ–Ω—Å–∫–∏–π'}\n                  </div>\n                  <div className=\"gender-icon\">\n                    {value==='–º—É–∂—Å–∫–æ–π'?'üë®':'üë©'}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          {/* –†–∞—Å—á—ë—Ç –æ—Ç‚Ä¶ */}\n          <div className=\"form-group\">\n            <label className=\"form-label\">–†–∞—Å—á—ë—Ç –æ—Ç‚Ä¶</label>\n            <div className=\"insurance-options\">\n              <button\n                className={`insurance-btn ${calcType==='premium'?'selected':''}`}\n                onClick={() => { setCalcType('premium'); setAmount(''); setAmountError(''); }}\n              >\n                –°—Ç—Ä–∞—Ö–æ–≤–æ–≥–æ –≤–∑–Ω–æ—Å–∞\n              </button>\n              <button\n                className={`insurance-btn ${calcType==='sum'?'selected':''}`}\n                onClick={() => { setCalcType('sum'); setAmount(''); setAmountError(''); }}\n              >\n                –°—Ç—Ä–∞—Ö–æ–≤–æ–π —Å—É–º–º—ã\n              </button>\n            </div>\n          </div>\n\n          {/* –í–≤–æ–¥ —Å—É–º–º—ã */}\n          {calcType && (\n            <div className=\"form-group\">\n              <label className=\"form-label\">–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –≤ —Ä—É–±–ª—è—Ö</label>\n              <input\n                type=\"text\"\n                className=\"insurance-sum-input\"\n                value={amount}\n                onChange={handleAmountChange}\n                placeholder={calcType==='premium'?'–ú–∏–Ω–∏–º—É–º 60 000':'–ú–∏–Ω–∏–º—É–º 450 000'}\n              />\n              {amountError && <div className=\"input-error-message\">{amountError}</div>}\n            </div>\n          )}\n\n        </div>\n      )}\n\n      {/* === –ü—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥ === */}\n      {isProcessing && (\n        <div className=\"processing-container\">\n          <p>–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ä–∞—Å—á—ë—Ç...</p>\n          <div className=\"arrow-animation\">‚Üí</div>\n        </div>\n      )}\n\n      {/* === –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã === */}\n      {!isProcessing && resultData && (\n        <>\n          <div className=\"result-container\">\n            <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á—ë—Ç–∞</h2>\n            <p><strong>–î–∞—Ç–∞ —Ä–∞—Å—á—ë—Ç–∞:</strong> {todayStr}</p>\n            <p><strong>–ü–æ–ª:</strong> {resultData.gender}</p>\n            <p><strong>–í–æ–∑—Ä–∞—Å—Ç –∑–∞—Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–Ω–æ–≥–æ:</strong> {resultData.age} –ª–µ—Ç</p>\n            <p><strong>–°—Ä–æ–∫ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è:</strong> {term} –ª–µ—Ç</p>\n            <p><strong>–ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å –≤–∑–Ω–æ—Å–æ–≤:</strong> {periodicity}</p>\n            <p><strong>–í–∞–ª—é—Ç–∞:</strong> {currency}</p>\n          </div>\n\n          {/* === –°–ª–∞–π–¥–µ—Ä –ø–æ–¥—Ä–æ–±–Ω—ã—Ö —Ä–∞—Å—á—ë—Ç–æ–≤ === */}\n          <div className=\"detail-slider-container\">\n            {slides[slideIndex]}\n            <div className=\"detail-nav\">\n              {slideIndex>0 && (\n                <button onClick={()=>setSlideIndex(sl=>sl-1)} className=\"nav-btn left\">‚Üê</button>\n              )}\n              {slideIndex<slides.length-1 && (\n                <button onClick={()=>setSlideIndex(sl=>sl+1)} className=\"nav-btn right\">‚Üí</button>\n              )}\n            </div>\n          </div>\n        </>\n      )}\n\n      {/* === –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ ¬´–î–æ–º–æ–π¬ª –∏ ¬´–î–∞–ª–µ–µ/–û–±–Ω–æ–≤–∏—Ç—å¬ª === */}\n      {!isProcessing && (\n        <>\n          <div className=\"back-btn-container\">\n            <button className=\"back-btn\" onClick={()=>navigate('/Main-Menu')}>\n              <img src={mainmenuIcon} alt=\"–î–æ–º–æ–π\"/>\n            </button>\n          </div>\n          <div className=\"top-btn-container\">\n            <button\n              className=\"top-btn\"\n              onClick={ resultData ? ()=>navigate(-1) : handleNext }\n              disabled={ !resultData && !canGoNext() }\n            >\n              {resultData\n                ? <svg viewBox=\"0 0 24 24\" fill=\"white\"><path d=\"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 .34-.04.66-.09.98l1.52 1.52A7.945 7.945 0 0012 4zm-6.65.35L3.83 6.83A7.945 7.945 0 004 12c0 4.42 3.58 8 8 8v-3l4 4-4 4v-3c-4.42 0-8-3.58-8-8 0-.34.04-.66.09-.98z\"/></svg>\n                : <svg viewBox=\"0 0 24 24\"><path d=\"M12 4l8 8-8 8\"/></svg>\n              }\n            </button>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}