{"ast":null,"code":"// src/SNPPage.js\nimport React,{useState}from'react';import{useNavigate}from'react-router-dom';import mainmenuIcon from'./components/icons/mainmenu.png';import logoImage from'./components/logo.png';import backgroundImage from'./components/background.png';import DateWheelPicker from'./DateWheelPicker';import'./PollsPage.css';import'./SNPPage.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function SNPPage(){const navigate=useNavigate();// — состояния —\nconst[step,setStep]=useState(1);const[email,setEmail]=useState('');const[emailError,setEmailError]=useState('');const[birthDate,setBirthDate]=useState(new Date());const[gender,setGender]=useState(null);const[calcType,setCalcType]=useState(null);const[amountRaw,setAmountRaw]=useState('');const[amountDisplay,setAmountDisplay]=useState('');const[amountError,setAmountError]=useState('');const[isProcessing,setIsProcessing]=useState(false);const[resultData,setResultData]=useState(null);// подсчёт возраста\nfunction getAge(d){if(!(d instanceof Date))return 0;const today=new Date();let age=today.getFullYear()-d.getFullYear();if(today.getMonth()<d.getMonth()||today.getMonth()===d.getMonth()&&today.getDate()<d.getDate())age--;return age;}// валидация суммы\nfunction isAmountValid(){const n=parseInt(amountRaw,10)||0;return calcType==='premium'&&n>=60000||calcType==='sum'&&n>=450000;}// кнопка «Далее →» активна, если всё заполнено\nfunction canGoNext(){return step===2&&getAge(birthDate)>=18&&Boolean(gender)&&Boolean(calcType)&&Boolean(amountRaw)&&isAmountValid();}// Шаг 1: проверка почты\nfunction handleEmailNext(){if(!email.toLowerCase().endsWith('@vtb.ru')){setEmailError('Используйте корпоративную почту домена @vtb.ru');return;}setEmailError('');setStep(2);}// ввод суммы: храним raw, показываем с точками\nfunction onAmountChange(e){const raw=e.target.value.replace(/\\D/g,'');setAmountRaw(raw);let d=raw,o='';while(d.length>3){o='.'+d.slice(-3)+o;d=d.slice(0,-3);}setAmountDisplay(d+o);const n=parseInt(raw,10)||0;if(calcType==='premium'&&n<60000)setAmountError('Мин. 60 000 ₽');else if(calcType==='sum'&&n<450000)setAmountError('Мин. 450 000 ₽');else setAmountError('');}// Шаг 2: «Далее →» — POST на прокси\nasync function handleNext(){if(!canGoNext())return;setIsProcessing(true);const dateStr=birthDate.toLocaleDateString('ru-RU',{day:'2-digit',month:'2-digit',year:'numeric'});const payload={email,birthdate:dateStr,age:getAge(birthDate),gender,payment:calcType==='premium'?'Страхового взноса':'Страховой суммы',sum:parseInt(amountRaw,10)};try{const res=await fetch('/api/proxy/snp/save',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});if(!res.ok){const text=await res.text();console.error('Сервер вернул ошибку',res.status,text);alert(`Ошибка ${res.status}: см. консоль`);}else{const data=await res.json();setResultData(data);}}catch(err){console.error('Ошибка запроса:',err);alert('Не удалось выполнить запрос');}finally{setIsProcessing(false);}}function goHome(){navigate('/MainMenu');}// экран «Выполняется расчёт…»\nif(isProcessing){return/*#__PURE__*/_jsxs(\"div\",{className:\"processing-screen\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u0412\\u044B\\u043F\\u043E\\u043B\\u043D\\u044F\\u0435\\u0442\\u0441\\u044F \\u0440\\u0430\\u0441\\u0447\\u0451\\u0442...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"arrow-animation\",children:\"\\u2192\"})]});}// экран результатов\nif(resultData){return/*#__PURE__*/_jsxs(\"div\",{className:\"result-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0420\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u044B \\u0440\\u0430\\u0441\\u0447\\u0451\\u0442\\u0430\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0412\\u043E\\u0437\\u0440\\u0430\\u0441\\u0442:\"}),\" \",resultData.age,\" \\u043B\\u0435\\u0442\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u041F\\u043E\\u043B:\"}),\" \",resultData.gender]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0422\\u0438\\u043F \\u0440\\u0430\\u0441\\u0447\\u0451\\u0442\\u0430:\"}),\" \",resultData.payment]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0421\\u0443\\u043C\\u043C\\u0430:\"}),\" \",amountDisplay,\" \\u20BD\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0418\\u0442\\u043E\\u0433\\u043E\\u0432\\u0430\\u044F \\u043F\\u0440\\u0435\\u043C\\u0438\\u044F:\"}),\" \",resultData.totalPremium,\" \\u20BD\"]})]});}// основной UI\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"snp-container\",style:{backgroundImage:`url(${backgroundImage})`},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"polls-header\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-btn\",onClick:goHome,children:/*#__PURE__*/_jsx(\"img\",{src:mainmenuIcon,alt:\"\\u0414\\u043E\\u043C\\u043E\\u0439\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"logo-wrapper animate-logo\",children:/*#__PURE__*/_jsx(\"img\",{className:\"poll-logo\",src:logoImage,alt:\"\\u041B\\u043E\\u0433\\u043E\\u0442\\u0438\\u043F\"})}),step===2&&/*#__PURE__*/_jsx(\"button\",{className:\"forward-btn\",onClick:handleNext,disabled:!canGoNext(),children:/*#__PURE__*/_jsx(\"span\",{className:\"arrow-icon\",children:\"\\u2192\"})})]}),step===1&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"email-step\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"email-label\",children:\"\\u041A\\u043E\\u0440\\u043F\\u043E\\u0440\\u0430\\u0442\\u0438\\u0432\\u043D\\u0430\\u044F \\u043F\\u043E\\u0447\\u0442\\u0430 \\u0412\\u0422\\u0411:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"example@vtb.ru\",value:email,onChange:e=>setEmail(e.target.value)})]}),emailError&&/*#__PURE__*/_jsx(\"div\",{className:\"input-error\",children:emailError}),/*#__PURE__*/_jsx(\"div\",{className:\"polls-buttons\",children:/*#__PURE__*/_jsx(\"button\",{className:\"polls-btn animate-btn btn1\",onClick:handleEmailNext,children:\"\\u041F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0438\\u0442\\u044C\"})})]}),step===2&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"polls-title\",children:\"\\u0420\\u0430\\u0441\\u0447\\u0451\\u0442 \\u043F\\u043E \\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0435 \\xAB\\u0421\\u0442\\u0440\\u0430\\u0442\\u0435\\u0433\\u0438\\u044F \\u043D\\u0430 \\u043F\\u044F\\u0442\\u044C. \\u0413\\u0430\\u0440\\u0430\\u043D\\u0442\\xBB\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"date-section\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"section-label\",children:\"\\u0414\\u0430\\u0442\\u0430 \\u0440\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F:\"}),/*#__PURE__*/_jsx(DateWheelPicker,{value:birthDate,onChange:val=>{if(val instanceof Date)setBirthDate(val);else if(val!==null&&val!==void 0&&val.day)setBirthDate(new Date(val.year,val.month-1,val.day));}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"section-gap\"}),/*#__PURE__*/_jsx(\"div\",{className:\"section-subtitle\",children:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043F\\u043E\\u043B:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"gender-section\",children:[/*#__PURE__*/_jsxs(\"button\",{className:`insurance-btn ${gender==='male'?'selected':''}`,onClick:()=>setGender(prev=>prev==='male'?null:'male'),children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\u041C\\u0443\\u0436\\u0441\\u043A\\u043E\\u0439\"}),/*#__PURE__*/_jsx(\"div\",{className:\"emoji\",children:\"\\uD83D\\uDC68\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:`insurance-btn ${gender==='female'?'selected':''}`,onClick:()=>setGender(prev=>prev==='female'?null:'female'),children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\u0416\\u0435\\u043D\\u0441\\u043A\\u0438\\u0439\"}),/*#__PURE__*/_jsx(\"div\",{className:\"emoji\",children:\"\\uD83D\\uDC69\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"section-gap\"}),/*#__PURE__*/_jsx(\"div\",{className:\"section-subtitle\",children:\"\\u0420\\u0430\\u0441\\u0447\\u0451\\u0442 \\u043E\\u0442\\u2026\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"insurance-options\",children:[/*#__PURE__*/_jsxs(\"button\",{className:`insurance-btn ${calcType==='premium'?'selected':''}`,onClick:()=>setCalcType(prev=>prev==='premium'?null:'premium'),children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\u0421\\u0442\\u0440\\u0430\\u0445\\u043E\\u0432\\u043E\\u0433\\u043E\"}),/*#__PURE__*/_jsx(\"div\",{children:\"\\u0432\\u0437\\u043D\\u043E\\u0441\\u0430\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:`insurance-btn ${calcType==='sum'?'selected':''}`,onClick:()=>setCalcType(prev=>prev==='sum'?null:'sum'),children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\u0421\\u0442\\u0440\\u0430\\u0445\\u043E\\u0432\\u043E\\u0439\"}),/*#__PURE__*/_jsx(\"div\",{children:\"\\u0441\\u0443\\u043C\\u043C\\u044B\"})]})]}),calcType&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-gap\"}),/*#__PURE__*/_jsx(\"div\",{className:\"section-subtitle\",children:\"\\u0421\\u0443\\u043C\\u043C\\u0430 (\\u20BD):\"}),/*#__PURE__*/_jsx(\"div\",{className:\"sum-section\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:calcType==='premium'?'Мин. 60 000':'Мин. 450 000',value:amountDisplay,onChange:onAmountChange})}),amountError&&/*#__PURE__*/_jsx(\"div\",{className:\"input-error\",children:amountError})]})]})]});}","map":{"version":3,"names":["React","useState","useNavigate","mainmenuIcon","logoImage","backgroundImage","DateWheelPicker","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SNPPage","navigate","step","setStep","email","setEmail","emailError","setEmailError","birthDate","setBirthDate","Date","gender","setGender","calcType","setCalcType","amountRaw","setAmountRaw","amountDisplay","setAmountDisplay","amountError","setAmountError","isProcessing","setIsProcessing","resultData","setResultData","getAge","d","today","age","getFullYear","getMonth","getDate","isAmountValid","n","parseInt","canGoNext","Boolean","handleEmailNext","toLowerCase","endsWith","onAmountChange","e","raw","target","value","replace","o","length","slice","handleNext","dateStr","toLocaleDateString","day","month","year","payload","birthdate","payment","sum","res","fetch","method","headers","body","JSON","stringify","ok","text","console","error","status","alert","data","json","err","goHome","className","children","totalPremium","style","onClick","src","alt","disabled","type","placeholder","onChange","val","prev"],"sources":["C:/Users/shapeless/Desktop/miniapp/src/SNPPage.js"],"sourcesContent":["// src/SNPPage.js\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport mainmenuIcon    from './components/icons/mainmenu.png';\nimport logoImage       from './components/logo.png';\nimport backgroundImage from './components/background.png';\nimport DateWheelPicker from './DateWheelPicker';\n\nimport './PollsPage.css';\nimport './SNPPage.css';\n\nexport default function SNPPage() {\n  const navigate = useNavigate();\n\n  // — состояния —\n  const [step, setStep]                   = useState(1);\n  const [email, setEmail]                 = useState('');\n  const [emailError, setEmailError]       = useState('');\n  const [birthDate, setBirthDate]         = useState(new Date());\n  const [gender, setGender]               = useState(null);\n  const [calcType, setCalcType]           = useState(null);\n  const [amountRaw, setAmountRaw]         = useState('');\n  const [amountDisplay, setAmountDisplay] = useState('');\n  const [amountError, setAmountError]     = useState('');\n  const [isProcessing, setIsProcessing]   = useState(false);\n  const [resultData, setResultData]       = useState(null);\n\n  // подсчёт возраста\n  function getAge(d) {\n    if (!(d instanceof Date)) return 0;\n    const today = new Date();\n    let age = today.getFullYear() - d.getFullYear();\n    if (\n      today.getMonth() < d.getMonth() ||\n      (today.getMonth() === d.getMonth() && today.getDate() < d.getDate())\n    ) age--;\n    return age;\n  }\n\n  // валидация суммы\n  function isAmountValid() {\n    const n = parseInt(amountRaw, 10) || 0;\n    return (\n      (calcType === 'premium' && n >= 60000) ||\n      (calcType === 'sum'     && n >= 450000)\n    );\n  }\n\n  // кнопка «Далее →» активна, если всё заполнено\n  function canGoNext() {\n    return (\n      step === 2 &&\n      getAge(birthDate) >= 18 &&\n      Boolean(gender) &&\n      Boolean(calcType) &&\n      Boolean(amountRaw) &&\n      isAmountValid()\n    );\n  }\n\n  // Шаг 1: проверка почты\n  function handleEmailNext() {\n    if (!email.toLowerCase().endsWith('@vtb.ru')) {\n      setEmailError('Используйте корпоративную почту домена @vtb.ru');\n      return;\n    }\n    setEmailError('');\n    setStep(2);\n  }\n\n  // ввод суммы: храним raw, показываем с точками\n  function onAmountChange(e) {\n    const raw = e.target.value.replace(/\\D/g, '');\n    setAmountRaw(raw);\n    let d = raw, o = '';\n    while (d.length > 3) {\n      o = '.' + d.slice(-3) + o;\n      d = d.slice(0, -3);\n    }\n    setAmountDisplay(d + o);\n\n    const n = parseInt(raw, 10) || 0;\n    if      (calcType === 'premium' && n < 60000) setAmountError('Мин. 60 000 ₽');\n    else if (calcType === 'sum'     && n < 450000) setAmountError('Мин. 450 000 ₽');\n    else                                          setAmountError('');\n  }\n\n  // Шаг 2: «Далее →» — POST на прокси\n  async function handleNext() {\n    if (!canGoNext()) return;\n    setIsProcessing(true);\n\n    const dateStr = birthDate.toLocaleDateString('ru-RU', {\n      day: '2-digit', month: '2-digit', year: 'numeric'\n    });\n    const payload = {\n      email,\n      birthdate: dateStr,\n      age:        getAge(birthDate),\n      gender,\n      payment:    calcType === 'premium' ? 'Страхового взноса' : 'Страховой суммы',\n      sum:        parseInt(amountRaw, 10)\n    };\n\n    try {\n      const res = await fetch('/api/proxy/snp/save', {\n        method:  'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body:    JSON.stringify(payload)\n      });\n\n      if (!res.ok) {\n        const text = await res.text();\n        console.error('Сервер вернул ошибку', res.status, text);\n        alert(`Ошибка ${res.status}: см. консоль`);\n      } else {\n        const data = await res.json();\n        setResultData(data);\n      }\n    } catch (err) {\n      console.error('Ошибка запроса:', err);\n      alert('Не удалось выполнить запрос');\n    } finally {\n      setIsProcessing(false);\n    }\n  }\n\n  function goHome() {\n    navigate('/MainMenu');\n  }\n\n  // экран «Выполняется расчёт…»\n  if (isProcessing) {\n    return (\n      <div className=\"processing-screen\">\n        <p>Выполняется расчёт...</p>\n        <div className=\"arrow-animation\">→</div>\n      </div>\n    );\n  }\n\n  // экран результатов\n  if (resultData) {\n    return (\n      <div className=\"result-container\">\n        <h2>Результаты расчёта</h2>\n        <p><strong>Возраст:</strong> {resultData.age} лет</p>\n        <p><strong>Пол:</strong> {resultData.gender}</p>\n        <p><strong>Тип расчёта:</strong> {resultData.payment}</p>\n        <p><strong>Сумма:</strong> {amountDisplay} ₽</p>\n        <p><strong>Итоговая премия:</strong> {resultData.totalPremium} ₽</p>\n      </div>\n    );\n  }\n\n  // основной UI\n  return (\n    <div\n      className=\"snp-container\"\n      style={{ backgroundImage: `url(${backgroundImage})` }}\n    >\n      {/* HEADER */}\n      <div className=\"polls-header\">\n        <button className=\"back-btn\" onClick={goHome}>\n          <img src={mainmenuIcon} alt=\"Домой\" />\n        </button>\n        <div className=\"logo-wrapper animate-logo\">\n          <img className=\"poll-logo\" src={logoImage} alt=\"Логотип\" />\n        </div>\n        {step === 2 && (\n          <button\n            className=\"forward-btn\"\n            onClick={handleNext}\n            disabled={!canGoNext()}\n          >\n            <span className=\"arrow-icon\">→</span>\n          </button>\n        )}\n      </div>\n\n      {/* Шаг 1 */}\n      {step === 1 && (\n        <>\n          <div className=\"email-step\">\n            <label className=\"email-label\">Корпоративная почта ВТБ:</label>\n            <input\n              type=\"email\"\n              placeholder=\"example@vtb.ru\"\n              value={email}\n              onChange={e => setEmail(e.target.value)}\n            />\n          </div>\n          {emailError && <div className=\"input-error\">{emailError}</div>}\n          <div className=\"polls-buttons\">\n            <button\n              className=\"polls-btn animate-btn btn1\"\n              onClick={handleEmailNext}\n            >\n              Продолжить\n            </button>\n          </div>\n        </>\n      )}\n\n      {/* Шаг 2 */}\n      {step === 2 && (\n        <>\n          <h1 className=\"polls-title\">\n            Расчёт по программе «Стратегия на пять. Гарант»\n          </h1>\n\n          <div className=\"date-section\">\n            <label className=\"section-label\">Дата рождения:</label>\n            <DateWheelPicker\n              value={birthDate}\n              onChange={val => {\n                if (val instanceof Date) setBirthDate(val);\n                else if (val?.day)\n                  setBirthDate(new Date(val.year, val.month - 1, val.day));\n              }}\n            />\n          </div>\n\n          <div className=\"section-gap\" />\n          <div className=\"section-subtitle\">Выберите пол:</div>\n          <div className=\"gender-section\">\n            <button\n              className={`insurance-btn ${gender === 'male' ? 'selected' : ''}`}\n              onClick={() => setGender(prev => (prev === 'male' ? null : 'male'))}\n            >\n              <div>Мужской</div><div className=\"emoji\">👨</div>\n            </button>\n            <button\n              className={`insurance-btn ${gender === 'female' ? 'selected' : ''}`}\n              onClick={() => setGender(prev => (prev === 'female' ? null : 'female'))}\n            >\n              <div>Женский</div><div className=\"emoji\">👩</div>\n            </button>\n          </div>\n\n          <div className=\"section-gap\" />\n          <div className=\"section-subtitle\">Расчёт от…</div>\n          <div className=\"insurance-options\">\n            <button\n              className={`insurance-btn ${calcType === 'premium' ? 'selected' : ''}`}\n              onClick={() => setCalcType(prev => (prev === 'premium' ? null : 'premium'))}\n            >\n              <div>Страхового</div><div>взноса</div>\n            </button>\n            <button\n              className={`insurance-btn ${calcType === 'sum' ? 'selected' : ''}`}\n              onClick={() => setCalcType(prev => (prev === 'sum' ? null : 'sum'))}\n            >\n              <div>Страховой</div><div>суммы</div>\n            </button>\n          </div>\n\n          {calcType && (\n            <>\n              <div className=\"section-gap\" />\n              <div className=\"section-subtitle\">Сумма (₽):</div>\n              <div className=\"sum-section\">\n                <input\n                  type=\"text\"\n                  placeholder={calcType === 'premium' ? 'Мин. 60 000' : 'Мин. 450 000'}\n                  value={amountDisplay}\n                  onChange={onAmountChange}\n                />\n              </div>\n              {amountError && <div className=\"input-error\">{amountError}</div>}\n            </>\n          )}\n        </>\n      )}\n    </div>\n  );\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAE9C,MAAO,CAAAC,YAAY,KAAS,iCAAiC,CAC7D,MAAO,CAAAC,SAAS,KAAY,uBAAuB,CACnD,MAAO,CAAAC,eAAe,KAAM,6BAA6B,CACzD,MAAO,CAAAC,eAAe,KAAM,mBAAmB,CAE/C,MAAO,iBAAiB,CACxB,MAAO,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEvB,cAAe,SAAS,CAAAC,OAAOA,CAAA,CAAG,CAChC,KAAM,CAAAC,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAE9B;AACA,KAAM,CAACa,IAAI,CAAEC,OAAO,CAAC,CAAqBf,QAAQ,CAAC,CAAC,CAAC,CACrD,KAAM,CAACgB,KAAK,CAAEC,QAAQ,CAAC,CAAmBjB,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACkB,UAAU,CAAEC,aAAa,CAAC,CAASnB,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACoB,SAAS,CAAEC,YAAY,CAAC,CAAWrB,QAAQ,CAAC,GAAI,CAAAsB,IAAI,CAAC,CAAC,CAAC,CAC9D,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAiBxB,QAAQ,CAAC,IAAI,CAAC,CACxD,KAAM,CAACyB,QAAQ,CAAEC,WAAW,CAAC,CAAa1B,QAAQ,CAAC,IAAI,CAAC,CACxD,KAAM,CAAC2B,SAAS,CAAEC,YAAY,CAAC,CAAW5B,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAAC6B,aAAa,CAAEC,gBAAgB,CAAC,CAAG9B,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAAC+B,WAAW,CAAEC,cAAc,CAAC,CAAOhC,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACiC,YAAY,CAAEC,eAAe,CAAC,CAAKlC,QAAQ,CAAC,KAAK,CAAC,CACzD,KAAM,CAACmC,UAAU,CAAEC,aAAa,CAAC,CAASpC,QAAQ,CAAC,IAAI,CAAC,CAExD;AACA,QAAS,CAAAqC,MAAMA,CAACC,CAAC,CAAE,CACjB,GAAI,EAAEA,CAAC,WAAY,CAAAhB,IAAI,CAAC,CAAE,MAAO,EAAC,CAClC,KAAM,CAAAiB,KAAK,CAAG,GAAI,CAAAjB,IAAI,CAAC,CAAC,CACxB,GAAI,CAAAkB,GAAG,CAAGD,KAAK,CAACE,WAAW,CAAC,CAAC,CAAGH,CAAC,CAACG,WAAW,CAAC,CAAC,CAC/C,GACEF,KAAK,CAACG,QAAQ,CAAC,CAAC,CAAGJ,CAAC,CAACI,QAAQ,CAAC,CAAC,EAC9BH,KAAK,CAACG,QAAQ,CAAC,CAAC,GAAKJ,CAAC,CAACI,QAAQ,CAAC,CAAC,EAAIH,KAAK,CAACI,OAAO,CAAC,CAAC,CAAGL,CAAC,CAACK,OAAO,CAAC,CAAE,CACpEH,GAAG,EAAE,CACP,MAAO,CAAAA,GAAG,CACZ,CAEA;AACA,QAAS,CAAAI,aAAaA,CAAA,CAAG,CACvB,KAAM,CAAAC,CAAC,CAAGC,QAAQ,CAACnB,SAAS,CAAE,EAAE,CAAC,EAAI,CAAC,CACtC,MACG,CAAAF,QAAQ,GAAK,SAAS,EAAIoB,CAAC,EAAI,KAAK,EACpCpB,QAAQ,GAAK,KAAK,EAAQoB,CAAC,EAAI,MAAO,CAE3C,CAEA;AACA,QAAS,CAAAE,SAASA,CAAA,CAAG,CACnB,MACE,CAAAjC,IAAI,GAAK,CAAC,EACVuB,MAAM,CAACjB,SAAS,CAAC,EAAI,EAAE,EACvB4B,OAAO,CAACzB,MAAM,CAAC,EACfyB,OAAO,CAACvB,QAAQ,CAAC,EACjBuB,OAAO,CAACrB,SAAS,CAAC,EAClBiB,aAAa,CAAC,CAAC,CAEnB,CAEA;AACA,QAAS,CAAAK,eAAeA,CAAA,CAAG,CACzB,GAAI,CAACjC,KAAK,CAACkC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,SAAS,CAAC,CAAE,CAC5ChC,aAAa,CAAC,gDAAgD,CAAC,CAC/D,OACF,CACAA,aAAa,CAAC,EAAE,CAAC,CACjBJ,OAAO,CAAC,CAAC,CAAC,CACZ,CAEA;AACA,QAAS,CAAAqC,cAAcA,CAACC,CAAC,CAAE,CACzB,KAAM,CAAAC,GAAG,CAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAACC,OAAO,CAAC,KAAK,CAAE,EAAE,CAAC,CAC7C7B,YAAY,CAAC0B,GAAG,CAAC,CACjB,GAAI,CAAAhB,CAAC,CAAGgB,GAAG,CAAEI,CAAC,CAAG,EAAE,CACnB,MAAOpB,CAAC,CAACqB,MAAM,CAAG,CAAC,CAAE,CACnBD,CAAC,CAAG,GAAG,CAAGpB,CAAC,CAACsB,KAAK,CAAC,CAAC,CAAC,CAAC,CAAGF,CAAC,CACzBpB,CAAC,CAAGA,CAAC,CAACsB,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC,CACpB,CACA9B,gBAAgB,CAACQ,CAAC,CAAGoB,CAAC,CAAC,CAEvB,KAAM,CAAAb,CAAC,CAAGC,QAAQ,CAACQ,GAAG,CAAE,EAAE,CAAC,EAAI,CAAC,CAChC,GAAS7B,QAAQ,GAAK,SAAS,EAAIoB,CAAC,CAAG,KAAK,CAAEb,cAAc,CAAC,eAAe,CAAC,CAAC,IACzE,IAAIP,QAAQ,GAAK,KAAK,EAAQoB,CAAC,CAAG,MAAM,CAAEb,cAAc,CAAC,gBAAgB,CAAC,CAAC,IAClC,CAAAA,cAAc,CAAC,EAAE,CAAC,CAClE,CAEA;AACA,cAAe,CAAA6B,UAAUA,CAAA,CAAG,CAC1B,GAAI,CAACd,SAAS,CAAC,CAAC,CAAE,OAClBb,eAAe,CAAC,IAAI,CAAC,CAErB,KAAM,CAAA4B,OAAO,CAAG1C,SAAS,CAAC2C,kBAAkB,CAAC,OAAO,CAAE,CACpDC,GAAG,CAAE,SAAS,CAAEC,KAAK,CAAE,SAAS,CAAEC,IAAI,CAAE,SAC1C,CAAC,CAAC,CACF,KAAM,CAAAC,OAAO,CAAG,CACdnD,KAAK,CACLoD,SAAS,CAAEN,OAAO,CAClBtB,GAAG,CAASH,MAAM,CAACjB,SAAS,CAAC,CAC7BG,MAAM,CACN8C,OAAO,CAAK5C,QAAQ,GAAK,SAAS,CAAG,mBAAmB,CAAG,iBAAiB,CAC5E6C,GAAG,CAASxB,QAAQ,CAACnB,SAAS,CAAE,EAAE,CACpC,CAAC,CAED,GAAI,CACF,KAAM,CAAA4C,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,qBAAqB,CAAE,CAC7CC,MAAM,CAAG,MAAM,CACfC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAKC,IAAI,CAACC,SAAS,CAACV,OAAO,CACjC,CAAC,CAAC,CAEF,GAAI,CAACI,GAAG,CAACO,EAAE,CAAE,CACX,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAR,GAAG,CAACQ,IAAI,CAAC,CAAC,CAC7BC,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAEV,GAAG,CAACW,MAAM,CAAEH,IAAI,CAAC,CACvDI,KAAK,CAAC,UAAUZ,GAAG,CAACW,MAAM,eAAe,CAAC,CAC5C,CAAC,IAAM,CACL,KAAM,CAAAE,IAAI,CAAG,KAAM,CAAAb,GAAG,CAACc,IAAI,CAAC,CAAC,CAC7BjD,aAAa,CAACgD,IAAI,CAAC,CACrB,CACF,CAAE,MAAOE,GAAG,CAAE,CACZN,OAAO,CAACC,KAAK,CAAC,iBAAiB,CAAEK,GAAG,CAAC,CACrCH,KAAK,CAAC,6BAA6B,CAAC,CACtC,CAAC,OAAS,CACRjD,eAAe,CAAC,KAAK,CAAC,CACxB,CACF,CAEA,QAAS,CAAAqD,MAAMA,CAAA,CAAG,CAChB1E,QAAQ,CAAC,WAAW,CAAC,CACvB,CAEA;AACA,GAAIoB,YAAY,CAAE,CAChB,mBACExB,KAAA,QAAK+E,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChClF,IAAA,MAAAkF,QAAA,CAAG,4GAAqB,CAAG,CAAC,cAC5BlF,IAAA,QAAKiF,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,QAAC,CAAK,CAAC,EACrC,CAAC,CAEV,CAEA;AACA,GAAItD,UAAU,CAAE,CACd,mBACE1B,KAAA,QAAK+E,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BlF,IAAA,OAAAkF,QAAA,CAAI,yGAAkB,CAAI,CAAC,cAC3BhF,KAAA,MAAAgF,QAAA,eAAGlF,IAAA,WAAAkF,QAAA,CAAQ,6CAAQ,CAAQ,CAAC,IAAC,CAACtD,UAAU,CAACK,GAAG,CAAC,qBAAI,EAAG,CAAC,cACrD/B,KAAA,MAAAgF,QAAA,eAAGlF,IAAA,WAAAkF,QAAA,CAAQ,qBAAI,CAAQ,CAAC,IAAC,CAACtD,UAAU,CAACZ,MAAM,EAAI,CAAC,cAChDd,KAAA,MAAAgF,QAAA,eAAGlF,IAAA,WAAAkF,QAAA,CAAQ,gEAAY,CAAQ,CAAC,IAAC,CAACtD,UAAU,CAACkC,OAAO,EAAI,CAAC,cACzD5D,KAAA,MAAAgF,QAAA,eAAGlF,IAAA,WAAAkF,QAAA,CAAQ,iCAAM,CAAQ,CAAC,IAAC,CAAC5D,aAAa,CAAC,SAAE,EAAG,CAAC,cAChDpB,KAAA,MAAAgF,QAAA,eAAGlF,IAAA,WAAAkF,QAAA,CAAQ,wFAAgB,CAAQ,CAAC,IAAC,CAACtD,UAAU,CAACuD,YAAY,CAAC,SAAE,EAAG,CAAC,EACjE,CAAC,CAEV,CAEA;AACA,mBACEjF,KAAA,QACE+E,SAAS,CAAC,eAAe,CACzBG,KAAK,CAAE,CAAEvF,eAAe,CAAE,OAAOA,eAAe,GAAI,CAAE,CAAAqF,QAAA,eAGtDhF,KAAA,QAAK+E,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BlF,IAAA,WAAQiF,SAAS,CAAC,UAAU,CAACI,OAAO,CAAEL,MAAO,CAAAE,QAAA,cAC3ClF,IAAA,QAAKsF,GAAG,CAAE3F,YAAa,CAAC4F,GAAG,CAAC,gCAAO,CAAE,CAAC,CAChC,CAAC,cACTvF,IAAA,QAAKiF,SAAS,CAAC,2BAA2B,CAAAC,QAAA,cACxClF,IAAA,QAAKiF,SAAS,CAAC,WAAW,CAACK,GAAG,CAAE1F,SAAU,CAAC2F,GAAG,CAAC,4CAAS,CAAE,CAAC,CACxD,CAAC,CACLhF,IAAI,GAAK,CAAC,eACTP,IAAA,WACEiF,SAAS,CAAC,aAAa,CACvBI,OAAO,CAAE/B,UAAW,CACpBkC,QAAQ,CAAE,CAAChD,SAAS,CAAC,CAAE,CAAA0C,QAAA,cAEvBlF,IAAA,SAAMiF,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,QAAC,CAAM,CAAC,CAC/B,CACT,EACE,CAAC,CAGL3E,IAAI,GAAK,CAAC,eACTL,KAAA,CAAAE,SAAA,EAAA8E,QAAA,eACEhF,KAAA,QAAK+E,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBlF,IAAA,UAAOiF,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,mIAAwB,CAAO,CAAC,cAC/DlF,IAAA,UACEyF,IAAI,CAAC,OAAO,CACZC,WAAW,CAAC,gBAAgB,CAC5BzC,KAAK,CAAExC,KAAM,CACbkF,QAAQ,CAAE7C,CAAC,EAAIpC,QAAQ,CAACoC,CAAC,CAACE,MAAM,CAACC,KAAK,CAAE,CACzC,CAAC,EACC,CAAC,CACLtC,UAAU,eAAIX,IAAA,QAAKiF,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEvE,UAAU,CAAM,CAAC,cAC9DX,IAAA,QAAKiF,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BlF,IAAA,WACEiF,SAAS,CAAC,4BAA4B,CACtCI,OAAO,CAAE3C,eAAgB,CAAAwC,QAAA,CAC1B,8DAED,CAAQ,CAAC,CACN,CAAC,EACN,CACH,CAGA3E,IAAI,GAAK,CAAC,eACTL,KAAA,CAAAE,SAAA,EAAA8E,QAAA,eACElF,IAAA,OAAIiF,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,qPAE5B,CAAI,CAAC,cAELhF,KAAA,QAAK+E,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BlF,IAAA,UAAOiF,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,4EAAc,CAAO,CAAC,cACvDlF,IAAA,CAACF,eAAe,EACdmD,KAAK,CAAEpC,SAAU,CACjB8E,QAAQ,CAAEC,GAAG,EAAI,CACf,GAAIA,GAAG,WAAY,CAAA7E,IAAI,CAAED,YAAY,CAAC8E,GAAG,CAAC,CAAC,IACtC,IAAIA,GAAG,SAAHA,GAAG,WAAHA,GAAG,CAAEnC,GAAG,CACf3C,YAAY,CAAC,GAAI,CAAAC,IAAI,CAAC6E,GAAG,CAACjC,IAAI,CAAEiC,GAAG,CAAClC,KAAK,CAAG,CAAC,CAAEkC,GAAG,CAACnC,GAAG,CAAC,CAAC,CAC5D,CAAE,CACH,CAAC,EACC,CAAC,cAENzD,IAAA,QAAKiF,SAAS,CAAC,aAAa,CAAE,CAAC,cAC/BjF,IAAA,QAAKiF,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,sEAAa,CAAK,CAAC,cACrDhF,KAAA,QAAK+E,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BhF,KAAA,WACE+E,SAAS,CAAE,iBAAiBjE,MAAM,GAAK,MAAM,CAAG,UAAU,CAAG,EAAE,EAAG,CAClEqE,OAAO,CAAEA,CAAA,GAAMpE,SAAS,CAAC4E,IAAI,EAAKA,IAAI,GAAK,MAAM,CAAG,IAAI,CAAG,MAAO,CAAE,CAAAX,QAAA,eAEpElF,IAAA,QAAAkF,QAAA,CAAK,4CAAO,CAAK,CAAC,cAAAlF,IAAA,QAAKiF,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,cAAE,CAAK,CAAC,EAC3C,CAAC,cACThF,KAAA,WACE+E,SAAS,CAAE,iBAAiBjE,MAAM,GAAK,QAAQ,CAAG,UAAU,CAAG,EAAE,EAAG,CACpEqE,OAAO,CAAEA,CAAA,GAAMpE,SAAS,CAAC4E,IAAI,EAAKA,IAAI,GAAK,QAAQ,CAAG,IAAI,CAAG,QAAS,CAAE,CAAAX,QAAA,eAExElF,IAAA,QAAAkF,QAAA,CAAK,4CAAO,CAAK,CAAC,cAAAlF,IAAA,QAAKiF,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,cAAE,CAAK,CAAC,EAC3C,CAAC,EACN,CAAC,cAENlF,IAAA,QAAKiF,SAAS,CAAC,aAAa,CAAE,CAAC,cAC/BjF,IAAA,QAAKiF,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,yDAAU,CAAK,CAAC,cAClDhF,KAAA,QAAK+E,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChChF,KAAA,WACE+E,SAAS,CAAE,iBAAiB/D,QAAQ,GAAK,SAAS,CAAG,UAAU,CAAG,EAAE,EAAG,CACvEmE,OAAO,CAAEA,CAAA,GAAMlE,WAAW,CAAC0E,IAAI,EAAKA,IAAI,GAAK,SAAS,CAAG,IAAI,CAAG,SAAU,CAAE,CAAAX,QAAA,eAE5ElF,IAAA,QAAAkF,QAAA,CAAK,8DAAU,CAAK,CAAC,cAAAlF,IAAA,QAAAkF,QAAA,CAAK,sCAAM,CAAK,CAAC,EAChC,CAAC,cACThF,KAAA,WACE+E,SAAS,CAAE,iBAAiB/D,QAAQ,GAAK,KAAK,CAAG,UAAU,CAAG,EAAE,EAAG,CACnEmE,OAAO,CAAEA,CAAA,GAAMlE,WAAW,CAAC0E,IAAI,EAAKA,IAAI,GAAK,KAAK,CAAG,IAAI,CAAG,KAAM,CAAE,CAAAX,QAAA,eAEpElF,IAAA,QAAAkF,QAAA,CAAK,wDAAS,CAAK,CAAC,cAAAlF,IAAA,QAAAkF,QAAA,CAAK,gCAAK,CAAK,CAAC,EAC9B,CAAC,EACN,CAAC,CAELhE,QAAQ,eACPhB,KAAA,CAAAE,SAAA,EAAA8E,QAAA,eACElF,IAAA,QAAKiF,SAAS,CAAC,aAAa,CAAE,CAAC,cAC/BjF,IAAA,QAAKiF,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,0CAAU,CAAK,CAAC,cAClDlF,IAAA,QAAKiF,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1BlF,IAAA,UACEyF,IAAI,CAAC,MAAM,CACXC,WAAW,CAAExE,QAAQ,GAAK,SAAS,CAAG,aAAa,CAAG,cAAe,CACrE+B,KAAK,CAAE3B,aAAc,CACrBqE,QAAQ,CAAE9C,cAAe,CAC1B,CAAC,CACC,CAAC,CACLrB,WAAW,eAAIxB,IAAA,QAAKiF,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAE1D,WAAW,CAAM,CAAC,EAChE,CACH,EACD,CACH,EACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}