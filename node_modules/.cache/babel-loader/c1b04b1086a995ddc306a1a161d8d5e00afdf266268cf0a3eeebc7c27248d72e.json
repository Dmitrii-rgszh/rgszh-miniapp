{"ast":null,"code":"// src/WelcomePage.js\nimport React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{useSwipeable}from'react-swipeable';import{motion,AnimatePresence}from'framer-motion';import'./Styles/global.css';// Montserrat + сбросы\nimport'./Styles/background.css';// градиент + шум + subtle-dot + pi\nimport'./Styles/logo.css';// стили логотипа (позиционирование)\nimport'./WelcomePage.css';// стили контейнера и текста\nimport backgroundImage from'./components/background.png';import logoImage from'./components/logo.png';import piImage from'./components/pi.png';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WelcomePage=()=>{const navigate=useNavigate();// Состояние «выходной анимации»\nconst[isExiting,setIsExiting]=useState(false);// Генерация рандомных длительностей для pi-иконки\nconst[moveDuration,setMoveDuration]=useState('70s');const[rotateDuration,setRotateDuration]=useState('6s');// Формируем приветствие по времени суток\nconst[greeting,setGreeting]=useState('');useEffect(()=>{const hour=new Date().getHours();let text='';if(hour>=6&&hour<11)text='Доброе утро';else if(hour>=11&&hour<17)text='Добрый день';else if(hour>=17&&hour<24)text='Добрый вечер';else text='Доброй ночи';setGreeting(text);// Рандомная длительность дрейфа pi (от 50s до 90s)\nconst rndMove=Math.random()*(90-50)+50;// Рандомная длительность вращения pi (от 4s до 8s)\nconst rndRot=Math.random()*(8-4)+4;setMoveDuration(`${rndMove.toFixed(2)}s`);setRotateDuration(`${rndRot.toFixed(2)}s`);// Запускаем цепочку: по прошествии 2.5 секунд –\n// включаем «выходную анимацию» для лого и текста,\n// через 3 секунды (с доп. задержкой) переходим на /main-menu\nconst exitTimer=setTimeout(()=>setIsExiting(true),2500);const navTimer=setTimeout(()=>navigate('/main-menu'),3000);return()=>{clearTimeout(exitTimer);clearTimeout(navTimer);};},[navigate]);// Обработчики свайпа (если нужно)\nconst swipeHandlers=useSwipeable({preventDefault:true});// Варианты Framer Motion для логотипа\nconst logoVariants={initial:{y:-200,opacity:0},animate:{y:110,opacity:1,transition:{duration:0.8,ease:'easeOut'}},exit:{y:-200,opacity:0,transition:{duration:0.5,ease:'easeIn'}}};// Варианты Framer Motion для текста\nconst textVariants={initial:{x:'-100%',opacity:0},animate:{x:'0%',opacity:1,transition:{duration:0.8,ease:'easeOut',delay:0.5}},exit:{x:'100%',opacity:0,transition:{duration:0.5,ease:'easeIn'}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-container\",style:{backgroundImage:`url(${backgroundImage})`},...swipeHandlers,children:[/*#__PURE__*/_jsx(\"div\",{className:\"subtle-dot dot-1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtle-dot dot-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtle-dot dot-3\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtle-dot dot-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtle-dot dot-5\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtle-dot dot-6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtle-dot dot-7\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtle-dot dot-8\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtle-dot dot-9\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtle-dot dot-10\"}),/*#__PURE__*/_jsx(\"div\",{className:\"pi-wrapper\",style:{'--pi-move-duration':moveDuration},children:/*#__PURE__*/_jsx(\"img\",{src:piImage,alt:\"Pi\",className:\"pi-fly\",style:{'--pi-rotate-duration':rotateDuration}})}),/*#__PURE__*/_jsx(\"div\",{className:\"mainmenu-overlay\"}),/*#__PURE__*/_jsx(AnimatePresence,{children:!isExiting&&/*#__PURE__*/_jsx(motion.div,{className:\"logo-wrapper\",variants:logoVariants,initial:\"initial\",animate:\"animate\",exit:\"exit\",style:{zIndex:10}/* чтобы лого был над точками */,children:/*#__PURE__*/_jsx(\"img\",{src:logoImage,alt:\"\\u041B\\u043E\\u0433\\u043E\\u0442\\u0438\\u043F \\u0420\\u0413\\u0421 \\u0416\\u0438\\u0437\\u043D\\u044C\",className:\"logo-image\"})})}),/*#__PURE__*/_jsx(AnimatePresence,{children:!isExiting&&/*#__PURE__*/_jsx(motion.div,{className:\"text-wrapper\",variants:textVariants,initial:\"initial\",animate:\"animate\",exit:\"exit\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"welcome-title\",children:greeting})})})]});};export default WelcomePage;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useSwipeable","motion","AnimatePresence","backgroundImage","logoImage","piImage","jsx","_jsx","jsxs","_jsxs","WelcomePage","navigate","isExiting","setIsExiting","moveDuration","setMoveDuration","rotateDuration","setRotateDuration","greeting","setGreeting","hour","Date","getHours","text","rndMove","Math","random","rndRot","toFixed","exitTimer","setTimeout","navTimer","clearTimeout","swipeHandlers","preventDefault","logoVariants","initial","y","opacity","animate","transition","duration","ease","exit","textVariants","x","delay","className","style","children","src","alt","div","variants","zIndex"],"sources":["C:/Users/shapeless/Desktop/miniapp/src/WelcomePage.js"],"sourcesContent":["// src/WelcomePage.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useNavigate }               from 'react-router-dom';\r\nimport { useSwipeable }              from 'react-swipeable';\r\nimport { motion, AnimatePresence }   from 'framer-motion';\r\n\r\nimport './Styles/global.css';      // Montserrat + сбросы\r\nimport './Styles/background.css';  // градиент + шум + subtle-dot + pi\r\nimport './Styles/logo.css';        // стили логотипа (позиционирование)\r\nimport './WelcomePage.css';        // стили контейнера и текста\r\n\r\nimport backgroundImage from './components/background.png';\r\nimport logoImage       from './components/logo.png';\r\nimport piImage         from './components/pi.png';\r\n\r\nconst WelcomePage = () => {\r\n  const navigate = useNavigate();\r\n\r\n  // Состояние «выходной анимации»\r\n  const [isExiting, setIsExiting] = useState(false);\r\n\r\n  // Генерация рандомных длительностей для pi-иконки\r\n  const [moveDuration,   setMoveDuration]   = useState('70s');\r\n  const [rotateDuration, setRotateDuration] = useState('6s');\r\n\r\n  // Формируем приветствие по времени суток\r\n  const [greeting, setGreeting] = useState('');\r\n  useEffect(() => {\r\n    const hour = new Date().getHours();\r\n    let text = '';\r\n    if (hour >= 6 && hour < 11) text = 'Доброе утро';\r\n    else if (hour >= 11 && hour < 17) text = 'Добрый день';\r\n    else if (hour >= 17 && hour < 24) text = 'Добрый вечер';\r\n    else text = 'Доброй ночи';\r\n    setGreeting(text);\r\n\r\n    // Рандомная длительность дрейфа pi (от 50s до 90s)\r\n    const rndMove = Math.random() * (90 - 50) + 50;\r\n    // Рандомная длительность вращения pi (от 4s до 8s)\r\n    const rndRot = Math.random() * (8 - 4) + 4;\r\n    setMoveDuration(`${rndMove.toFixed(2)}s`);\r\n    setRotateDuration(`${rndRot.toFixed(2)}s`);\r\n\r\n    // Запускаем цепочку: по прошествии 2.5 секунд –\r\n    // включаем «выходную анимацию» для лого и текста,\r\n    // через 3 секунды (с доп. задержкой) переходим на /main-menu\r\n    const exitTimer = setTimeout(() => setIsExiting(true), 2500);\r\n    const navTimer  = setTimeout(() => navigate('/main-menu'), 3000);\r\n\r\n    return () => {\r\n      clearTimeout(exitTimer);\r\n      clearTimeout(navTimer);\r\n    };\r\n  }, [navigate]);\r\n\r\n  // Обработчики свайпа (если нужно)\r\n  const swipeHandlers = useSwipeable({ preventDefault: true });\r\n\r\n  // Варианты Framer Motion для логотипа\r\n  const logoVariants = {\r\n    initial:   { y: -200, opacity: 0 },\r\n    animate:   { y:  110, opacity: 1, transition: { duration: 0.8, ease: 'easeOut' } },\r\n    exit:      { y: -200, opacity: 0, transition: { duration: 0.5, ease: 'easeIn' } },\r\n  };\r\n  // Варианты Framer Motion для текста\r\n  const textVariants = {\r\n    initial:   { x: '-100%', opacity: 0 },\r\n    animate:   { x:   '0%', opacity: 1, transition: { duration: 0.8, ease: 'easeOut', delay: 0.5 } },\r\n    exit:      { x:   '100%', opacity: 0, transition: { duration: 0.5, ease: 'easeIn' } },\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"welcome-container\"\r\n      style={{ backgroundImage: `url(${backgroundImage})` }}\r\n      {...swipeHandlers}\r\n    >\r\n      {/*\r\n         10 «едва заметных» шариков (subtle-dot) по background.css\r\n      */}\r\n      <div className=\"subtle-dot dot-1\"  />\r\n      <div className=\"subtle-dot dot-2\"  />\r\n      <div className=\"subtle-dot dot-3\"  />\r\n      <div className=\"subtle-dot dot-4\"  />\r\n      <div className=\"subtle-dot dot-5\"  />\r\n      <div className=\"subtle-dot dot-6\"  />\r\n      <div className=\"subtle-dot dot-7\"  />\r\n      <div className=\"subtle-dot dot-8\"  />\r\n      <div className=\"subtle-dot dot-9\"  />\r\n      <div className=\"subtle-dot dot-10\" />\r\n\r\n      {/*\r\n        pi-иконка: «плывёт» и «покачивается»\r\n        Устанавливаем CSS-переменные --pi-move-duration и --pi-rotate-duration\r\n        в inline-style, чтобы длительности были рандомными\r\n      */}\r\n      <div\r\n        className=\"pi-wrapper\"\r\n        style={{ '--pi-move-duration': moveDuration }}\r\n      >\r\n        <img\r\n          src={piImage}\r\n          alt=\"Pi\"\r\n          className=\"pi-fly\"\r\n          style={{ '--pi-rotate-duration': rotateDuration }}\r\n        />\r\n      </div>\r\n\r\n      {/* Полупрозрачный оверлей (если нужен, иначе можно удалить) */}\r\n      <div className=\"mainmenu-overlay\" />\r\n\r\n      {/* AnimatePresence обёртывает те элементы, которые должны иметь exit‐анимацию */}\r\n      <AnimatePresence>\r\n        {/* Логотип */}\r\n        {!isExiting && (\r\n          <motion.div\r\n            className=\"logo-wrapper\"\r\n            variants={logoVariants}\r\n            initial=\"initial\"\r\n            animate=\"animate\"\r\n            exit=\"exit\"\r\n            style={{ zIndex: 10 }} /* чтобы лого был над точками */\r\n          >\r\n            <img\r\n              src={logoImage}\r\n              alt=\"Логотип РГС Жизнь\"\r\n              className=\"logo-image\"\r\n            />\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      <AnimatePresence>\r\n        {/* Текст‐приветствие */}\r\n        {!isExiting && (\r\n          <motion.div\r\n            className=\"text-wrapper\"\r\n            variants={textVariants}\r\n            initial=\"initial\"\r\n            animate=\"animate\"\r\n            exit=\"exit\"\r\n          >\r\n            <h1 className=\"welcome-title\">{greeting}</h1>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WelcomePage;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}