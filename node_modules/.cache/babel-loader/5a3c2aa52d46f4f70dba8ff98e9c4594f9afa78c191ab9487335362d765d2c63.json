{"ast":null,"code":"import React,{useState,useEffect}from'react';import backgroundImage from'./components/background.png';import DateWheelPicker from'./DateWheelPicker';import logo from'./components/logo.png';import'./JustincasePage.css';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const JustincasePage=()=>{// 1) Общее состояние пользователя\nconst[userName,setUserName]=useState('');useEffect(()=>{const storedName=localStorage.getItem('userName');setUserName(storedName||'Гость');},[]);// 2) Собираемые данные\nconst[birthDate,setBirthDate]=useState(null);// формат \"dd/mm/yyyy\"\nconst[gender,setGender]=useState(null);// 'male' / 'female'\nconst[insuranceInfo,setInsuranceInfo]=useState(null);// 'yes' / 'no'\nconst[insuranceTerm,setInsuranceTerm]=useState('1');// срок страхования (лет)\nconst[insuranceSum,setInsuranceSum]=useState('');// форматированная сумма\nconst[insuranceFrequency,setInsuranceFrequency]=useState('');// периодичность оплаты\n// Ветка \"Да\" – пакеты\nconst[accidentPackage,setAccidentPackage]=useState(null);// 'yes' / 'no'\nconst[criticalPackage,setCriticalPackage]=useState(null);// 'yes' / 'no'\nconst[treatmentRegion,setTreatmentRegion]=useState(null);// 'russia' / 'abroad'\nconst[sportPackage,setSportPackage]=useState(null);// 'yes' / 'no'\n// Ветка \"Нет\" – вопросы о работе и доходах\nconst[hasJob,setHasJob]=useState(null);const[income2021,setIncome2021]=useState('');const[income2022,setIncome2022]=useState('');const[income2023,setIncome2023]=useState('');const[scholarship,setScholarship]=useState('');const[unsecuredLoans,setUnsecuredLoans]=useState('');// Новые состояния для дополнительного шага (при insuranceInfo === 'no')\nconst[breadwinnerStatus,setBreadwinnerStatus]=useState(null);// \"yes\", \"no\", \"notMe\"\nconst[incomeShare,setIncomeShare]=useState('');const[childrenCount,setChildrenCount]=useState('0');const[specialCareRelatives,setSpecialCareRelatives]=useState(null);// 'yes' / 'no'\n// 3) Шаги:\n// Шаг 1 – дата рождения, пол, знание параметров страхового полиса.\n// Шаг 2 – если insuranceInfo === 'yes': детали страхования, иначе: вопросы о работе и доходах.\n// Шаг 3 – если insuranceInfo === 'yes': вопросы по пакетам, иначе: дополнительные вопросы про семейный бюджет.\n// Шаг 4 – результат расчёта (после сохранения в Excel)\nconst[currentStep,setCurrentStep]=useState(1);const[isFinished,setIsFinished]=useState(false);// Новые состояния для процесса расчёта\nconst[isProcessing,setIsProcessing]=useState(false);const[resultData,setResultData]=useState(null);// ---------- Вспомогательные функции ----------\nconst parseDate=dateStr=>{const[day,month,year]=dateStr.split('/');return new Date(+year,+month-1,+day);};const calculateAge=dateObj=>{const today=new Date();let age=today.getFullYear()-dateObj.getFullYear();const m=today.getMonth()-dateObj.getMonth();if(m<0||m===0&&today.getDate()<dateObj.getDate()){age--;}return age;};// Форматирование суммы (например \"1.000.000\")\nconst formatSum=rawValue=>{let digits=rawValue.replace(/\\D/g,'');if(!digits)return'';let result='';while(digits.length>3){const chunk=digits.slice(-3);digits=digits.slice(0,-3);result='.'+chunk+result;}result=digits+result;return result;};const handleSumChange=e=>{setInsuranceSum(formatSum(e.target.value));};// Обработчики для деталей страхования (ветка \"Да\")\nconst handleTermChange=e=>{setInsuranceTerm(e.target.value);};const handleFrequencyChange=e=>{setInsuranceFrequency(e.target.value);};// Обработчики для ветки \"Нет\" (доходы)\nconst handleIncome2021Change=e=>{setIncome2021(formatSum(e.target.value));};const handleIncome2022Change=e=>{setIncome2022(formatSum(e.target.value));};const handleIncome2023Change=e=>{setIncome2023(formatSum(e.target.value));};const handleScholarshipChange=e=>{setScholarship(formatSum(e.target.value));};const handleUnsecuredLoansChange=e=>{setUnsecuredLoans(formatSum(e.target.value));};// ---------- Функция для проверки, можно ли перейти к следующему шагу ----------\nconst canGoNext=()=>{if(currentStep===1){return birthDate&&gender&&insuranceInfo;}else if(currentStep===2){if(insuranceInfo==='yes'){return insuranceTerm&&insuranceSum&&insuranceFrequency;}else{return hasJob&&income2021&&income2022&&income2023;}}else if(currentStep===3){if(insuranceInfo==='yes'){return accidentPackage&&criticalPackage&&(criticalPackage==='no'||treatmentRegion)&&sportPackage;}else{return breadwinnerStatus&&(breadwinnerStatus==='yes'||incomeShare)&&childrenCount!==''&&specialCareRelatives;}}else{return true;}};// ---------- Переходы между шагами ----------\nconst handleNext=()=>{if(!canGoNext()){alert('Не выполнены условия для перехода к следующему шагу');return;}if(currentStep===1){setCurrentStep(2);}else if(currentStep===2){setCurrentStep(3);}else if(currentStep===3){// При нажатии \"Завершить\" запускаем сохранение данных в Excel и отображаем экран \"производим расчет\"\nsetIsProcessing(true);// Формируем данные для калькулятора\nconst calculatorData={birthDate,gender,insuranceTerm,insuranceSum,insuranceFrequency,accidentPackage,criticalPackage,treatmentRegion,sportPackage,// для ветки \"Нет\"\nhasJob,income2021,income2022,income2023,scholarship,unsecuredLoans,breadwinnerStatus,incomeShare,childrenCount,specialCareRelatives};// Отправляем запрос через прокси\nfetch('/api/proxy/calculator/save',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(calculatorData),credentials:'include'}).then(response=>response.json()).then(data=>{// При успешном сохранении получаем результат (предположим, сервер возвращает JSON с расчетными данными)\nsetResultData(data);setIsProcessing(false);setCurrentStep(4);// Переходим к шагу результатов\n}).catch(err=>{console.error(\"Ошибка сохранения данных калькулятора:\",err);setIsProcessing(false);alert(\"Ошибка сохранения данных калькулятора\");});}};const handlePrev=()=>{if(currentStep>1){setCurrentStep(currentStep-1);}};// ---------- Рендер шагов ----------\nconst renderStep=()=>{// Если мы в режиме обработки, показываем экран загрузки\nif(isProcessing){return/*#__PURE__*/_jsxs(\"div\",{className:\"processing-container\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[userName,\", \\u043F\\u0440\\u043E\\u0438\\u0437\\u0432\\u043E\\u0434\\u0438\\u043C \\u0440\\u0430\\u0441\\u0447\\u0435\\u0442...\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\",children:/*#__PURE__*/_jsx(\"svg\",{width:\"50\",height:\"50\",viewBox:\"0 0 50 50\",children:/*#__PURE__*/_jsx(\"circle\",{cx:\"25\",cy:\"25\",r:\"20\",stroke:\"#f00\",strokeWidth:\"5\",fill:\"none\",strokeLinecap:\"round\",children:/*#__PURE__*/_jsx(\"animateTransform\",{attributeName:\"transform\",type:\"rotate\",dur:\"1s\",from:\"0 25 25\",to:\"360 25 25\",repeatCount:\"indefinite\"})})})})]});}// Если на шаге 4 – показываем результаты расчёта\nif(currentStep===4&&resultData){return/*#__PURE__*/_jsxs(\"div\",{className:\"result-container\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\u0412\\u0430\\u0448\\u0430 \\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0430 \\xAB\\u041D\\u0430 \\u0432\\u0441\\u044F\\u043A\\u0438\\u0439 \\u0441\\u043B\\u0443\\u0447\\u0430\\u0439\\xBB (\\u0440\\u0430\\u0441\\u0447\\u0435\\u0442 \\u043E\\u0442 \",resultData.calculationDate,\")\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0412\\u043E\\u0437\\u0440\\u0430\\u0441\\u0442 \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0430: \",resultData.clientAge,\" \\u043B\\u0435\\u0442\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u041F\\u043E\\u043B \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0430: \",resultData.clientGender]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0421\\u0440\\u043E\\u043A \\u0441\\u0442\\u0440\\u0430\\u0445\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F: \",resultData.insuranceTerm,\" \\u043B\\u0435\\u0442\"]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\u041E\\u0441\\u043D\\u043E\\u0432\\u043D\\u0430\\u044F \\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0430 (\\u0441\\u0442\\u0440\\u0430\\u0445\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043D\\u0430 \\u0441\\u043B\\u0443\\u0447\\u0430\\u0439 \\u0443\\u0445\\u043E\\u0434\\u0430 \\u0438\\u0437 \\u0436\\u0438\\u0437\\u043D\\u0438 \\u0438 \\u0438\\u043D\\u0432\\u0430\\u043B\\u0438\\u0434\\u043D\\u043E\\u0441\\u0442\\u0438 I \\u0438 II \\u0433\\u0440\\u0443\\u043F\\u043F\\u044B):\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0421\\u0442\\u0440\\u0430\\u0445\\u043E\\u0432\\u0430\\u044F \\u0441\\u0443\\u043C\\u043C\\u0430: \",resultData.baseInsuranceSum]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0421\\u0442\\u0440\\u0430\\u0445\\u043E\\u0432\\u0430\\u044F \\u043F\\u0440\\u0435\\u043C\\u0438\\u044F: \",resultData.basePremium,\" \\u0440\\u0443\\u0431.\"]}),resultData.accidentPackageIncluded&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\u041F\\u0430\\u043A\\u0435\\u0442 \\xAB\\u041D\\u0435\\u0441\\u0447\\u0430\\u0441\\u0442\\u043D\\u044B\\u0439 \\u0441\\u043B\\u0443\\u0447\\u0430\\u0439\\xBB:\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0421\\u0442\\u0440\\u0430\\u0445\\u043E\\u0432\\u0430\\u044F \\u0441\\u0443\\u043C\\u043C\\u0430: \",resultData.accidentInsuranceSum]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0421\\u0442\\u0440\\u0430\\u0445\\u043E\\u0432\\u0430\\u044F \\u043F\\u0440\\u0435\\u043C\\u0438\\u044F: \",resultData.accidentPremium,\" \\u0440\\u0443\\u0431.\"]})]}),resultData.criticalPackageIncluded&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\u041F\\u0430\\u043A\\u0435\\u0442 \\xAB\\u041A\\u0440\\u0438\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0435 \\u0437\\u0430\\u0431\\u043E\\u043B\\u0435\\u0432\\u0430\\u043D\\u0438\\u044F\\xBB:\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 \\u041C\\u0430\\u043A\\u0441\\u0438\\u043C\\u0430\\u043B\\u044C\\u043D\\u0430\\u044F \\u0441\\u0442\\u0440\\u0430\\u0445\\u043E\\u0432\\u0430\\u044F \\u0441\\u0443\\u043C\\u043C\\u0430 60 000 000 \\u0440\\u0443\\u0431\\u043B\\u0435\\u0439, \\u0434\\u043E\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E \\u043F\\u043E \\u0440\\u0435\\u0430\\u0431\\u0438\\u043B\\u0438\\u0442\\u0430\\u0446\\u0438\\u0438 \\u2013 100 000 \\u0440\\u0443\\u0431\\u043B\\u0435\\u0439.\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0421\\u0442\\u0440\\u0430\\u0445\\u043E\\u0432\\u0430\\u044F \\u043F\\u0440\\u0435\\u043C\\u0438\\u044F: \",resultData.criticalPremium,\" \\u0440\\u0443\\u0431.\"]})]}),resultData.sportOptionIncluded&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\u041E\\u043F\\u0446\\u0438\\u044F \\xAB\\u041B\\u044E\\u0431\\u0438\\u0442\\u0435\\u043B\\u044C\\u0441\\u043A\\u0438\\u0439 \\u0441\\u043F\\u043E\\u0440\\u0442\\xBB:\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u0412\\u043A\\u043B\\u044E\\u0447\\u0435\\u043D\\u043E\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0418\\u0442\\u043E\\u0433\\u043E \\u0441\\u0442\\u0440\\u0430\\u0445\\u043E\\u0432\\u0430\\u044F \\u043F\\u0440\\u0435\\u043C\\u0438\\u044F:\"}),\" \",resultData.totalPremium,\" \\u0440\\u0443\\u0431.\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u041F\\u043E\\u0440\\u044F\\u0434\\u043E\\u043A \\u043E\\u043F\\u043B\\u0430\\u0442\\u044B \\u043F\\u0440\\u0435\\u043C\\u0438\\u0438:\"}),\" \",resultData.paymentMethod]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0414\\u043B\\u044F \\u0434\\u043E\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0439 \\u043A\\u043E\\u043D\\u0441\\u0443\\u043B\\u044C\\u0442\\u0430\\u0446\\u0438\\u0438 \\u0438 \\u043E\\u0444\\u043E\\u0440\\u043C\\u043B\\u0435\\u043D\\u0438\\u044F \\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u044B \\u0441\\u0432\\u044F\\u0436\\u0438\\u0442\\u0435\\u0441\\u044C \\u0441 \\u043D\\u0430\\u0448\\u0438\\u043C \\u043C\\u0435\\u043D\\u0435\\u0434\\u0436\\u0435\\u0440\\u043E\\u043C: \",/*#__PURE__*/_jsx(\"a\",{href:\"/contact\",children:\"\\u041D\\u0430\\u0448 \\u043C\\u0435\\u043D\\u0435\\u0434\\u0436\\u0435\\u0440\"})]})]});}// Рендер обычных шагов (1-3)\nif(currentStep===1){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0414\\u0430\\u0442\\u0430 \\u0440\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F:\"}),/*#__PURE__*/_jsx(DateWheelPicker,{onChange:dateString=>setBirthDate(dateString)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u041F\\u043E\\u043B:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"gender-selector\",children:[/*#__PURE__*/_jsxs(\"div\",{className:`gender-option ${gender==='male'?'selected':''}`,onClick:()=>setGender('male'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"gender-label\",children:\"\\u041C\\u0443\\u0436\\u0441\\u043A\\u043E\\u0439\"}),/*#__PURE__*/_jsx(\"div\",{className:\"gender-icon\",children:\"\\uD83D\\uDC68\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:`gender-option ${gender==='female'?'selected':''}`,onClick:()=>setGender('female'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"gender-label\",children:\"\\u0416\\u0435\\u043D\\u0441\\u043A\\u0438\\u0439\"}),/*#__PURE__*/_jsx(\"div\",{className:\"gender-icon\",children:\"\\uD83D\\uDC69\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0417\\u043D\\u0430\\u0435\\u0442\\u0435 \\u043B\\u0438 \\u0412\\u044B \\u043D\\u0430 \\u043A\\u0430\\u043A\\u043E\\u0439 \\u0441\\u0440\\u043E\\u043A \\u0438 \\u043D\\u0430 \\u043A\\u0430\\u043A\\u0443\\u044E \\u0441\\u0443\\u043C\\u043C\\u0443 \\u043E\\u0444\\u043E\\u0440\\u043C\\u0438\\u0442\\u044C \\u0441\\u0442\\u0440\\u0430\\u0445\\u043E\\u0432\\u043E\\u0439 \\u043F\\u043E\\u043B\\u0438\\u0441?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"insurance-options\",children:[/*#__PURE__*/_jsx(\"button\",{className:`insurance-btn ${insuranceInfo==='yes'?'selected':''}`,onClick:()=>setInsuranceInfo('yes'),children:\"\\u0414\\u0430\"}),/*#__PURE__*/_jsx(\"button\",{className:`insurance-btn ${insuranceInfo==='no'?'selected':''}`,onClick:()=>setInsuranceInfo('no'),children:\"\\u041D\\u0435\\u0442\"})]})]})]});}else if(currentStep===2){if(insuranceInfo==='yes'){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0441\\u0440\\u043E\\u043A \\u0441\\u0442\\u0440\\u0430\\u0445\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F (\\u043B\\u0435\\u0442):\"}),/*#__PURE__*/_jsx(\"select\",{className:\"insurance-term-select\",value:insuranceTerm,onChange:handleTermChange,children:Array.from({length:30},(_,i)=>i+1).map(year=>/*#__PURE__*/_jsx(\"option\",{value:year,children:year},year))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u0442\\u0440\\u0430\\u0445\\u043E\\u0432\\u0443\\u044E \\u0441\\u0443\\u043C\\u043C\\u0443 (\\u043E\\u0442 1 \\u043C\\u043B\\u043D \\u0440\\u0443\\u0431):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"insurance-sum-input\",placeholder:\"1.000.000\",value:insuranceSum,onChange:handleSumChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u041F\\u0435\\u0440\\u0438\\u043E\\u0434\\u0438\\u0447\\u043D\\u043E\\u0441\\u0442\\u044C \\u043E\\u043F\\u043B\\u0430\\u0442\\u044B \\u0441\\u0442\\u0440\\u0430\\u0445\\u043E\\u0432\\u043E\\u0439 \\u043F\\u0440\\u0435\\u043C\\u0438\\u0438:\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"insurance-frequency-select\",value:insuranceFrequency,onChange:handleFrequencyChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043F\\u0435\\u0440\\u0438\\u043E\\u0434\"}),[\"Ежемесячно\",\"Ежегодно\",\"раз в пол года\",\"ежеквартально\"].map(option=>/*#__PURE__*/_jsx(\"option\",{value:option,children:option},option))]})]})]});}else{return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0415\\u0441\\u0442\\u044C \\u0440\\u0430\\u0431\\u043E\\u0442\\u0430?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"insurance-options\",children:[/*#__PURE__*/_jsx(\"button\",{className:`insurance-btn ${hasJob==='yes'?'selected':''}`,onClick:()=>setHasJob('yes'),children:\"\\u0414\\u0430\"}),/*#__PURE__*/_jsx(\"button\",{className:`insurance-btn ${hasJob==='no'?'selected':''}`,onClick:()=>setHasJob('no'),children:\"\\u041D\\u0435\\u0442\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group inline-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"inline-label\",children:\"\\u0414\\u043E\\u0445\\u043E\\u0434 2021, \\u0440\\u0443\\u0431.:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"inline-input\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u0443\\u043C\\u043C\\u0443\",value:income2021,onChange:handleIncome2021Change})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group inline-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"inline-label\",children:\"\\u0414\\u043E\\u0445\\u043E\\u0434 2022, \\u0440\\u0443\\u0431.:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"inline-input\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u0443\\u043C\\u043C\\u0443\",value:income2022,onChange:handleIncome2022Change})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group inline-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"inline-label\",children:\"\\u0414\\u043E\\u0445\\u043E\\u0434 2023, \\u0440\\u0443\\u0431.:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"inline-input\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u0443\\u043C\\u043C\\u0443\",value:income2023,onChange:handleIncome2023Change})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group inline-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"inline-label\",children:\"\\u0421\\u0442\\u0438\\u043F\\u0435\\u043D\\u0434\\u0438\\u044F 2023, \\u0440\\u0443\\u0431.:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"inline-input\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u0443\\u043C\\u043C\\u0443\",value:scholarship,onChange:handleScholarshipChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group inline-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"inline-label\",children:\"\\u041A\\u0440\\u0435\\u0434\\u0438\\u0442\\u044B, \\u0440\\u0443\\u0431.:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"inline-input\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u0443\\u043C\\u043C\\u0443\",value:unsecuredLoans,onChange:handleUnsecuredLoansChange})]})]});}}else if(currentStep===3){if(insuranceInfo==='yes'){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u041F\\u043E\\u0434\\u043A\\u043B\\u044E\\u0447\\u0430\\u0435\\u043C \\u043F\\u0430\\u043A\\u0435\\u0442 \\xAB\\u041D\\u0435\\u0441\\u0447\\u0430\\u0441\\u0442\\u043D\\u044B\\u0439 \\u0441\\u043B\\u0443\\u0447\\u0430\\u0439\\xBB?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"insurance-options\",children:[/*#__PURE__*/_jsx(\"button\",{className:`insurance-btn ${accidentPackage==='yes'?'selected':''}`,onClick:()=>setAccidentPackage('yes'),children:\"\\u0414\\u0430\"}),/*#__PURE__*/_jsx(\"button\",{className:`insurance-btn ${accidentPackage==='no'?'selected':''}`,onClick:()=>setAccidentPackage('no'),children:\"\\u041D\\u0435\\u0442\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u041F\\u043E\\u0434\\u043A\\u043B\\u044E\\u0447\\u0430\\u0435\\u043C \\u043F\\u0430\\u043A\\u0435\\u0442 \\xAB\\u041A\\u0440\\u0438\\u0442\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0435 \\u0437\\u0430\\u0431\\u043E\\u043B\\u0435\\u0432\\u0430\\u043D\\u0438\\u044F\\xBB?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"insurance-options\",children:[/*#__PURE__*/_jsx(\"button\",{className:`insurance-btn ${criticalPackage==='yes'?'selected':''}`,onClick:()=>setCriticalPackage('yes'),children:\"\\u0414\\u0430\"}),/*#__PURE__*/_jsx(\"button\",{className:`insurance-btn ${criticalPackage==='no'?'selected':''}`,onClick:()=>setCriticalPackage('no'),children:\"\\u041D\\u0435\\u0442\"})]})]}),criticalPackage==='yes'&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u041A\\u0430\\u043A\\u043E\\u0439 \\u0440\\u0435\\u0433\\u0438\\u043E\\u043D \\u043B\\u0435\\u0447\\u0435\\u043D\\u0438\\u044F \\u043F\\u043E\\u0434\\u043A\\u043B\\u044E\\u0447\\u0430\\u0435\\u043C?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"insurance-options\",children:[/*#__PURE__*/_jsx(\"button\",{className:`insurance-btn ${treatmentRegion==='russia'?'selected':''}`,onClick:()=>setTreatmentRegion('russia'),children:\"\\u041B\\u0435\\u0447\\u0435\\u043D\\u0438\\u0435 \\u0432 \\u0420\\u0424\"}),/*#__PURE__*/_jsx(\"button\",{className:`insurance-btn ${treatmentRegion==='abroad'?'selected':''}`,onClick:()=>setTreatmentRegion('abroad'),children:\"\\u041B\\u0435\\u0447\\u0435\\u043D\\u0438\\u0435 \\u0437\\u0430 \\u0440\\u0443\\u0431\\u0435\\u0436\\u043E\\u043C\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u041F\\u043E\\u0434\\u043A\\u043B\\u044E\\u0447\\u0430\\u0435\\u043C \\u043E\\u043F\\u0446\\u0438\\u044E \\xAB\\u041B\\u044E\\u0431\\u0438\\u0442\\u0435\\u043B\\u044C\\u0441\\u043A\\u0438\\u0439 \\u0441\\u043F\\u043E\\u0440\\u0442\\xBB?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"insurance-options\",children:[/*#__PURE__*/_jsx(\"button\",{className:`insurance-btn ${sportPackage==='yes'?'selected':''}`,onClick:()=>setSportPackage('yes'),children:\"\\u0414\\u0430\"}),/*#__PURE__*/_jsx(\"button\",{className:`insurance-btn ${sportPackage==='no'?'selected':''}`,onClick:()=>setSportPackage('no'),children:\"\\u041D\\u0435\\u0442\"})]})]})]});}else{// Новые вопросы для ветки \"Нет\"\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0412\\u044B \\u0435\\u0434\\u0438\\u043D\\u0441\\u0442\\u0432\\u0435\\u043D\\u043D\\u044B\\u0439 \\u043A\\u043E\\u0440\\u043C\\u0438\\u043B\\u0435\\u0446 \\u0432 \\u0441\\u0435\\u043C\\u044C\\u0435?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"insurance-options\",children:[/*#__PURE__*/_jsx(\"button\",{className:`insurance-btn ${breadwinnerStatus==='yes'?'selected':''}`,onClick:()=>setBreadwinnerStatus('yes'),children:\"\\u0414\\u0430\"}),/*#__PURE__*/_jsx(\"button\",{className:`insurance-btn ${breadwinnerStatus==='no'?'selected':''}`,onClick:()=>setBreadwinnerStatus('no'),children:\"\\u041D\\u0435\\u0442\"}),/*#__PURE__*/_jsx(\"button\",{className:`insurance-btn ${breadwinnerStatus==='notMe'?'selected':''}`,onClick:()=>setBreadwinnerStatus('notMe'),children:\"\\u041D\\u0435 \\u044F\\u0432\\u043B\\u044F\\u044E\\u0441\\u044C \\u043A\\u043E\\u0440\\u043C\\u0438\\u043B\\u0446\\u0435\\u043C\"})]})]}),breadwinnerStatus!=='yes'&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0414\\u043E\\u043B\\u044F \\u0432\\u0430\\u0448\\u0435\\u0433\\u043E \\u0434\\u043E\\u0445\\u043E\\u0434\\u0430 \\u0432 \\u0441\\u0435\\u043C\\u0435\\u0439\\u043D\\u043E\\u043C \\u0431\\u044E\\u0434\\u0436\\u0435\\u0442\\u0435:\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"insurance-term-select\",value:incomeShare,onChange:e=>setIncomeShare(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0434\\u043E\\u043B\\u044E\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0434\\u043E 10%\",children:\"\\u0434\\u043E 10%\"}),/*#__PURE__*/_jsx(\"option\",{value:\"10-24%\",children:\"10\\u201324%\"}),/*#__PURE__*/_jsx(\"option\",{value:\"25-49%\",children:\"25\\u201349%\"}),/*#__PURE__*/_jsx(\"option\",{value:\"50-74%\",children:\"50\\u201374%\"}),/*#__PURE__*/_jsx(\"option\",{value:\"75-89%\",children:\"75\\u201389%\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0411\\u043E\\u043B\\u0435\\u0435 90%\",children:\"\\u0411\\u043E\\u043B\\u0435\\u0435 90%\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u0434\\u0435\\u0442\\u0435\\u0439 \\u043D\\u0430 \\u0438\\u0436\\u0434\\u0438\\u0432\\u0435\\u043D\\u0438\\u0438?\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"insurance-term-select\",value:childrenCount,onChange:e=>setChildrenCount(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"0\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3 \\u0438 \\u0431\\u043E\\u043B\\u0435\\u0435\",children:\"3 \\u0438 \\u0431\\u043E\\u043B\\u0435\\u0435\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"\\u0415\\u0441\\u0442\\u044C \\u043B\\u0438 \\u0440\\u043E\\u0434\\u0441\\u0442\\u0432\\u0435\\u043D\\u043D\\u0438\\u043A\\u0438, \\u0442\\u0440\\u0435\\u0431\\u0443\\u044E\\u0449\\u0438\\u0435 \\u043E\\u0441\\u043E\\u0431\\u043E\\u0433\\u043E \\u0443\\u0445\\u043E\\u0434\\u0430?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"insurance-options\",children:[/*#__PURE__*/_jsx(\"button\",{className:`insurance-btn ${specialCareRelatives==='yes'?'selected':''}`,onClick:()=>setSpecialCareRelatives('yes'),children:\"\\u0414\\u0430\"}),/*#__PURE__*/_jsx(\"button\",{className:`insurance-btn ${specialCareRelatives==='no'?'selected':''}`,onClick:()=>setSpecialCareRelatives('no'),children:\"\\u041D\\u0435\\u0442\"})]})]})]});}}return null;};// Рендер основного интерфейса\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"justincase-container\",style:{backgroundImage:`url(${backgroundImage})`},children:[currentStep!==4&&/*#__PURE__*/_jsx(\"div\",{className:\"logo-container\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\",className:\"logo-image\"})}),currentStep!==4&&/*#__PURE__*/_jsx(\"h1\",{className:\"justincase-title\",children:\"\\u0420\\u0430\\u0441\\u0447\\u0435\\u0442 \\u043F\\u043E \\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0435 \\\"\\u041D\\u0430 \\u0432\\u0441\\u044F\\u043A\\u0438\\u0439 \\u0441\\u043B\\u0443\\u0447\\u0430\\u0439\\\" \\u0434\\u043B\\u044F \\u0441\\u043E\\u0442\\u0440\\u0443\\u0434\\u043D\\u0438\\u043A\\u0430\"}),/*#__PURE__*/_jsx(\"div\",{className:\"justincase-form\",children:renderStep()}),currentStep>1&&currentStep<4&&/*#__PURE__*/_jsx(\"div\",{className:\"back-btn-container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"back-btn\",onClick:handlePrev,children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\",fill:\"none\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 20l-8-8 8-8\"})})})}),currentStep<3&&/*#__PURE__*/_jsx(\"div\",{className:\"top-btn-container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"top-btn\",onClick:handleNext,disabled:!canGoNext(),children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\",fill:\"none\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 4l8 8-8 8\"})})})}),currentStep===3&&/*#__PURE__*/_jsx(\"div\",{className:\"top-btn-container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"top-btn\",onClick:handleNext,disabled:!canGoNext(),children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\",fill:\"none\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M5 13l4 4L19 7\"})})})})]});};export default JustincasePage;","map":{"version":3,"names":["React","useState","useEffect","backgroundImage","DateWheelPicker","logo","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","JustincasePage","userName","setUserName","storedName","localStorage","getItem","birthDate","setBirthDate","gender","setGender","insuranceInfo","setInsuranceInfo","insuranceTerm","setInsuranceTerm","insuranceSum","setInsuranceSum","insuranceFrequency","setInsuranceFrequency","accidentPackage","setAccidentPackage","criticalPackage","setCriticalPackage","treatmentRegion","setTreatmentRegion","sportPackage","setSportPackage","hasJob","setHasJob","income2021","setIncome2021","income2022","setIncome2022","income2023","setIncome2023","scholarship","setScholarship","unsecuredLoans","setUnsecuredLoans","breadwinnerStatus","setBreadwinnerStatus","incomeShare","setIncomeShare","childrenCount","setChildrenCount","specialCareRelatives","setSpecialCareRelatives","currentStep","setCurrentStep","isFinished","setIsFinished","isProcessing","setIsProcessing","resultData","setResultData","parseDate","dateStr","day","month","year","split","Date","calculateAge","dateObj","today","age","getFullYear","m","getMonth","getDate","formatSum","rawValue","digits","replace","result","length","chunk","slice","handleSumChange","e","target","value","handleTermChange","handleFrequencyChange","handleIncome2021Change","handleIncome2022Change","handleIncome2023Change","handleScholarshipChange","handleUnsecuredLoansChange","canGoNext","handleNext","alert","calculatorData","fetch","method","headers","body","JSON","stringify","credentials","then","response","json","data","catch","err","console","error","handlePrev","renderStep","className","children","width","height","viewBox","cx","cy","r","stroke","strokeWidth","fill","strokeLinecap","attributeName","type","dur","from","to","repeatCount","calculationDate","clientAge","clientGender","baseInsuranceSum","basePremium","accidentPackageIncluded","accidentInsuranceSum","accidentPremium","criticalPackageIncluded","criticalPremium","sportOptionIncluded","totalPremium","paymentMethod","href","onChange","dateString","onClick","Array","_","i","map","placeholder","option","style","src","alt","xmlns","d","disabled"],"sources":["C:/Users/shapeless/Desktop/miniapp/src/JustincasePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport backgroundImage from './components/background.png';\r\nimport DateWheelPicker from './DateWheelPicker';\r\nimport logo from './components/logo.png';\r\nimport './JustincasePage.css';\r\n\r\nconst JustincasePage = () => {\r\n  // 1) Общее состояние пользователя\r\n  const [userName, setUserName] = useState('');\r\n  useEffect(() => {\r\n    const storedName = localStorage.getItem('userName');\r\n    setUserName(storedName || 'Гость');\r\n  }, []);\r\n\r\n  // 2) Собираемые данные\r\n  const [birthDate, setBirthDate] = useState(null);         // формат \"dd/mm/yyyy\"\r\n  const [gender, setGender] = useState(null);               // 'male' / 'female'\r\n  const [insuranceInfo, setInsuranceInfo] = useState(null);   // 'yes' / 'no'\r\n  const [insuranceTerm, setInsuranceTerm] = useState('1');    // срок страхования (лет)\r\n  const [insuranceSum, setInsuranceSum] = useState('');       // форматированная сумма\r\n  const [insuranceFrequency, setInsuranceFrequency] = useState(''); // периодичность оплаты\r\n\r\n  // Ветка \"Да\" – пакеты\r\n  const [accidentPackage, setAccidentPackage] = useState(null); // 'yes' / 'no'\r\n  const [criticalPackage, setCriticalPackage] = useState(null); // 'yes' / 'no'\r\n  const [treatmentRegion, setTreatmentRegion] = useState(null);   // 'russia' / 'abroad'\r\n  const [sportPackage, setSportPackage] = useState(null);         // 'yes' / 'no'\r\n\r\n  // Ветка \"Нет\" – вопросы о работе и доходах\r\n  const [hasJob, setHasJob] = useState(null);\r\n  const [income2021, setIncome2021] = useState('');\r\n  const [income2022, setIncome2022] = useState('');\r\n  const [income2023, setIncome2023] = useState('');\r\n  const [scholarship, setScholarship] = useState('');\r\n  const [unsecuredLoans, setUnsecuredLoans] = useState('');\r\n\r\n  // Новые состояния для дополнительного шага (при insuranceInfo === 'no')\r\n  const [breadwinnerStatus, setBreadwinnerStatus] = useState(null); // \"yes\", \"no\", \"notMe\"\r\n  const [incomeShare, setIncomeShare] = useState('');\r\n  const [childrenCount, setChildrenCount] = useState('0');\r\n  const [specialCareRelatives, setSpecialCareRelatives] = useState(null); // 'yes' / 'no'\r\n\r\n  // 3) Шаги:\r\n  // Шаг 1 – дата рождения, пол, знание параметров страхового полиса.\r\n  // Шаг 2 – если insuranceInfo === 'yes': детали страхования, иначе: вопросы о работе и доходах.\r\n  // Шаг 3 – если insuranceInfo === 'yes': вопросы по пакетам, иначе: дополнительные вопросы про семейный бюджет.\r\n  // Шаг 4 – результат расчёта (после сохранения в Excel)\r\n  const [currentStep, setCurrentStep] = useState(1);\r\n  const [isFinished, setIsFinished] = useState(false);\r\n\r\n  // Новые состояния для процесса расчёта\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [resultData, setResultData] = useState(null);\r\n\r\n  // ---------- Вспомогательные функции ----------\r\n\r\n  const parseDate = (dateStr) => {\r\n    const [day, month, year] = dateStr.split('/');\r\n    return new Date(+year, +month - 1, +day);\r\n  };\r\n\r\n  const calculateAge = (dateObj) => {\r\n    const today = new Date();\r\n    let age = today.getFullYear() - dateObj.getFullYear();\r\n    const m = today.getMonth() - dateObj.getMonth();\r\n    if (m < 0 || (m === 0 && today.getDate() < dateObj.getDate())) {\r\n      age--;\r\n    }\r\n    return age;\r\n  };\r\n\r\n  // Форматирование суммы (например \"1.000.000\")\r\n  const formatSum = (rawValue) => {\r\n    let digits = rawValue.replace(/\\D/g, '');\r\n    if (!digits) return '';\r\n    let result = '';\r\n    while (digits.length > 3) {\r\n      const chunk = digits.slice(-3);\r\n      digits = digits.slice(0, -3);\r\n      result = '.' + chunk + result;\r\n    }\r\n    result = digits + result;\r\n    return result;\r\n  };\r\n\r\n  const handleSumChange = (e) => {\r\n    setInsuranceSum(formatSum(e.target.value));\r\n  };\r\n\r\n  // Обработчики для деталей страхования (ветка \"Да\")\r\n  const handleTermChange = (e) => {\r\n    setInsuranceTerm(e.target.value);\r\n  };\r\n  const handleFrequencyChange = (e) => {\r\n    setInsuranceFrequency(e.target.value);\r\n  };\r\n\r\n  // Обработчики для ветки \"Нет\" (доходы)\r\n  const handleIncome2021Change = (e) => {\r\n    setIncome2021(formatSum(e.target.value));\r\n  };\r\n  const handleIncome2022Change = (e) => {\r\n    setIncome2022(formatSum(e.target.value));\r\n  };\r\n  const handleIncome2023Change = (e) => {\r\n    setIncome2023(formatSum(e.target.value));\r\n  };\r\n  const handleScholarshipChange = (e) => {\r\n    setScholarship(formatSum(e.target.value));\r\n  };\r\n  const handleUnsecuredLoansChange = (e) => {\r\n    setUnsecuredLoans(formatSum(e.target.value));\r\n  };\r\n\r\n  // ---------- Функция для проверки, можно ли перейти к следующему шагу ----------\r\n  const canGoNext = () => {\r\n    if (currentStep === 1) {\r\n      return birthDate && gender && insuranceInfo;\r\n    } else if (currentStep === 2) {\r\n      if (insuranceInfo === 'yes') {\r\n        return insuranceTerm && insuranceSum && insuranceFrequency;\r\n      } else {\r\n        return hasJob && income2021 && income2022 && income2023;\r\n      }\r\n    } else if (currentStep === 3) {\r\n      if (insuranceInfo === 'yes') {\r\n        return accidentPackage && criticalPackage && (criticalPackage === 'no' || treatmentRegion) && sportPackage;\r\n      } else {\r\n        return breadwinnerStatus &&\r\n               (breadwinnerStatus === 'yes' || incomeShare) &&\r\n               childrenCount !== '' &&\r\n               specialCareRelatives;\r\n      }\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n\r\n  // ---------- Переходы между шагами ----------\r\n  const handleNext = () => {\r\n    if (!canGoNext()) {\r\n      alert('Не выполнены условия для перехода к следующему шагу');\r\n      return;\r\n    }\r\n    if (currentStep === 1) {\r\n      setCurrentStep(2);\r\n    } else if (currentStep === 2) {\r\n      setCurrentStep(3);\r\n    } else if (currentStep === 3) {\r\n      // При нажатии \"Завершить\" запускаем сохранение данных в Excel и отображаем экран \"производим расчет\"\r\n      setIsProcessing(true);\r\n      // Формируем данные для калькулятора\r\n      const calculatorData = {\r\n        birthDate,\r\n        gender,\r\n        insuranceTerm,\r\n        insuranceSum,\r\n        insuranceFrequency,\r\n        accidentPackage,\r\n        criticalPackage,\r\n        treatmentRegion,\r\n        sportPackage,\r\n        // для ветки \"Нет\"\r\n        hasJob,\r\n        income2021,\r\n        income2022,\r\n        income2023,\r\n        scholarship,\r\n        unsecuredLoans,\r\n        breadwinnerStatus,\r\n        incomeShare,\r\n        childrenCount,\r\n        specialCareRelatives\r\n      };\r\n      // Отправляем запрос через прокси\r\n      fetch('/api/proxy/calculator/save', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(calculatorData),\r\n        credentials: 'include'\r\n      })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        // При успешном сохранении получаем результат (предположим, сервер возвращает JSON с расчетными данными)\r\n        setResultData(data);\r\n        setIsProcessing(false);\r\n        setCurrentStep(4); // Переходим к шагу результатов\r\n      })\r\n      .catch(err => {\r\n        console.error(\"Ошибка сохранения данных калькулятора:\", err);\r\n        setIsProcessing(false);\r\n        alert(\"Ошибка сохранения данных калькулятора\");\r\n      });\r\n    }\r\n  };\r\n\r\n  const handlePrev = () => {\r\n    if (currentStep > 1) {\r\n      setCurrentStep(currentStep - 1);\r\n    }\r\n  };\r\n\r\n  // ---------- Рендер шагов ----------\r\n  const renderStep = () => {\r\n    // Если мы в режиме обработки, показываем экран загрузки\r\n    if (isProcessing) {\r\n      return (\r\n        <div className=\"processing-container\">\r\n          <h2>{userName}, производим расчет...</h2>\r\n          <div className=\"loading-spinner\">\r\n            {/* Здесь вставьте ваш SVG-иконку загрузки */}\r\n            <svg width=\"50\" height=\"50\" viewBox=\"0 0 50 50\">\r\n              <circle cx=\"25\" cy=\"25\" r=\"20\" stroke=\"#f00\" strokeWidth=\"5\" fill=\"none\" strokeLinecap=\"round\">\r\n                <animateTransform attributeName=\"transform\" type=\"rotate\" dur=\"1s\" from=\"0 25 25\" to=\"360 25 25\" repeatCount=\"indefinite\" />\r\n              </circle>\r\n            </svg>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    // Если на шаге 4 – показываем результаты расчёта\r\n    if (currentStep === 4 && resultData) {\r\n      return (\r\n        <div className=\"result-container\">\r\n          <h2>Ваша программа «На всякий случай» (расчет от {resultData.calculationDate})</h2>\r\n          <p>Возраст клиента: {resultData.clientAge} лет</p>\r\n          <p>Пол клиента: {resultData.clientGender}</p>\r\n          <p>Срок страхования: {resultData.insuranceTerm} лет</p>\r\n          <hr />\r\n          <h3>Основная программа (страхование на случай ухода из жизни и инвалидности I и II группы):</h3>\r\n          <p>Страховая сумма: {resultData.baseInsuranceSum}</p>\r\n          <p>Страховая премия: {resultData.basePremium} руб.</p>\r\n          {resultData.accidentPackageIncluded && (\r\n            <>\r\n              <hr />\r\n              <h3>Пакет «Несчастный случай»:</h3>\r\n              <p>Страховая сумма: {resultData.accidentInsuranceSum}</p>\r\n              <p>Страховая премия: {resultData.accidentPremium} руб.</p>\r\n            </>\r\n          )}\r\n          {resultData.criticalPackageIncluded && (\r\n            <>\r\n              <hr />\r\n              <h3>Пакет «Критические заболевания»:</h3>\r\n              <p>• Максимальная страховая сумма 60 000 000 рублей, дополнительно по реабилитации – 100 000 рублей.</p>\r\n              <p>Страховая премия: {resultData.criticalPremium} руб.</p>\r\n            </>\r\n          )}\r\n          {resultData.sportOptionIncluded && (\r\n            <>\r\n              <hr />\r\n              <h3>Опция «Любительский спорт»:</h3>\r\n              <p>Включено</p>\r\n            </>\r\n          )}\r\n          <hr />\r\n          <p><strong>Итого страховая премия:</strong> {resultData.totalPremium} руб.</p>\r\n          <p><strong>Порядок оплаты премии:</strong> {resultData.paymentMethod}</p>\r\n          <hr />\r\n          <p>Для дополнительной консультации и оформления программы свяжитесь с нашим менеджером: <a href=\"/contact\">Наш менеджер</a></p>\r\n        </div>\r\n      );\r\n    }\r\n    // Рендер обычных шагов (1-3)\r\n    if (currentStep === 1) {\r\n      return (\r\n        <>\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">Дата рождения:</label>\r\n            <DateWheelPicker onChange={(dateString) => setBirthDate(dateString)} />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">Пол:</label>\r\n            <div className=\"gender-selector\">\r\n              <div\r\n                className={`gender-option ${gender === 'male' ? 'selected' : ''}`}\r\n                onClick={() => setGender('male')}\r\n              >\r\n                <div className=\"gender-label\">Мужской</div>\r\n                <div className=\"gender-icon\">👨</div>\r\n              </div>\r\n              <div\r\n                className={`gender-option ${gender === 'female' ? 'selected' : ''}`}\r\n                onClick={() => setGender('female')}\r\n              >\r\n                <div className=\"gender-label\">Женский</div>\r\n                <div className=\"gender-icon\">👩</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">\r\n              Знаете ли Вы на какой срок и на какую сумму оформить страховой полис?\r\n            </label>\r\n            <div className=\"insurance-options\">\r\n              <button\r\n                className={`insurance-btn ${insuranceInfo === 'yes' ? 'selected' : ''}`}\r\n                onClick={() => setInsuranceInfo('yes')}\r\n              >\r\n                Да\r\n              </button>\r\n              <button\r\n                className={`insurance-btn ${insuranceInfo === 'no' ? 'selected' : ''}`}\r\n                onClick={() => setInsuranceInfo('no')}\r\n              >\r\n                Нет\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </>\r\n      );\r\n    } else if (currentStep === 2) {\r\n      if (insuranceInfo === 'yes') {\r\n        return (\r\n          <>\r\n            <div className=\"form-group\">\r\n              <label className=\"form-label\">Выберите срок страхования (лет):</label>\r\n              <select\r\n                className=\"insurance-term-select\"\r\n                value={insuranceTerm}\r\n                onChange={handleTermChange}\r\n              >\r\n                {Array.from({ length: 30 }, (_, i) => i + 1).map((year) => (\r\n                  <option key={year} value={year}>\r\n                    {year}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"form-label\">Введите страховую сумму (от 1 млн руб):</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"insurance-sum-input\"\r\n                placeholder=\"1.000.000\"\r\n                value={insuranceSum}\r\n                onChange={handleSumChange}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"form-label\">Периодичность оплаты страховой премии:</label>\r\n              <select\r\n                className=\"insurance-frequency-select\"\r\n                value={insuranceFrequency}\r\n                onChange={handleFrequencyChange}\r\n              >\r\n                <option value=\"\">Выберите период</option>\r\n                {[\"Ежемесячно\", \"Ежегодно\", \"раз в пол года\", \"ежеквартально\"].map((option) => (\r\n                  <option key={option} value={option}>\r\n                    {option}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </>\r\n        );\r\n      } else {\r\n        return (\r\n          <>\r\n            <div className=\"form-group\">\r\n              <label className=\"form-label\">Есть работа?</label>\r\n              <div className=\"insurance-options\">\r\n                <button\r\n                  className={`insurance-btn ${hasJob === 'yes' ? 'selected' : ''}`}\r\n                  onClick={() => setHasJob('yes')}\r\n                >\r\n                  Да\r\n                </button>\r\n                <button\r\n                  className={`insurance-btn ${hasJob === 'no' ? 'selected' : ''}`}\r\n                  onClick={() => setHasJob('no')}\r\n                >\r\n                  Нет\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group inline-group\">\r\n              <label className=\"inline-label\">Доход 2021, руб.:</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"inline-input\"\r\n                placeholder=\"Введите сумму\"\r\n                value={income2021}\r\n                onChange={handleIncome2021Change}\r\n              />\r\n            </div>\r\n            <div className=\"form-group inline-group\">\r\n              <label className=\"inline-label\">Доход 2022, руб.:</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"inline-input\"\r\n                placeholder=\"Введите сумму\"\r\n                value={income2022}\r\n                onChange={handleIncome2022Change}\r\n              />\r\n            </div>\r\n            <div className=\"form-group inline-group\">\r\n              <label className=\"inline-label\">Доход 2023, руб.:</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"inline-input\"\r\n                placeholder=\"Введите сумму\"\r\n                value={income2023}\r\n                onChange={handleIncome2023Change}\r\n              />\r\n            </div>\r\n            <div className=\"form-group inline-group\">\r\n              <label className=\"inline-label\">Стипендия 2023, руб.:</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"inline-input\"\r\n                placeholder=\"Введите сумму\"\r\n                value={scholarship}\r\n                onChange={handleScholarshipChange}\r\n              />\r\n            </div>\r\n            <div className=\"form-group inline-group\">\r\n              <label className=\"inline-label\">Кредиты, руб.:</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"inline-input\"\r\n                placeholder=\"Введите сумму\"\r\n                value={unsecuredLoans}\r\n                onChange={handleUnsecuredLoansChange}\r\n              />\r\n            </div>\r\n          </>\r\n        );\r\n      }\r\n    } else if (currentStep === 3) {\r\n      if (insuranceInfo === 'yes') {\r\n        return (\r\n          <>\r\n            <div className=\"form-group\">\r\n              <label className=\"form-label\">\r\n                Подключаем пакет «Несчастный случай»?\r\n              </label>\r\n              <div className=\"insurance-options\">\r\n                <button\r\n                  className={`insurance-btn ${accidentPackage === 'yes' ? 'selected' : ''}`}\r\n                  onClick={() => setAccidentPackage('yes')}\r\n                >\r\n                  Да\r\n                </button>\r\n                <button\r\n                  className={`insurance-btn ${accidentPackage === 'no' ? 'selected' : ''}`}\r\n                  onClick={() => setAccidentPackage('no')}\r\n                >\r\n                  Нет\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"form-label\">\r\n                Подключаем пакет «Критические заболевания»?\r\n              </label>\r\n              <div className=\"insurance-options\">\r\n                <button\r\n                  className={`insurance-btn ${criticalPackage === 'yes' ? 'selected' : ''}`}\r\n                  onClick={() => setCriticalPackage('yes')}\r\n                >\r\n                  Да\r\n                </button>\r\n                <button\r\n                  className={`insurance-btn ${criticalPackage === 'no' ? 'selected' : ''}`}\r\n                  onClick={() => setCriticalPackage('no')}\r\n                >\r\n                  Нет\r\n                </button>\r\n              </div>\r\n            </div>\r\n            {criticalPackage === 'yes' && (\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">\r\n                  Какой регион лечения подключаем?\r\n                </label>\r\n                <div className=\"insurance-options\">\r\n                  <button\r\n                    className={`insurance-btn ${treatmentRegion === 'russia' ? 'selected' : ''}`}\r\n                    onClick={() => setTreatmentRegion('russia')}\r\n                  >\r\n                    Лечение в РФ\r\n                  </button>\r\n                  <button\r\n                    className={`insurance-btn ${treatmentRegion === 'abroad' ? 'selected' : ''}`}\r\n                    onClick={() => setTreatmentRegion('abroad')}\r\n                  >\r\n                    Лечение за рубежом\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n            <div className=\"form-group\">\r\n              <label className=\"form-label\">\r\n                Подключаем опцию «Любительский спорт»?\r\n              </label>\r\n              <div className=\"insurance-options\">\r\n                <button\r\n                  className={`insurance-btn ${sportPackage === 'yes' ? 'selected' : ''}`}\r\n                  onClick={() => setSportPackage('yes')}\r\n                >\r\n                  Да\r\n                </button>\r\n                <button\r\n                  className={`insurance-btn ${sportPackage === 'no' ? 'selected' : ''}`}\r\n                  onClick={() => setSportPackage('no')}\r\n                >\r\n                  Нет\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </>\r\n        );\r\n      } else {\r\n        // Новые вопросы для ветки \"Нет\"\r\n        return (\r\n          <>\r\n            <div className=\"form-group\">\r\n              <label className=\"form-label\">Вы единственный кормилец в семье?</label>\r\n              <div className=\"insurance-options\">\r\n                <button\r\n                  className={`insurance-btn ${breadwinnerStatus === 'yes' ? 'selected' : ''}`}\r\n                  onClick={() => setBreadwinnerStatus('yes')}\r\n                >\r\n                  Да\r\n                </button>\r\n                <button\r\n                  className={`insurance-btn ${breadwinnerStatus === 'no' ? 'selected' : ''}`}\r\n                  onClick={() => setBreadwinnerStatus('no')}\r\n                >\r\n                  Нет\r\n                </button>\r\n                <button\r\n                  className={`insurance-btn ${breadwinnerStatus === 'notMe' ? 'selected' : ''}`}\r\n                  onClick={() => setBreadwinnerStatus('notMe')}\r\n                >\r\n                  Не являюсь кормилцем\r\n                </button>\r\n              </div>\r\n            </div>\r\n            {breadwinnerStatus !== 'yes' && (\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Доля вашего дохода в семейном бюджете:</label>\r\n                <select\r\n                  className=\"insurance-term-select\"\r\n                  value={incomeShare}\r\n                  onChange={(e) => setIncomeShare(e.target.value)}\r\n                >\r\n                  <option value=\"\">Выберите долю</option>\r\n                  <option value=\"до 10%\">до 10%</option>\r\n                  <option value=\"10-24%\">10–24%</option>\r\n                  <option value=\"25-49%\">25–49%</option>\r\n                  <option value=\"50-74%\">50–74%</option>\r\n                  <option value=\"75-89%\">75–89%</option>\r\n                  <option value=\"Более 90%\">Более 90%</option>\r\n                </select>\r\n              </div>\r\n            )}\r\n            <div className=\"form-group\">\r\n              <label className=\"form-label\">Количество детей на иждивении?</label>\r\n              <select\r\n                className=\"insurance-term-select\"\r\n                value={childrenCount}\r\n                onChange={(e) => setChildrenCount(e.target.value)}\r\n              >\r\n                <option value=\"0\">0</option>\r\n                <option value=\"1\">1</option>\r\n                <option value=\"2\">2</option>\r\n                <option value=\"3 и более\">3 и более</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"form-label\">Есть ли родственники, требующие особого ухода?</label>\r\n              <div className=\"insurance-options\">\r\n                <button\r\n                  className={`insurance-btn ${specialCareRelatives === 'yes' ? 'selected' : ''}`}\r\n                  onClick={() => setSpecialCareRelatives('yes')}\r\n                >\r\n                  Да\r\n                </button>\r\n                <button\r\n                  className={`insurance-btn ${specialCareRelatives === 'no' ? 'selected' : ''}`}\r\n                  onClick={() => setSpecialCareRelatives('no')}\r\n                >\r\n                  Нет\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </>\r\n        );\r\n      }\r\n    }\r\n    return null;\r\n  };\r\n\r\n  // Рендер основного интерфейса\r\n  return (\r\n    <div className=\"justincase-container\" style={{ backgroundImage: `url(${backgroundImage})` }}>\r\n      {/* Условие для скрытия логотипа на шаге 4 */}\r\n      {currentStep !== 4 && (\r\n        <div className=\"logo-container\">\r\n          <img src={logo} alt=\"Logo\" className=\"logo-image\" />\r\n        </div>\r\n      )}\r\n\r\n      {/* Условие для скрытия заголовка на шаге 4 */}\r\n      {currentStep !== 4 && (\r\n        <h1 className=\"justincase-title\">\r\n          Расчет по программе \"На всякий случай\" для сотрудника\r\n        </h1>\r\n      )}\r\n\r\n      <div className=\"justincase-form\">{renderStep()}</div>\r\n\r\n      {/* Кнопка \"Назад\" */}\r\n      {currentStep > 1 && currentStep < 4 && (\r\n        <div className=\"back-btn-container\">\r\n          <button className=\"back-btn\" onClick={handlePrev}>\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n              <path d=\"M12 20l-8-8 8-8\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Кнопка \"Далее\" или \"Завершить\" */}\r\n      {currentStep < 3 && (\r\n        <div className=\"top-btn-container\">\r\n          <button className=\"top-btn\" onClick={handleNext} disabled={!canGoNext()}>\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n              <path d=\"M12 4l8 8-8 8\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      )}\r\n      {currentStep === 3 && (\r\n        <div className=\"top-btn-container\">\r\n          <button className=\"top-btn\" onClick={handleNext} disabled={!canGoNext()}>\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n              <path d=\"M5 13l4 4L19 7\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default JustincasePage;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}