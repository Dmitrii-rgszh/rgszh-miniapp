{"ast":null,"code":"// src/CareFuturePage.js\nimport React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import logoImage from'./components/logo.png';import backgroundImage from'./components/background.png';import DateWheelPicker from'./DateWheelPicker';import'./CareFuturePage.css';import'./SNPPage.css';// общие стили (фон, кнопки)\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function CareFuturePage(){const navigate=useNavigate();// ===== Состояния =====\nconst[step,setStep]=useState(1);// 1 — ввод почты, 2 — ввод параметров, 3 — отображение результата, 4 — контакт\nconst[email,setEmail]=useState('');const[emailError,setEmailError]=useState('');const[birthDate,setBirthDate]=useState(new Date());const[gender,setGender]=useState(null);// 'мужской' | 'женский' | null\nconst[termYears,setTermYears]=useState('5');// срок (строка), по умолчанию «5»\nconst[calcType,setCalcType]=useState(null);// 'premium' | 'sum' | null\nconst[amountRaw,setAmountRaw]=useState('');// «числа» без точек\nconst[amountDisplay,setAmountDisplay]=useState('');// форматированная с разделителем\nconst[amountError,setAmountError]=useState('');const[isProcessing,setIsProcessing]=useState(false);const[resultData,setResultData]=useState(null);const[carouselIndex,setCarouselIndex]=useState(0);const[contactMode,setContactMode]=useState(false);const[contactSending,setContactSending]=useState(false);const[contactSent,setContactSent]=useState(false);const[lastName,setLastName]=useState('');const[firstName,setFirstName]=useState('');const[middleName,setMiddleName]=useState('');const[workCity,setWorkCity]=useState('');// ===== Валидация email =====\nconst emailValid=email.toLowerCase().endsWith('@vtb.ru');// ===== Вспомогательные функции =====\nfunction getAge(d){if(!(d instanceof Date))return 0;const today=new Date();let age=today.getFullYear()-d.getFullYear();if(today.getMonth()<d.getMonth()||today.getMonth()===d.getMonth()&&today.getDate()<d.getDate()){age--;}return age;}function isAmountValid(){const n=parseInt(amountRaw,10)||0;// Минимум 100 000 ₽ при расчёте от взноса, минимум 0 при расчёте от суммы (можно считать, что нет нижней границы)\nreturn calcType==='premium'&&n>=100000||calcType==='sum'&&n>0;}function canGoNext(){return step===2&&getAge(birthDate)>=18&&gender&&calcType&&amountRaw&&isAmountValid();}// ===== Шаг 1 → Шаг 2: Ввод почты =====\nfunction handleEmailNext(){if(!emailValid){setEmailError('Используйте корпоративную почту домена @vtb.ru');return;}setEmailError('');// Сбрасываем все поля перед следующим шагом\nsetGender(null);setCalcType(null);setAmountRaw('');setAmountDisplay('');setAmountError('');setTermYears('5');setStep(2);}// ===== Обработчик изменения суммы (форматируем точки) =====\nfunction onAmountChange(e){const raw=e.target.value.replace(/\\D/g,'');setAmountRaw(raw);let d=raw,o='';while(d.length>3){o='.'+d.slice(-3)+o;d=d.slice(0,-3);}setAmountDisplay(d+o);const n=parseInt(raw,10)||0;if(calcType==='premium'&&n<100000){setAmountError('Мин. 100 000 ₽');}else{setAmountError('');}}// ===== Шаг 2 → Запрос расчёта =====\nasync function handleCalcNext(){if(!canGoNext())return;setIsProcessing(true);// Собираем данные для отправки на сервер (прокси → сервис).\nconst dateStr=birthDate.toLocaleDateString('ru-RU',{day:'2-digit',month:'2-digit',year:'numeric'});// В числовой форме срок (5, 10, 15, …)\nconst termNumeric=parseInt(termYears,10);// В ячейку I16 (тип расчёта: \"Страхового взноса\" или \"Страховой суммы\")\n// В ячейку I15: срок (цифра)\n// В ячейку I17 или I18: сумма (если calcType === 'premium' → I17, иначе I18)\nconst payload={email,birthdate:dateStr,age:getAge(birthDate),gender,term:termNumeric,payment:calcType==='premium'?'Страхового взноса':'Страховой суммы',sum:parseInt(amountRaw,10)};try{const res=await fetch('/api/proxy/carefuture/save',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});if(!res.ok){console.error('Ошибка сервера',res.status,await res.text());alert(`Ошибка ${res.status}: смотрите консоль`);}else{const data=await res.json();/*\n          Ожидаем от backend (server.py) примерно такой ответ:\n          {\n            calculationDate: \"31.05.2025\",\n            age: ...,\n            gender: \"...\",\n            term: ...,               // 5 или 10, и т.д.\n            payment: \"...\",          // \"Страхового взноса\" или \"Страховой суммы\"\n            contribution: rv(\"C13\"), // Оклад ввода взноса (после расчёта)\n            totalContribution: rv(\"C22\"), // Общая сумма вычета (C22)\n            accumulateLabel: rv(\"G13\"),   // Текст «что-то» (G13)\n            // ...\n          }\n        */setResultData(data);setCarouselIndex(0);setStep(3);}}catch(err){console.error('Ошибка запроса:',err);alert('Не удалось выполнить запрос');}finally{setIsProcessing(false);}}function goHome(){navigate(-1);}// ===== Обработчик: «Отправить запрос менеджеру» =====\nasync function handleSendToManager(){if(!lastName.trim()||!firstName.trim()||!workCity.trim()){alert('Заполните, пожалуйста, все поля формы.');return;}setContactSending(true);const fullName=`${lastName.trim()} ${firstName.trim()} ${middleName.trim()}`;const subject=`Заявка на полис \"Забота о будущем\" - ${fullName}`;const bodyLines=['Добрый день, коллега!','','К Вам поступила заявка на рассмотрение возможности оформления полиса \"Забота о будущем\"','',`ФИО сотрудника: ${fullName}`,`Пол: ${gender}`,`Дата рождения: ${birthDate.toLocaleDateString('ru-RU',{day:'2-digit',month:'2-digit',year:'numeric'})}`,`Возраст: ${getAge(birthDate)}`,`Почта сотрудника: ${email}`,`Город работы: ${workCity.trim()}`,`Срок программы: ${termYears} лет`,`Размер взноса: ${amountDisplay} ₽`];const body=bodyLines.join('\\r\\n');const payload={subject,body};try{const res=await fetch('/api/proxy/carefuture/send_manager',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});if(!res.ok){console.error('Ошибка сервера при отправке менеджеру:',res.status,await res.text());alert(`Ошибка при отправке запроса менеджеру: ${res.status}`);setContactSending(false);}else{setContactSending(false);setContactSent(true);setTimeout(()=>navigate(-1),4000);}}catch(err){console.error('Ошибка при запросе менеджеру:',err);alert('Не удалось отправить запрос менеджеру');setContactSending(false);}}// ===== Экран «Выполняется расчёт…» =====\nif(isProcessing){return/*#__PURE__*/_jsxs(\"div\",{className:\"processing-screen\",style:{backgroundImage:`url(${backgroundImage})`},children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-wrapper animate-logo\",children:/*#__PURE__*/_jsx(\"img\",{className:\"poll-logo\",src:logoImage,alt:\"\\u041B\\u043E\\u0433\\u043E\\u0442\\u0438\\u043F\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"processing-title\",children:\"\\u0412\\u044B\\u043F\\u043E\\u043B\\u043D\\u044F\\u0435\\u0442\\u0441\\u044F \\u0440\\u0430\\u0441\\u0447\\u0451\\u0442 \\u043F\\u043E \\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0435 \\xAB\\u0417\\u0430\\u0431\\u043E\\u0442\\u0430 \\u043E \\u0431\\u0443\\u0434\\u0443\\u0449\\u0435\\u043C\\xBB\"}),/*#__PURE__*/_jsx(\"div\",{className:\"arrow-animation\",children:\"\\u2192\"})]});}// ===== Экран «Отправляется запрос менеджеру…» =====\nif(contactSending){return/*#__PURE__*/_jsxs(\"div\",{className:\"processing-screen\",style:{backgroundImage:`url(${backgroundImage})`},children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-wrapper animate-logo\",children:/*#__PURE__*/_jsx(\"img\",{className:\"poll-logo\",src:logoImage,alt:\"\\u041B\\u043E\\u0433\\u043E\\u0442\\u0438\\u043F\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"processing-title\",children:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u044F\\u044E\\u0442\\u0441\\u044F \\u043F\\u0430\\u0440\\u0430\\u043C\\u0435\\u0442\\u0440\\u044B \\u0440\\u0430\\u0441\\u0447\\u0451\\u0442\\u0430 \\u043C\\u0435\\u043D\\u0435\\u0434\\u0436\\u0435\\u0440\\u0443...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"arrow-animation\",children:\"\\u2192\"})]});}// ===== Экран «Успех отправки менеджеру» =====\nif(contactSent){const fullName=`${lastName.trim()} ${firstName.trim()} ${middleName.trim()}`;return/*#__PURE__*/_jsxs(\"div\",{className:\"processing-screen\",style:{backgroundImage:`url(${backgroundImage})`},children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-wrapper animate-logo\",children:/*#__PURE__*/_jsx(\"img\",{className:\"poll-logo\",src:logoImage,alt:\"\\u041B\\u043E\\u0433\\u043E\\u0442\\u0438\\u043F\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"processing-title\",children:[fullName,\", \\u043D\\u0430\\u0448 \\u044D\\u043A\\u0441\\u043F\\u0435\\u0440\\u0442 \\u0441\\u0432\\u044F\\u0436\\u0435\\u0442\\u0441\\u044F \\u0441 \\u0412\\u0430\\u043C\\u0438 \\u0432 \\u0431\\u043B\\u0438\\u0436\\u0430\\u0439\\u0448\\u0435\\u0435 \\u0432\\u0440\\u0435\\u043C\\u044F!\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u041E\\u0442\\u043B\\u0438\\u0447\\u043D\\u043E\\u0433\\u043E \\u0434\\u043D\\u044F, \\u043A\\u043E\\u043B\\u043B\\u0435\\u0433\\u0430!\"]})]});}// ===== Если resultData существует — показываем результат с каруселью или форму контакта =====\nif(resultData){const{age,// возвращённый сервером (или рассчитываем локально)\ngender:resGender,term:resTerm,payment:resPayment,contribution,// сумма ежегодного взноса: rv(\"C13\")\ntotalContribution,// общая сумма взносов: rv(\"C22\")\naccumulateLabel// текст из \"G13\"\n// (начисление фиксированного дохода) пока не отображается\n}=resultData;// Форматирование «100000» → «100 000»\nfunction fmt(number){return Number(number).toLocaleString('ru-RU',{minimumFractionDigits:0});}// ===== Если contactMode=true — показываем форму «Контакт менеджеру» =====\nif(contactMode){return/*#__PURE__*/_jsxs(\"div\",{className:\"snp-container\",style:{backgroundImage:`url(${backgroundImage})`},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"polls-header\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-btn\",onClick:goHome,children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M3 11l9-8 9 8v10a1 1 0 0 1-1 1h-5v-7h-6v7H4a1 1 0 0 1-1-1V11z\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"logo-wrapper animate-logo\",children:/*#__PURE__*/_jsx(\"img\",{className:\"poll-logo\",src:logoImage,alt:\"\\u041B\\u043E\\u0433\\u043E\\u0442\\u0438\\u043F\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"forward-btn\",onClick:()=>setContactMode(false),children:/*#__PURE__*/_jsx(\"span\",{className:\"arrow-icon\",children:\"\\u2190\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-wrapper\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"contact-title\",children:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0412\\u0430\\u0448\\u0438 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"contact-form\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0444\\u0430\\u043C\\u0438\\u043B\\u0438\\u044E\",value:lastName,onChange:e=>setLastName(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{children:\"\\u0418\\u043C\\u044F:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0438\\u043C\\u044F\",value:firstName,onChange:e=>setFirstName(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{children:\"\\u041E\\u0442\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043E\\u0442\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E\",value:middleName,onChange:e=>setMiddleName(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{children:\"\\u0413\\u043E\\u0440\\u043E\\u0434 \\u0440\\u0430\\u0431\\u043E\\u0442\\u044B:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0433\\u043E\\u0440\\u043E\\u0434\",value:workCity,onChange:e=>setWorkCity(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{className:\"contact-btn\",onClick:handleSendToManager,children:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441\"})]})]});}// ===== Иначе — показываем результат (шаг 3) =====\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"snp-container\",style:{backgroundImage:`url(${backgroundImage})`},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"polls-header\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-btn\",onClick:goHome,children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M3 11l9-8 9 8v10a1 1 0 0 1-1 1h-5v-7h-6v7H4a1 1 0 0 1-1-1V11z\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"logo-wrapper animate-logo\",children:/*#__PURE__*/_jsx(\"img\",{className:\"poll-logo\",src:logoImage,alt:\"\\u041B\\u043E\\u0433\\u043E\\u0442\\u0438\\u043F\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"repeat-btn\",onClick:()=>{setResultData(null);setGender(null);setCalcType(null);setAmountRaw('');setAmountDisplay('');setAmountError('');setTermYears('5');setStep(2);setContactMode(false);},children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 4V1L8 5l4 4V6 c4.41 0 8 3.59 8 8 s-3.59 8-8 8-8-3.59-8-8h2 c0 3.31 2.69 6 6 6s6-2.69 6-6 -2.69-6-6-6v3l-4-4 4-4z\",fill:\"#fff\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-wrapper\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"polls-title\",children:\"\\u0420\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u044B \\u0440\\u0430\\u0441\\u0447\\u0451\\u0442\\u0430 \\u043F\\u043E \\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0435 \\xAB\\u0417\\u0430\\u0431\\u043E\\u0442\\u0430 \\u043E \\u0431\\u0443\\u0434\\u0443\\u0449\\u0435\\u043C\\xBB\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"params-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u041F\\u0430\\u0440\\u0430\\u043C\\u0435\\u0442\\u0440\\u044B\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0412\\u043E\\u0437\\u0440\\u0430\\u0441\\u0442: \",age,\" \\u043B\\u0435\\u0442\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u041F\\u043E\\u043B: \",resGender]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0421\\u0440\\u043E\\u043A: \",resTerm,\" \\u043B\\u0435\\u0442\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u041F\\u0435\\u0440\\u0438\\u043E\\u0434\\u0438\\u0447\\u043D\\u043E\\u0441\\u0442\\u044C \\u043E\\u043F\\u043B\\u0430\\u0442\\u044B: \\u0435\\u0436\\u0435\\u0433\\u043E\\u0434\\u043D\\u043E\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"carousel-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"carousel-indicators\",children:[/*#__PURE__*/_jsx(\"span\",{className:carouselIndex===0?'active':''}),/*#__PURE__*/_jsx(\"span\",{className:carouselIndex===1?'active':''}),/*#__PURE__*/_jsx(\"span\",{className:carouselIndex===2?'active':''})]}),/*#__PURE__*/_jsx(\"div\",{className:\"carousel-clipper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"carousel-wrapper\",style:{transform:`translateX(-${carouselIndex*100}%)`},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"carousel-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"first-line\",children:[\"\\u0412 \\u0442\\u0435\\u0447\\u0435\\u043D\\u0438\\u0435 \",resTerm,\" \\u043B\\u0435\\u0442\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"unit\",children:\"\\u0412\\u044B \\u0432\\u043D\\u043E\\u0441\\u0438\\u0442\\u0435 \\u0441\\u0440\\u0435\\u0434\\u0441\\u0442\\u0432\\u0430\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"value\",children:[fmt(contribution),\" \\u20BD\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"unit\",children:\"\\u0415\\u0436\\u0435\\u0433\\u043E\\u0434\\u043D\\u043E\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"value\",children:[fmt(totalContribution),\" \\u20BD\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"footer-label\",children:\"\\u0421\\u0443\\u043C\\u043C\\u0430 \\u0432\\u0430\\u0448\\u0438\\u0445 \\u0432\\u0437\\u043D\\u043E\\u0441\\u043E\\u0432\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"carousel-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"first-line\",children:\"\\u0412\\u044B \\u043D\\u0430\\u043A\\u043E\\u043F\\u0438\\u0442\\u0435\"}),/*#__PURE__*/_jsx(\"div\",{className:\"unit\",children:\"\\u0441 \\u0443\\u0447\\u0451\\u0442\\u043E\\u043C \\u0444\\u0438\\u043A\\u0441\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u043D\\u043E\\u0433\\u043E \\u0434\\u043E\\u0445\\u043E\\u0434\\u0430\"}),/*#__PURE__*/_jsx(\"div\",{className:\"value\",children:accumulateLabel}),/*#__PURE__*/_jsx(\"div\",{className:\"unit\",children:\"\\u0421\\u0443\\u043C\\u043C\\u0430 \\u0432\\u044B\\u0447\\u0435\\u0442\\u0430 \\u0437\\u0430 \\u0432\\u0435\\u0441\\u044C \\u0441\\u0440\\u043E\\u043A\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"value\",children:[fmt(resultData.totalReduction||0),\" \\u20BD\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"footer-label\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"carousel-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"first-line\",children:\"\\u0418\\u0442\\u043E\\u0433\\u043E\\u0432\\u0430\\u044F \\u0433\\u043E\\u0434\\u043E\\u0432\\u0430\\u044F \\u0432\\u044B\\u043F\\u043B\\u0430\\u0442\\u0430\"}),/*#__PURE__*/_jsx(\"div\",{className:\"unit\",children:\"\\u0421\\u0443\\u043C\\u043C\\u0430 \\u0441 \\u043D\\u0430\\u0447\\u0438\\u0441\\u043B\\u0435\\u043D\\u0438\\u044F\\u043C\\u0438\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"value\",children:[fmt(resultData.finalAnnual||0),\" \\u20BD\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"unit\",children:[\"\\u0421\\u0443\\u043C\\u043C\\u0430 \\u0437\\u0430 \",resTerm,\" \\u043B\\u0435\\u0442\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"value\",children:[fmt(resultData.finalTotal||0),\" \\u20BD\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer-label\",children:[\"\\u0412\\u0430\\u0448 \\u043A\\u0430\\u043F\\u0438\\u0442\\u0430\\u043B \\u0447\\u0435\\u0440\\u0435\\u0437 \",resTerm,\" \\u043B\\u0435\\u0442\"]})]})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"carousel-control prev\",onClick:()=>setCarouselIndex(idx=>idx-1),disabled:carouselIndex===0,children:\"\\u2039\"}),/*#__PURE__*/_jsx(\"button\",{className:\"carousel-control next\",onClick:()=>setCarouselIndex(idx=>idx+1),disabled:carouselIndex===2,children:\"\\u203A\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"contact-btn\",onClick:()=>setContactMode(true),children:\"\\u0421\\u0432\\u044F\\u0437\\u0430\\u0442\\u044C\\u0441\\u044F \\u0441 \\u043C\\u0435\\u043D\\u0435\\u0434\\u0436\\u0435\\u0440\\u043E\\u043C\"})]})]});}// ===== ОСНОВНОЙ UI (Шаг 1 и Шаг 2) =====\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"snp-container\",style:{backgroundImage:`url(${backgroundImage})`},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"polls-header\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-btn\",onClick:goHome,children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M3 11l9-8 9 8v10a1 1 0 0 1-1 1h-5v-7h-6v7H4a1 1 0 0 1-1-1V11z\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"logo-wrapper animate-logo\",children:/*#__PURE__*/_jsx(\"img\",{className:\"poll-logo\",src:logoImage,alt:\"\\u041B\\u043E\\u0433\\u043E\\u0442\\u0438\\u043F\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"forward-btn\",onClick:step===1?handleEmailNext:handleCalcNext,disabled:step===1?!emailValid:!canGoNext(),children:/*#__PURE__*/_jsx(\"span\",{className:\"arrow-icon\",children:\"\\u2192\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-wrapper\",children:[step===1&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"email-step\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"email-label\",children:\"\\u041A\\u043E\\u0440\\u043F\\u043E\\u0440\\u0430\\u0442\\u0438\\u0432\\u043D\\u0430\\u044F \\u043F\\u043E\\u0447\\u0442\\u0430 \\u0412\\u0422\\u0411:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",inputMode:\"email\",autoComplete:\"email\",autoCapitalize:\"none\",spellCheck:\"false\",placeholder:\"name@vtb.ru\",value:email,onChange:e=>setEmail(e.target.value)})]}),emailError&&/*#__PURE__*/_jsx(\"div\",{className:\"input-error\",children:emailError}),/*#__PURE__*/_jsx(\"button\",{className:\"polls-btn btn1\",onClick:handleEmailNext,disabled:!emailValid,children:\"\\u041F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0438\\u0442\\u044C\"})]}),step===2&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"polls-title\",children:\"\\u0417\\u0430\\u0431\\u043E\\u0442\\u0430 \\u043E \\u0431\\u0443\\u0434\\u0443\\u0449\\u0435\\u043C\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"date-section\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"section-label\",children:\"\\u0414\\u0430\\u0442\\u0430 \\u0440\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F:\"}),/*#__PURE__*/_jsx(DateWheelPicker,{value:birthDate,onChange:val=>{if(val instanceof Date){setBirthDate(val);}else if(val!==null&&val!==void 0&&val.day){setBirthDate(new Date(val.year,val.month-1,val.day));}}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"section-subtitle\",children:\"\\u0421\\u0440\\u043E\\u043A \\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u044B (\\u043B\\u0435\\u0442):\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"term-select\",value:termYears,onChange:e=>setTermYears(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"5 \\u043B\\u0435\\u0442\"}),/*#__PURE__*/_jsx(\"option\",{value:\"10\",children:\"10 \\u043B\\u0435\\u0442\"}),/*#__PURE__*/_jsx(\"option\",{value:\"15\",children:\"15 \\u043B\\u0435\\u0442\"}),/*#__PURE__*/_jsx(\"option\",{value:\"20\",children:\"20 \\u043B\\u0435\\u0442\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"section-subtitle\",children:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043F\\u043E\\u043B:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"gender-section\",children:[/*#__PURE__*/_jsxs(\"button\",{className:`insurance-btn ${gender==='мужской'?'selected':''}`,onClick:()=>setGender('мужской'),children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\u041C\\u0443\\u0436\\u0441\\u043A\\u043E\\u0439\"}),/*#__PURE__*/_jsx(\"div\",{className:\"emoji\",children:\"\\uD83D\\uDC68\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:`insurance-btn ${gender==='женский'?'selected':''}`,onClick:()=>setGender('женский'),children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\u0416\\u0435\\u043D\\u0441\\u043A\\u0438\\u0439\"}),/*#__PURE__*/_jsx(\"div\",{className:\"emoji\",children:\"\\uD83D\\uDC69\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"section-subtitle\",children:\"\\u0420\\u0430\\u0441\\u0447\\u0451\\u0442 \\u043E\\u0442\\u2026\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"insurance-options\",children:[/*#__PURE__*/_jsxs(\"button\",{className:`insurance-btn ${calcType==='premium'?'selected':''}`,onClick:()=>setCalcType('premium'),children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\u0421\\u0442\\u0440\\u0430\\u0445\\u043E\\u0432\\u043E\\u0433\\u043E\"}),/*#__PURE__*/_jsx(\"div\",{children:\"\\u0432\\u0437\\u043D\\u043E\\u0441\\u0430\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:`insurance-btn ${calcType==='sum'?'selected':''}`,onClick:()=>setCalcType('sum'),children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\u0421\\u0442\\u0440\\u0430\\u0445\\u043E\\u0432\\u043E\\u0439\"}),/*#__PURE__*/_jsx(\"div\",{children:\"\\u0441\\u0443\\u043C\\u043C\\u044B\"})]})]}),calcType&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-subtitle\",children:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u0443\\u043C\\u043C\\u0443 \\u0432 \\u0440\\u0443\\u0431\\u043B\\u044F\\u0445:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"sum-section\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"100.000\",value:amountDisplay,onChange:onAmountChange})}),amountError&&/*#__PURE__*/_jsx(\"div\",{className:\"input-error\",children:amountError})]})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useNavigate","logoImage","backgroundImage","DateWheelPicker","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CareFuturePage","navigate","step","setStep","email","setEmail","emailError","setEmailError","birthDate","setBirthDate","Date","gender","setGender","termYears","setTermYears","calcType","setCalcType","amountRaw","setAmountRaw","amountDisplay","setAmountDisplay","amountError","setAmountError","isProcessing","setIsProcessing","resultData","setResultData","carouselIndex","setCarouselIndex","contactMode","setContactMode","contactSending","setContactSending","contactSent","setContactSent","lastName","setLastName","firstName","setFirstName","middleName","setMiddleName","workCity","setWorkCity","emailValid","toLowerCase","endsWith","getAge","d","today","age","getFullYear","getMonth","getDate","isAmountValid","n","parseInt","canGoNext","handleEmailNext","onAmountChange","e","raw","target","value","replace","o","length","slice","handleCalcNext","dateStr","toLocaleDateString","day","month","year","termNumeric","payload","birthdate","term","payment","sum","res","fetch","method","headers","body","JSON","stringify","ok","console","error","status","text","alert","data","json","err","goHome","handleSendToManager","trim","fullName","subject","bodyLines","join","setTimeout","className","style","children","src","alt","resGender","resTerm","resPayment","contribution","totalContribution","accumulateLabel","fmt","number","Number","toLocaleString","minimumFractionDigits","onClick","viewBox","type","placeholder","onChange","fill","transform","totalReduction","finalAnnual","finalTotal","idx","disabled","inputMode","autoComplete","autoCapitalize","spellCheck","val"],"sources":["C:/Users/shapeless/Desktop/miniapp/src/SNPPage.js"],"sourcesContent":["// src/CareFuturePage.js\n\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport logoImage       from './components/logo.png';\nimport backgroundImage from './components/background.png';\nimport DateWheelPicker from './DateWheelPicker';\n\nimport './CareFuturePage.css';\nimport './SNPPage.css'; // общие стили (фон, кнопки)\n\nexport default function CareFuturePage() {\n  const navigate = useNavigate();\n\n  // ===== Состояния =====\n  const [step, setStep]                 = useState(1);         // 1 — ввод почты, 2 — ввод параметров, 3 — отображение результата, 4 — контакт\n  const [email, setEmail]               = useState('');\n  const [emailError, setEmailError]     = useState('');\n  const [birthDate, setBirthDate]       = useState(new Date());\n  const [gender, setGender]             = useState(null);      // 'мужской' | 'женский' | null\n  const [termYears, setTermYears]       = useState('5');       // срок (строка), по умолчанию «5»\n  const [calcType, setCalcType]         = useState(null);      // 'premium' | 'sum' | null\n  const [amountRaw, setAmountRaw]       = useState('');        // «числа» без точек\n  const [amountDisplay, setAmountDisplay] = useState('');      // форматированная с разделителем\n  const [amountError, setAmountError]   = useState('');\n\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [resultData, setResultData]     = useState(null);\n  const [carouselIndex, setCarouselIndex] = useState(0);\n\n  const [contactMode, setContactMode]     = useState(false);\n  const [contactSending, setContactSending] = useState(false);\n  const [contactSent, setContactSent]     = useState(false);\n\n  const [lastName, setLastName]     = useState('');\n  const [firstName, setFirstName]   = useState('');\n  const [middleName, setMiddleName] = useState('');\n  const [workCity, setWorkCity]     = useState('');\n\n  // ===== Валидация email =====\n  const emailValid = email.toLowerCase().endsWith('@vtb.ru');\n\n  // ===== Вспомогательные функции =====\n  function getAge(d) {\n    if (!(d instanceof Date)) return 0;\n    const today = new Date();\n    let age = today.getFullYear() - d.getFullYear();\n    if (\n      today.getMonth() < d.getMonth() ||\n      (today.getMonth() === d.getMonth() && today.getDate() < d.getDate())\n    ) {\n      age--;\n    }\n    return age;\n  }\n\n  function isAmountValid() {\n    const n = parseInt(amountRaw, 10) || 0;\n    // Минимум 100 000 ₽ при расчёте от взноса, минимум 0 при расчёте от суммы (можно считать, что нет нижней границы)\n    return (calcType === 'premium' && n >= 100000) ||\n           (calcType === 'sum'     && n > 0);\n  }\n\n  function canGoNext() {\n    return (\n      step === 2 &&\n      getAge(birthDate) >= 18 &&\n      gender &&\n      calcType &&\n      amountRaw &&\n      isAmountValid()\n    );\n  }\n\n  // ===== Шаг 1 → Шаг 2: Ввод почты =====\n  function handleEmailNext() {\n    if (!emailValid) {\n      setEmailError('Используйте корпоративную почту домена @vtb.ru');\n      return;\n    }\n    setEmailError('');\n    // Сбрасываем все поля перед следующим шагом\n    setGender(null);\n    setCalcType(null);\n    setAmountRaw('');\n    setAmountDisplay('');\n    setAmountError('');\n    setTermYears('5');\n    setStep(2);\n  }\n\n  // ===== Обработчик изменения суммы (форматируем точки) =====\n  function onAmountChange(e) {\n    const raw = e.target.value.replace(/\\D/g, '');\n    setAmountRaw(raw);\n    let d = raw, o = '';\n    while (d.length > 3) {\n      o = '.' + d.slice(-3) + o;\n      d = d.slice(0, -3);\n    }\n    setAmountDisplay(d + o);\n\n    const n = parseInt(raw, 10) || 0;\n    if (calcType === 'premium' && n < 100000) {\n      setAmountError('Мин. 100 000 ₽');\n    } else {\n      setAmountError('');\n    }\n  }\n\n  // ===== Шаг 2 → Запрос расчёта =====\n  async function handleCalcNext() {\n    if (!canGoNext()) return;\n    setIsProcessing(true);\n\n    // Собираем данные для отправки на сервер (прокси → сервис).\n    const dateStr = birthDate.toLocaleDateString('ru-RU', {\n      day: '2-digit', month: '2-digit', year: 'numeric'\n    });\n    // В числовой форме срок (5, 10, 15, …)\n    const termNumeric = parseInt(termYears, 10);\n    // В ячейку I16 (тип расчёта: \"Страхового взноса\" или \"Страховой суммы\")\n    // В ячейку I15: срок (цифра)\n    // В ячейку I17 или I18: сумма (если calcType === 'premium' → I17, иначе I18)\n    const payload = {\n      email,\n      birthdate: dateStr,\n      age:        getAge(birthDate),\n      gender,\n      term:       termNumeric,\n      payment:    calcType === 'premium' ? 'Страхового взноса' : 'Страховой суммы',\n      sum:        parseInt(amountRaw, 10)\n    };\n\n    try {\n      const res = await fetch('/api/proxy/carefuture/save', {\n        method:  'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body:    JSON.stringify(payload)\n      });\n      if (!res.ok) {\n        console.error('Ошибка сервера', res.status, await res.text());\n        alert(`Ошибка ${res.status}: смотрите консоль`);\n      } else {\n        const data = await res.json();\n        /*\n          Ожидаем от backend (server.py) примерно такой ответ:\n          {\n            calculationDate: \"31.05.2025\",\n            age: ...,\n            gender: \"...\",\n            term: ...,               // 5 или 10, и т.д.\n            payment: \"...\",          // \"Страхового взноса\" или \"Страховой суммы\"\n            contribution: rv(\"C13\"), // Оклад ввода взноса (после расчёта)\n            totalContribution: rv(\"C22\"), // Общая сумма вычета (C22)\n            accumulateLabel: rv(\"G13\"),   // Текст «что-то» (G13)\n            // ...\n          }\n        */\n        setResultData(data);\n        setCarouselIndex(0);\n        setStep(3);\n      }\n    } catch (err) {\n      console.error('Ошибка запроса:', err);\n      alert('Не удалось выполнить запрос');\n    } finally {\n      setIsProcessing(false);\n    }\n  }\n\n  function goHome() {\n    navigate(-1);\n  }\n\n  // ===== Обработчик: «Отправить запрос менеджеру» =====\n  async function handleSendToManager() {\n    if (!lastName.trim() || !firstName.trim() || !workCity.trim()) {\n      alert('Заполните, пожалуйста, все поля формы.');\n      return;\n    }\n    setContactSending(true);\n\n    const fullName = `${lastName.trim()} ${firstName.trim()} ${middleName.trim()}`;\n    const subject = `Заявка на полис \"Забота о будущем\" - ${fullName}`;\n    const bodyLines = [\n      'Добрый день, коллега!',\n      '',\n      'К Вам поступила заявка на рассмотрение возможности оформления полиса \"Забота о будущем\"',\n      '',\n      `ФИО сотрудника: ${fullName}`,\n      `Пол: ${gender}`,\n      `Дата рождения: ${birthDate.toLocaleDateString('ru-RU', { day:'2-digit', month:'2-digit', year:'numeric' })}`,\n      `Возраст: ${getAge(birthDate)}`,\n      `Почта сотрудника: ${email}`,\n      `Город работы: ${workCity.trim()}`,\n      `Срок программы: ${termYears} лет`,\n      `Размер взноса: ${amountDisplay} ₽`\n    ];\n    const body = bodyLines.join('\\r\\n');\n\n    const payload = {\n      subject,\n      body\n    };\n\n    try {\n      const res = await fetch('/api/proxy/carefuture/send_manager', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload)\n      });\n      if (!res.ok) {\n        console.error('Ошибка сервера при отправке менеджеру:', res.status, await res.text());\n        alert(`Ошибка при отправке запроса менеджеру: ${res.status}`);\n        setContactSending(false);\n      } else {\n        setContactSending(false);\n        setContactSent(true);\n        setTimeout(() => navigate(-1), 4000);\n      }\n    } catch (err) {\n      console.error('Ошибка при запросе менеджеру:', err);\n      alert('Не удалось отправить запрос менеджеру');\n      setContactSending(false);\n    }\n  }\n\n  // ===== Экран «Выполняется расчёт…» =====\n  if (isProcessing) {\n    return (\n      <div className=\"processing-screen\" style={{ backgroundImage: `url(${backgroundImage})` }}>\n        <div className=\"logo-wrapper animate-logo\">\n          <img className=\"poll-logo\" src={logoImage} alt=\"Логотип\" />\n        </div>\n        <p className=\"processing-title\">\n          Выполняется расчёт по программе «Забота о будущем»\n        </p>\n        <div className=\"arrow-animation\">→</div>\n      </div>\n    );\n  }\n\n  // ===== Экран «Отправляется запрос менеджеру…» =====\n  if (contactSending) {\n    return (\n      <div className=\"processing-screen\" style={{ backgroundImage: `url(${backgroundImage})` }}>\n        <div className=\"logo-wrapper animate-logo\">\n          <img className=\"poll-logo\" src={logoImage} alt=\"Логотип\" />\n        </div>\n        <p className=\"processing-title\">\n          Отправляются параметры расчёта менеджеру...\n        </p>\n        <div className=\"arrow-animation\">→</div>\n      </div>\n    );\n  }\n\n  // ===== Экран «Успех отправки менеджеру» =====\n  if (contactSent) {\n    const fullName = `${lastName.trim()} ${firstName.trim()} ${middleName.trim()}`;\n    return (\n      <div className=\"processing-screen\" style={{ backgroundImage: `url(${backgroundImage})` }}>\n        <div className=\"logo-wrapper animate-logo\">\n          <img className=\"poll-logo\" src={logoImage} alt=\"Логотип\" />\n        </div>\n        <p className=\"processing-title\">\n          {fullName}, наш эксперт свяжется с Вами в ближайшее время!<br/>Отличного дня, коллега!\n        </p>\n      </div>\n    );\n  }\n\n  // ===== Если resultData существует — показываем результат с каруселью или форму контакта =====\n  if (resultData) {\n    const {\n      age,               // возвращённый сервером (или рассчитываем локально)\n      gender:  resGender,\n      term:     resTerm,\n      payment:  resPayment,\n      contribution,      // сумма ежегодного взноса: rv(\"C13\")\n      totalContribution,// общая сумма взносов: rv(\"C22\")\n      accumulateLabel,   // текст из \"G13\"\n      // (начисление фиксированного дохода) пока не отображается\n    } = resultData;\n\n    // Форматирование «100000» → «100 000»\n    function fmt(number) {\n      return Number(number).toLocaleString('ru-RU', { minimumFractionDigits: 0 });\n    }\n\n    // ===== Если contactMode=true — показываем форму «Контакт менеджеру» =====\n    if (contactMode) {\n      return (\n        <div className=\"snp-container\" style={{ backgroundImage: `url(${backgroundImage})` }}>\n          <div className=\"polls-header\">\n            <button className=\"back-btn\" onClick={goHome}>\n              <svg viewBox=\"0 0 24 24\">\n                <path d=\"M3 11l9-8 9 8v10a1 1 0 0 1-1 1h-5v-7h-6v7H4a1 1 0 0 1-1-1V11z\" />\n              </svg>\n            </button>\n            <div className=\"logo-wrapper animate-logo\">\n              <img className=\"poll-logo\" src={logoImage} alt=\"Логотип\" />\n            </div>\n            <button\n              className=\"forward-btn\"\n              onClick={() => setContactMode(false)}\n            >\n              <span className=\"arrow-icon\">←</span>\n            </button>\n          </div>\n\n          <div className=\"content-wrapper\">\n            <h2 className=\"contact-title\">\n              Введите Ваши данные:\n            </h2>\n            <div className=\"contact-form\">\n              <label>Фамилия:</label>\n              <input\n                type=\"text\"\n                placeholder=\"Введите фамилию\"\n                value={lastName}\n                onChange={e => setLastName(e.target.value)}\n              />\n\n              <label>Имя:</label>\n              <input\n                type=\"text\"\n                placeholder=\"Введите имя\"\n                value={firstName}\n                onChange={e => setFirstName(e.target.value)}\n              />\n\n              <label>Отчество:</label>\n              <input\n                type=\"text\"\n                placeholder=\"Введите отчество\"\n                value={middleName}\n                onChange={e => setMiddleName(e.target.value)}\n              />\n\n              <label>Город работы:</label>\n              <input\n                type=\"text\"\n                placeholder=\"Введите город\"\n                value={workCity}\n                onChange={e => setWorkCity(e.target.value)}\n              />\n            </div>\n\n            <button\n              className=\"contact-btn\"\n              onClick={handleSendToManager}\n            >\n              Отправить запрос\n            </button>\n          </div>\n        </div>\n      );\n    }\n\n    // ===== Иначе — показываем результат (шаг 3) =====\n    return (\n      <div className=\"snp-container\" style={{ backgroundImage: `url(${backgroundImage})` }}>\n        <div className=\"polls-header\">\n          <button className=\"back-btn\" onClick={goHome}>\n            <svg viewBox=\"0 0 24 24\">\n              <path d=\"M3 11l9-8 9 8v10a1 1 0 0 1-1 1h-5v-7h-6v7H4a1 1 0 0 1-1-1V11z\" />\n            </svg>\n          </button>\n          <div className=\"logo-wrapper animate-logo\">\n            <img className=\"poll-logo\" src={logoImage} alt=\"Логотип\" />\n          </div>\n          <button\n            className=\"repeat-btn\"\n            onClick={() => {\n              setResultData(null);\n              setGender(null);\n              setCalcType(null);\n              setAmountRaw('');\n              setAmountDisplay('');\n              setAmountError('');\n              setTermYears('5');\n              setStep(2);\n              setContactMode(false);\n            }}\n          >\n            <svg viewBox=\"0 0 24 24\">\n              <path\n                d=\"M12 4V1L8 5l4 4V6\n                   c4.41 0 8 3.59 8 8\n                   s-3.59 8-8 8-8-3.59-8-8h2\n                   c0 3.31 2.69 6 6 6s6-2.69 6-6\n                   -2.69-6-6-6v3l-4-4 4-4z\"\n                fill=\"#fff\"\n              />\n            </svg>\n          </button>\n        </div>\n\n        <div className=\"content-wrapper\">\n          <h1 className=\"polls-title\">\n            Результаты расчёта по программе «Забота о будущем»\n          </h1>\n\n          <div className=\"params-container\">\n            <h2>Параметры</h2>\n            <p>Возраст: {age} лет</p>\n            <p>Пол: {resGender}</p>\n            <p>Срок: {resTerm} лет</p>\n            <p>Периодичность оплаты: ежегодно</p>\n          </div>\n\n          {/* ==== КАРУСЕЛЬ ==== */}\n          <div className=\"carousel-container\">\n            {/* Индикаторы */}\n            <div className=\"carousel-indicators\">\n              <span className={carouselIndex === 0 ? 'active' : ''}></span>\n              <span className={carouselIndex === 1 ? 'active' : ''}></span>\n              <span className={carouselIndex === 2 ? 'active' : ''}></span>\n            </div>\n\n            {/* Обрезающее окно */}\n            <div className=\"carousel-clipper\">\n              <div\n                className=\"carousel-wrapper\"\n                style={{ transform: `translateX(-${carouselIndex * 100}%)` }}\n              >\n                {/* Страница 1: пользовательский вклад */}\n                <div className=\"carousel-page\">\n                  <div className=\"first-line\">В течение {resTerm} лет</div>\n                  <div className=\"unit\">Вы вносите средства</div>\n                  <div className=\"value\">{fmt(contribution)} ₽</div>\n                  <div className=\"unit\">Ежегодно</div>\n                  <div className=\"value\">{fmt(totalContribution)} ₽</div>\n                  <div className=\"footer-label\">Сумма ваших взносов</div>\n                </div>\n\n                {/* Страница 2: «Вы накопите…» */}\n                <div className=\"carousel-page\">\n                  <div className=\"first-line\">Вы накопите</div>\n                  <div className=\"unit\">с учётом фиксированного дохода</div>\n                  <div className=\"value\">{accumulateLabel}</div>\n                  <div className=\"unit\">Сумма вычета за весь срок</div>\n                  <div className=\"value\">{fmt(resultData.totalReduction || 0)} ₽</div>\n                  {/* totalReduction соответствует ячейке C22 */}\n                  <div className=\"footer-label\"></div>\n                </div>\n\n                {/* Страница 3: «Итоговая годовая выплата» */}\n                <div className=\"carousel-page\">\n                  <div className=\"first-line\">Итоговая годовая выплата</div>\n                  <div className=\"unit\">Сумма с начислениями</div>\n                  <div className=\"value\">{fmt(resultData.finalAnnual || 0)} ₽</div>\n                  <div className=\"unit\">Сумма за {resTerm} лет</div>\n                  <div className=\"value\">{fmt(resultData.finalTotal || 0)} ₽</div>\n                  <div className=\"footer-label\">Ваш капитал через {resTerm} лет</div>\n                </div>\n              </div>\n            </div>\n\n            {/* Кнопки навигации карусели */}\n            <button\n              className=\"carousel-control prev\"\n              onClick={() => setCarouselIndex(idx => idx - 1)}\n              disabled={carouselIndex === 0}\n            >\n              ‹\n            </button>\n            <button\n              className=\"carousel-control next\"\n              onClick={() => setCarouselIndex(idx => idx + 1)}\n              disabled={carouselIndex === 2}\n            >\n              ›\n            </button>\n          </div>\n          {/* ==== конец КАРУСЕЛИ ==== */}\n\n          <button\n            className=\"contact-btn\"\n            onClick={() => setContactMode(true)}\n          >\n            Связаться с менеджером\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // ===== ОСНОВНОЙ UI (Шаг 1 и Шаг 2) =====\n  return (\n    <div className=\"snp-container\" style={{ backgroundImage:`url(${backgroundImage})` }}>\n      <div className=\"polls-header\">\n        <button className=\"back-btn\" onClick={goHome}>\n          <svg viewBox=\"0 0 24 24\">\n            <path d=\"M3 11l9-8 9 8v10a1 1 0 0 1-1 1h-5v-7h-6v7H4a1 1 0 0 1-1-1V11z\" />\n          </svg>\n        </button>\n        <div className=\"logo-wrapper animate-logo\">\n          <img className=\"poll-logo\" src={logoImage} alt=\"Логотип\" />\n        </div>\n        <button\n          className=\"forward-btn\"\n          onClick={step === 1 ? handleEmailNext : handleCalcNext}\n          disabled={step === 1 ? !emailValid : !canGoNext()}\n        >\n          <span className=\"arrow-icon\">→</span>\n        </button>\n      </div>\n\n      <div className=\"content-wrapper\">\n        {step === 1 && (\n          <>\n            {/* ==== Шаг 1: Ввод корпоративной почты ==== */}\n            <div className=\"email-step\">\n              <label className=\"email-label\">Корпоративная почта ВТБ:</label>\n              <input\n                type=\"email\"\n                inputMode=\"email\"\n                autoComplete=\"email\"\n                autoCapitalize=\"none\"\n                spellCheck=\"false\"\n                placeholder=\"name@vtb.ru\"\n                value={email}\n                onChange={e => setEmail(e.target.value)}\n              />\n            </div>\n            {emailError && <div className=\"input-error\">{emailError}</div>}\n\n            <button\n              className=\"polls-btn btn1\"\n              onClick={handleEmailNext}\n              disabled={!emailValid}\n            >\n              Продолжить\n            </button>\n          </>\n        )}\n\n        {step === 2 && (\n          <>\n            {/* ==== Шаг 2: Ввод данных пользователя ==== */}\n            <h1 className=\"polls-title\">Забота о будущем</h1>\n\n            <div className=\"date-section\">\n              <label className=\"section-label\">Дата рождения:</label>\n              <DateWheelPicker\n                value={birthDate}\n                onChange={val => {\n                  if (val instanceof Date) {\n                    setBirthDate(val);\n                  } else if (val?.day) {\n                    setBirthDate(new Date(val.year, val.month - 1, val.day));\n                  }\n                }}\n              />\n            </div>\n\n            <div className=\"section-subtitle\">Срок программы (лет):</div>\n            <select\n              className=\"term-select\"\n              value={termYears}\n              onChange={e => setTermYears(e.target.value)}\n            >\n              <option value=\"5\">5 лет</option>\n              <option value=\"10\">10 лет</option>\n              <option value=\"15\">15 лет</option>\n              <option value=\"20\">20 лет</option>\n            </select>\n\n            <div className=\"section-subtitle\">Выберите пол:</div>\n            <div className=\"gender-section\">\n              <button\n                className={`insurance-btn ${gender === 'мужской' ? 'selected' : ''}`}\n                onClick={() => setGender('мужской')}\n              >\n                <div>Мужской</div>\n                <div className=\"emoji\">👨</div>\n              </button>\n              <button\n                className={`insurance-btn ${gender === 'женский' ? 'selected' : ''}`}\n                onClick={() => setGender('женский')}\n              >\n                <div>Женский</div>\n                <div className=\"emoji\">👩</div>\n              </button>\n            </div>\n\n            <div className=\"section-subtitle\">Расчёт от…</div>\n            <div className=\"insurance-options\">\n              <button\n                className={`insurance-btn ${calcType === 'premium' ? 'selected' : ''}`}\n                onClick={() => setCalcType('premium')}\n              >\n                <div>Страхового</div>\n                <div>взноса</div>\n              </button>\n              <button\n                className={`insurance-btn ${calcType === 'sum' ? 'selected' : ''}`}\n                onClick={() => setCalcType('sum')}\n              >\n                <div>Страховой</div>\n                <div>суммы</div>\n              </button>\n            </div>\n\n            {calcType && (\n              <>\n                <div className=\"section-subtitle\">Введите сумму в рублях:</div>\n                <div className=\"sum-section\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"100.000\"\n                    value={amountDisplay}\n                    onChange={onAmountChange}\n                  />\n                </div>\n                {amountError && <div className=\"input-error\">{amountError}</div>}\n              </>\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}