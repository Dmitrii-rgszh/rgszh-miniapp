{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const IconButton=_ref=>{let{onClick,src,alt,playHoverSound}=_ref;const[hovered,setHovered]=useState(false);const[reset,setReset]=useState(false);const timerRef=useRef(null);const handleMouseEnter=()=>{setHovered(true);if(playHoverSound){playHoverSound();}// Если кнопка остается в наведении 3 секунды, запускаем сброс (reset)\ntimerRef.current=setTimeout(()=>{setReset(true);},3000);};const handleMouseLeave=()=>{setHovered(false);setReset(false);clearTimeout(timerRef.current);};useEffect(()=>{let timeout;if(reset){// После установки reset, через 1 секунду сбрасываем состояние\ntimeout=setTimeout(()=>{setReset(false);},1000);}return()=>clearTimeout(timeout);},[reset]);let className=\"tech-support-btn\";if(hovered&&!reset){className+=\" hovered\";}if(reset){className+=\" reset\";}return/*#__PURE__*/_jsx(\"button\",{className:className,onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave,onClick:onClick,children:/*#__PURE__*/_jsx(\"img\",{src:src,alt:alt,className:\"tech-support-icon\"})});};export default IconButton;","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","IconButton","_ref","onClick","src","alt","playHoverSound","hovered","setHovered","reset","setReset","timerRef","handleMouseEnter","current","setTimeout","handleMouseLeave","clearTimeout","timeout","className","onMouseEnter","onMouseLeave","children"],"sources":["C:/Users/shapeless/Desktop/miniapp/src/IconButton.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\n\r\nconst IconButton = ({ onClick, src, alt, playHoverSound }) => {\r\n  const [hovered, setHovered] = useState(false);\r\n  const [reset, setReset] = useState(false);\r\n  const timerRef = useRef(null);\r\n\r\n  const handleMouseEnter = () => {\r\n    setHovered(true);\r\n    if (playHoverSound) {\r\n      playHoverSound();\r\n    }\r\n    // Если кнопка остается в наведении 3 секунды, запускаем сброс (reset)\r\n    timerRef.current = setTimeout(() => {\r\n      setReset(true);\r\n    }, 3000);\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    setHovered(false);\r\n    setReset(false);\r\n    clearTimeout(timerRef.current);\r\n  };\r\n\r\n  useEffect(() => {\r\n    let timeout;\r\n    if (reset) {\r\n      // После установки reset, через 1 секунду сбрасываем состояние\r\n      timeout = setTimeout(() => {\r\n        setReset(false);\r\n      }, 1000);\r\n    }\r\n    return () => clearTimeout(timeout);\r\n  }, [reset]);\r\n\r\n  let className = \"tech-support-btn\";\r\n  if (hovered && !reset) {\r\n    className += \" hovered\";\r\n  }\r\n  if (reset) {\r\n    className += \" reset\";\r\n  }\r\n\r\n  return (\r\n    <button\r\n      className={className}\r\n      onMouseEnter={handleMouseEnter}\r\n      onMouseLeave={handleMouseLeave}\r\n      onClick={onClick}\r\n    >\r\n      <img src={src} alt={alt} className=\"tech-support-icon\" />\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default IconButton;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE3D,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAA2C,IAA1C,CAAEC,OAAO,CAAEC,GAAG,CAAEC,GAAG,CAAEC,cAAe,CAAC,CAAAJ,IAAA,CACvD,KAAM,CAACK,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CACzC,KAAM,CAAAe,QAAQ,CAAGb,MAAM,CAAC,IAAI,CAAC,CAE7B,KAAM,CAAAc,gBAAgB,CAAGA,CAAA,GAAM,CAC7BJ,UAAU,CAAC,IAAI,CAAC,CAChB,GAAIF,cAAc,CAAE,CAClBA,cAAc,CAAC,CAAC,CAClB,CACA;AACAK,QAAQ,CAACE,OAAO,CAAGC,UAAU,CAAC,IAAM,CAClCJ,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAC,CAAE,IAAI,CAAC,CACV,CAAC,CAED,KAAM,CAAAK,gBAAgB,CAAGA,CAAA,GAAM,CAC7BP,UAAU,CAAC,KAAK,CAAC,CACjBE,QAAQ,CAAC,KAAK,CAAC,CACfM,YAAY,CAACL,QAAQ,CAACE,OAAO,CAAC,CAChC,CAAC,CAEDhB,SAAS,CAAC,IAAM,CACd,GAAI,CAAAoB,OAAO,CACX,GAAIR,KAAK,CAAE,CACT;AACAQ,OAAO,CAAGH,UAAU,CAAC,IAAM,CACzBJ,QAAQ,CAAC,KAAK,CAAC,CACjB,CAAC,CAAE,IAAI,CAAC,CACV,CACA,MAAO,IAAMM,YAAY,CAACC,OAAO,CAAC,CACpC,CAAC,CAAE,CAACR,KAAK,CAAC,CAAC,CAEX,GAAI,CAAAS,SAAS,CAAG,kBAAkB,CAClC,GAAIX,OAAO,EAAI,CAACE,KAAK,CAAE,CACrBS,SAAS,EAAI,UAAU,CACzB,CACA,GAAIT,KAAK,CAAE,CACTS,SAAS,EAAI,QAAQ,CACvB,CAEA,mBACElB,IAAA,WACEkB,SAAS,CAAEA,SAAU,CACrBC,YAAY,CAAEP,gBAAiB,CAC/BQ,YAAY,CAAEL,gBAAiB,CAC/BZ,OAAO,CAAEA,OAAQ,CAAAkB,QAAA,cAEjBrB,IAAA,QAAKI,GAAG,CAAEA,GAAI,CAACC,GAAG,CAAEA,GAAI,CAACa,SAAS,CAAC,mBAAmB,CAAE,CAAC,CACnD,CAAC,CAEb,CAAC,CAED,cAAe,CAAAjB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}