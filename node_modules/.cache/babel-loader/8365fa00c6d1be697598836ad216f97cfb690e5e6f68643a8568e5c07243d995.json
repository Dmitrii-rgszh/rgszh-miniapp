{"ast":null,"code":"// src/WelcomePage.js\nimport React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{useSwipeable}from'react-swipeable';import{motion,AnimatePresence}from'framer-motion';import backgroundImage from'./components/background.png';import'./WelcomePage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WelcomePage=()=>{const navigate=useNavigate();/* а) Логические состояния для рамки */// animateLogo = true → запускает entry-анимацию (.animate-logo)\n// exitLogo    = true → запускает exit-анимацию (.animate-logo-exit)\nconst[animateLogo,setAnimateLogo]=useState(false);const[exitLogo,setExitLogo]=useState(false);/* б) Логическое состояние для текста (Framer Motion) */// showText = true → текст монтируется → играет анимация slide-in\n// showText = false → играет анимация slide-out → размонтируется\nconst[showText,setShowText]=useState(false);/* в) Текст-приветствие («Доброе утро/день/вечер/ночи») */const[greeting,setGreeting]=useState('');useEffect(()=>{// 1) Определяем текст согласно времени суток\nconst hour=new Date().getHours();let text='';if(hour>=6&&hour<11)text='Доброе утро';else if(hour>=11&&hour<17)text='Добрый день';else if(hour>=17&&hour<24)text='Добрый вечер';else text='Доброй ночи';setGreeting(text);// 2) Приводим рамку к entry-состоянию через 100ms\nconst logoEntryTimer=setTimeout(()=>setAnimateLogo(true),100);// 3) Запускаем анимацию текста (slide-in) через 900ms\nconst textInTimer=setTimeout(()=>setShowText(true),900);// 4) Скрываем текст (slide-out) через 3500ms\nconst textOutTimer=setTimeout(()=>setShowText(false),3500);// 5) Запускаем анимацию рамки exit через 4000ms (после того, как текст уехал)\nconst logoExitTimer=setTimeout(()=>setExitLogo(true),4000);// 6) Переходим на /main-menu через 4800ms (когда рамка уже уехала)\nconst navTimer=setTimeout(()=>navigate('/main-menu'),4800);return()=>{clearTimeout(logoEntryTimer);clearTimeout(textInTimer);clearTimeout(textOutTimer);clearTimeout(logoExitTimer);clearTimeout(navTimer);};},[navigate]);const swipeHandlers=useSwipeable({preventDefault:true});// Строим класс для рамки:\n//  • если animateLogo = true → добавляем .animate-logo\n//  • если exitLogo    = true → добавляем .animate-logo-exit\nlet logoClass='logo-wrapper';if(animateLogo)logoClass+=' animate-logo';if(exitLogo)logoClass+=' animate-logo-exit';return/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-container\",style:{backgroundImage:`url(${backgroundImage})`},...swipeHandlers,children:[/*#__PURE__*/_jsx(\"div\",{className:logoClass,children:/*#__PURE__*/_jsx(\"img\",{className:\"logo-image\",src:require('./components/logo.png'),alt:\"\\u041B\\u043E\\u0433\\u043E\\u0442\\u0438\\u043F \\u0420\\u0413\\u0421 \\u0416\\u0438\\u0437\\u043D\\u044C\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-wrapper\",children:/*#__PURE__*/_jsx(AnimatePresence,{children:showText&&/*#__PURE__*/_jsx(motion.h1,{className:\"welcome-title\",initial:{x:'-100%',opacity:0},animate:{x:0,opacity:1},exit:{x:'100%',opacity:0},transition:{duration:0.8,ease:'easeOut'},children:greeting})})})]});};export default WelcomePage;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useSwipeable","motion","AnimatePresence","backgroundImage","jsx","_jsx","jsxs","_jsxs","WelcomePage","navigate","animateLogo","setAnimateLogo","exitLogo","setExitLogo","showText","setShowText","greeting","setGreeting","hour","Date","getHours","text","logoEntryTimer","setTimeout","textInTimer","textOutTimer","logoExitTimer","navTimer","clearTimeout","swipeHandlers","preventDefault","logoClass","className","style","children","src","require","alt","h1","initial","x","opacity","animate","exit","transition","duration","ease"],"sources":["C:/Users/shapeless/Desktop/miniapp/src/WelcomePage.js"],"sourcesContent":["// src/WelcomePage.js\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useNavigate }              from 'react-router-dom';\r\nimport { useSwipeable }             from 'react-swipeable';\r\nimport { motion, AnimatePresence }  from 'framer-motion';\r\n\r\nimport backgroundImage from './components/background.png';\r\nimport './WelcomePage.css';\r\n\r\nconst WelcomePage = () => {\r\n  const navigate = useNavigate();\r\n\r\n  /* а) Логические состояния для рамки */\r\n  // animateLogo = true → запускает entry-анимацию (.animate-logo)\r\n  // exitLogo    = true → запускает exit-анимацию (.animate-logo-exit)\r\n  const [animateLogo, setAnimateLogo] = useState(false);\r\n  const [exitLogo, setExitLogo]       = useState(false);\r\n\r\n  /* б) Логическое состояние для текста (Framer Motion) */\r\n  // showText = true → текст монтируется → играет анимация slide-in\r\n  // showText = false → играет анимация slide-out → размонтируется\r\n  const [showText, setShowText]       = useState(false);\r\n\r\n  /* в) Текст-приветствие («Доброе утро/день/вечер/ночи») */\r\n  const [greeting, setGreeting]       = useState('');\r\n\r\n  useEffect(() => {\r\n    // 1) Определяем текст согласно времени суток\r\n    const hour = new Date().getHours();\r\n    let text = '';\r\n    if (hour >= 6 && hour < 11)       text = 'Доброе утро';\r\n    else if (hour >= 11 && hour < 17) text = 'Добрый день';\r\n    else if (hour >= 17 && hour < 24) text = 'Добрый вечер';\r\n    else                               text = 'Доброй ночи';\r\n    setGreeting(text);\r\n\r\n    // 2) Приводим рамку к entry-состоянию через 100ms\r\n    const logoEntryTimer = setTimeout(() => setAnimateLogo(true), 100);\r\n\r\n    // 3) Запускаем анимацию текста (slide-in) через 900ms\r\n    const textInTimer = setTimeout(() => setShowText(true), 900);\r\n\r\n    // 4) Скрываем текст (slide-out) через 3500ms\r\n    const textOutTimer = setTimeout(() => setShowText(false), 3500);\r\n\r\n    // 5) Запускаем анимацию рамки exit через 4000ms (после того, как текст уехал)\r\n    const logoExitTimer = setTimeout(() => setExitLogo(true), 4000);\r\n\r\n    // 6) Переходим на /main-menu через 4800ms (когда рамка уже уехала)\r\n    const navTimer = setTimeout(() => navigate('/main-menu'), 4800);\r\n\r\n    return () => {\r\n      clearTimeout(logoEntryTimer);\r\n      clearTimeout(textInTimer);\r\n      clearTimeout(textOutTimer);\r\n      clearTimeout(logoExitTimer);\r\n      clearTimeout(navTimer);\r\n    };\r\n  }, [navigate]);\r\n\r\n  const swipeHandlers = useSwipeable({ preventDefault: true });\r\n\r\n  // Строим класс для рамки:\r\n  //  • если animateLogo = true → добавляем .animate-logo\r\n  //  • если exitLogo    = true → добавляем .animate-logo-exit\r\n  let logoClass = 'logo-wrapper';\r\n  if (animateLogo)      logoClass += ' animate-logo';\r\n  if (exitLogo)         logoClass += ' animate-logo-exit';\r\n\r\n  return (\r\n    <div\r\n      className=\"welcome-container\"\r\n      style={{ backgroundImage: `url(${backgroundImage})` }}\r\n      {...swipeHandlers}\r\n    >\r\n      {/* ===== Рамка с логотипом ===== */}\r\n      <div className={logoClass}>\r\n        <img\r\n          className=\"logo-image\"\r\n          src={require('./components/logo.png')}\r\n          alt=\"Логотип РГС Жизнь\"\r\n        />\r\n      </div>\r\n\r\n      {/* ===== Текст (Framer Motion) ===== */}\r\n      <div className=\"text-wrapper\">\r\n        <AnimatePresence>\r\n          {showText && (\r\n            <motion.h1\r\n              className=\"welcome-title\"\r\n              initial={{ x: '-100%', opacity: 0 }}\r\n              animate={{ x: 0,       opacity: 1 }}\r\n              exit={{ x: '100%',     opacity: 0 }}\r\n              transition={{ duration: 0.8, ease: 'easeOut' }}\r\n            >\r\n              {greeting}\r\n            </motion.h1>\r\n          )}\r\n        </AnimatePresence>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WelcomePage;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}